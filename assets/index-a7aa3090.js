var Uy=Object.defineProperty;var By=(e,t,n)=>t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gy=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Cn=(e,t,n)=>(By(e,typeof t!="symbol"?t+"":t,n),n);var V4=Gy((Br,xr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fc(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const kn={},za=[],Ur=()=>{},jy=()=>!1,du=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dc=e=>e.startsWith("onUpdate:"),mr=Object.assign,hc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Hy=Object.prototype.hasOwnProperty,gn=(e,t)=>Hy.call(e,t),zt=Array.isArray,Ka=e=>hu(e)==="[object Map]",wh=e=>hu(e)==="[object Set]",Jt=e=>typeof e=="function",sr=e=>typeof e=="string",La=e=>typeof e=="symbol",Un=e=>e!==null&&typeof e=="object",Rh=e=>(Un(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),Ch=Object.prototype.toString,hu=e=>Ch.call(e),Vy=e=>hu(e).slice(8,-1),Mh=e=>hu(e)==="[object Object]",pc=e=>sr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ko=fc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qy=/-(\w)/g,mi=pu(e=>e.replace(qy,(t,n)=>n?n.toUpperCase():"")),Yy=/\B([A-Z])/g,oo=pu(e=>e.replace(Yy,"-$1").toLowerCase()),mu=pu(e=>e.charAt(0).toUpperCase()+e.slice(1)),el=pu(e=>e?`on${mu(e)}`:""),Xi=(e,t)=>!Object.is(e,t),ks=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Nh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ml=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let vf;const mc=()=>vf||(vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function as(e){if(zt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=sr(r)?Ky(r):as(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(sr(e)||Un(e))return e}const $y=/;(?![^(]*\))/g,Wy=/:([^]+)/,zy=/\/\*[^]*?\*\//g;function Ky(e){const t={};return e.replace(zy,"").split($y).forEach(n=>{if(n){const r=n.split(Wy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function lr(e){let t="";if(sr(e))t=e;else if(zt(e))for(let n=0;n<e.length;n++){const r=lr(e[n]);r&&(t+=r+" ")}else if(Un(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Xy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qy=fc(Xy);function Oh(e){return!!e||e===""}const Wt=e=>sr(e)?e:e==null?"":zt(e)||Un(e)&&(e.toString===Ch||!Jt(e.toString))?JSON.stringify(e,Dh,2):String(e),Dh=(e,t)=>t&&t.__v_isRef?Dh(e,t.value):Ka(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[tl(r,o)+" =>"]=i,n),{})}:wh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>tl(n))}:La(t)?tl(t):Un(t)&&!zt(t)&&!Mh(t)?String(t):t,tl=(e,t="")=>{var n;return La(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kr;class Zy{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kr,!t&&kr&&(this.index=(kr.scopes||(kr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=kr;try{return kr=this,t()}finally{kr=n}}}on(){kr=this}off(){kr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Jy(e,t=kr){t&&t.active&&t.effects.push(e)}function Ph(){return kr}function e_(e){kr&&kr.cleanups.push(e)}let wa;class gc{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Jy(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ea();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(t_(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ta()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Wi,n=wa;try{return Wi=!0,wa=this,this._runnings++,Ef(this),this.fn()}finally{bf(this),this._runnings--,wa=n,Wi=t}}stop(){var t;this.active&&(Ef(this),bf(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function t_(e){return e.value}function Ef(e){e._trackId++,e._depsLength=0}function bf(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Lh(e.deps[t],e);e.deps.length=e._depsLength}}function Lh(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Wi=!0,Nl=0;const xh=[];function ea(){xh.push(Wi),Wi=!1}function ta(){const e=xh.pop();Wi=e===void 0?!0:e}function yc(){Nl++}function _c(){for(Nl--;!Nl&&Ol.length;)Ol.shift()()}function Fh(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Lh(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Ol=[];function kh(e,t,n){yc();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ol.push(r.scheduler)))}_c()}const Uh=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Ys=new WeakMap,Ra=Symbol(""),Dl=Symbol("");function Fr(e,t,n){if(Wi&&wa){let r=Ys.get(e);r||Ys.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Uh(()=>r.delete(n))),Fh(wa,i)}}function Ai(e,t,n,r,i,o){const u=Ys.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&zt(e)){const f=Number(r);u.forEach((d,m)=>{(m==="length"||!La(m)&&m>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":zt(e)?pc(n)&&l.push(u.get("length")):(l.push(u.get(Ra)),Ka(e)&&l.push(u.get(Dl)));break;case"delete":zt(e)||(l.push(u.get(Ra)),Ka(e)&&l.push(u.get(Dl)));break;case"set":Ka(e)&&l.push(u.get(Ra));break}yc();for(const f of l)f&&kh(f,4);_c()}function n_(e,t){var n;return(n=Ys.get(e))==null?void 0:n.get(t)}const r_=fc("__proto__,__v_isRef,__isVue"),Bh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(La)),Af=i_();function i_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=vn(this);for(let o=0,u=this.length;o<u;o++)Fr(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(vn)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ea(),yc();const r=vn(this)[t].apply(this,n);return _c(),ta(),r}}),e}function a_(e){La(e)||(e=String(e));const t=vn(this);return Fr(t,"has",e),t.hasOwnProperty(e)}class Gh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?__:qh:o?Vh:Hh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const u=zt(t);if(!i){if(u&&gn(Af,n))return Reflect.get(Af,n,r);if(n==="hasOwnProperty")return a_}const l=Reflect.get(t,n,r);return(La(n)?Bh.has(n):r_(n))||(i||Fr(t,"get",n),o)?l:gr(l)?u&&pc(n)?l:l.value:Un(l)?i?$h(l):Ma(l):l}}class jh extends Gh{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const f=Xo(o);if(!$s(r)&&!Xo(r)&&(o=vn(o),r=vn(r)),!zt(t)&&gr(o)&&!gr(r))return f?!1:(o.value=r,!0)}const u=zt(t)&&pc(n)?Number(n)<t.length:gn(t,n),l=Reflect.set(t,n,r,i);return t===vn(i)&&(u?Xi(r,o)&&Ai(t,"set",n,r):Ai(t,"add",n,r)),l}deleteProperty(t,n){const r=gn(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ai(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!La(n)||!Bh.has(n))&&Fr(t,"has",n),r}ownKeys(t){return Fr(t,"iterate",zt(t)?"length":Ra),Reflect.ownKeys(t)}}class o_ extends Gh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const s_=new jh,u_=new o_,l_=new jh(!0),Tc=e=>e,gu=e=>Reflect.getPrototypeOf(e);function bs(e,t,n=!1,r=!1){e=e.__v_raw;const i=vn(e),o=vn(t);n||(Xi(t,o)&&Fr(i,"get",t),Fr(i,"get",o));const{has:u}=gu(i),l=r?Tc:n?bc:Qo;if(u.call(i,t))return l(e.get(t));if(u.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function As(e,t=!1){const n=this.__v_raw,r=vn(n),i=vn(e);return t||(Xi(e,i)&&Fr(r,"has",e),Fr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ss(e,t=!1){return e=e.__v_raw,!t&&Fr(vn(e),"iterate",Ra),Reflect.get(e,"size",e)}function Sf(e){e=vn(e);const t=vn(this);return gu(t).has.call(t,e)||(t.add(e),Ai(t,"add",e,e)),this}function If(e,t){t=vn(t);const n=vn(this),{has:r,get:i}=gu(n);let o=r.call(n,e);o||(e=vn(e),o=r.call(n,e));const u=i.call(n,e);return n.set(e,t),o?Xi(t,u)&&Ai(n,"set",e,t):Ai(n,"add",e,t),this}function wf(e){const t=vn(this),{has:n,get:r}=gu(t);let i=n.call(t,e);i||(e=vn(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Ai(t,"delete",e,void 0),o}function Rf(){const e=vn(this),t=e.size!==0,n=e.clear();return t&&Ai(e,"clear",void 0,void 0),n}function Is(e,t){return function(r,i){const o=this,u=o.__v_raw,l=vn(u),f=t?Tc:e?bc:Qo;return!e&&Fr(l,"iterate",Ra),u.forEach((d,m)=>r.call(i,f(d),f(m),o))}}function ws(e,t,n){return function(...r){const i=this.__v_raw,o=vn(i),u=Ka(o),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=i[e](...r),m=n?Tc:t?bc:Qo;return!t&&Fr(o,"iterate",f?Dl:Ra),{next(){const{value:c,done:p}=d.next();return p?{value:c,done:p}:{value:l?[m(c[0]),m(c[1])]:m(c),done:p}},[Symbol.iterator](){return this}}}}function ki(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function c_(){const e={get(o){return bs(this,o)},get size(){return Ss(this)},has:As,add:Sf,set:If,delete:wf,clear:Rf,forEach:Is(!1,!1)},t={get(o){return bs(this,o,!1,!0)},get size(){return Ss(this)},has:As,add:Sf,set:If,delete:wf,clear:Rf,forEach:Is(!1,!0)},n={get(o){return bs(this,o,!0)},get size(){return Ss(this,!0)},has(o){return As.call(this,o,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Is(!0,!1)},r={get(o){return bs(this,o,!0,!0)},get size(){return Ss(this,!0)},has(o){return As.call(this,o,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ws(o,!1,!1),n[o]=ws(o,!0,!1),t[o]=ws(o,!1,!0),r[o]=ws(o,!0,!0)}),[e,n,t,r]}const[f_,d_,h_,p_]=c_();function vc(e,t){const n=t?e?p_:h_:e?d_:f_;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(gn(n,i)&&i in r?n:r,i,o)}const m_={get:vc(!1,!1)},g_={get:vc(!1,!0)},y_={get:vc(!0,!1)},Hh=new WeakMap,Vh=new WeakMap,qh=new WeakMap,__=new WeakMap;function T_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v_(e){return e.__v_skip||!Object.isExtensible(e)?0:T_(Vy(e))}function Ma(e){return Xo(e)?e:Ec(e,!1,s_,m_,Hh)}function Yh(e){return Ec(e,!1,l_,g_,Vh)}function $h(e){return Ec(e,!0,u_,y_,qh)}function Ec(e,t,n,r,i){if(!Un(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const u=v_(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return i.set(e,l),l}function Uo(e){return Xo(e)?Uo(e.__v_raw):!!(e&&e.__v_isReactive)}function Xo(e){return!!(e&&e.__v_isReadonly)}function $s(e){return!!(e&&e.__v_isShallow)}function Wh(e){return e?!!e.__v_raw:!1}function vn(e){const t=e&&e.__v_raw;return t?vn(t):e}function E_(e){return Object.isExtensible(e)&&Nh(e,"__v_skip",!0),e}const Qo=e=>Un(e)?Ma(e):e,bc=e=>Un(e)?$h(e):e;class zh{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new gc(()=>t(this._value),()=>Us(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=vn(this);return(!t._cacheable||t.effect.dirty)&&Xi(t._value,t._value=t.effect.run())&&Us(t,4),Kh(t),t.effect._dirtyLevel>=2&&Us(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function b_(e,t,n=!1){let r,i;const o=Jt(e);return o?(r=e,i=Ur):(r=e.get,i=e.set),new zh(r,i,o||!i,n)}function Kh(e){var t;Wi&&wa&&(e=vn(e),Fh(wa,(t=e.dep)!=null?t:e.dep=Uh(()=>e.dep=void 0,e instanceof zh?e:void 0)))}function Us(e,t=4,n){e=vn(e);const r=e.dep;r&&kh(r,t)}function gr(e){return!!(e&&e.__v_isRef===!0)}function jt(e){return Xh(e,!1)}function A_(e){return Xh(e,!0)}function Xh(e,t){return gr(e)?e:new S_(e,t)}class S_{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:vn(t),this._value=n?t:Qo(t)}get value(){return Kh(this),this._value}set value(t){const n=this.__v_isShallow||$s(t)||Xo(t);t=n?t:vn(t),Xi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Qo(t),Us(this,4))}}function Si(e){return gr(e)?e.value:e}const I_={get:(e,t,n)=>Si(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return gr(i)&&!gr(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Qh(e){return Uo(e)?e:new Proxy(e,I_)}function so(e){const t=zt(e)?new Array(e.length):{};for(const n in e)t[n]=Zh(e,n);return t}class w_{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return n_(vn(this._object),this._key)}}class R_{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function jr(e,t,n){return gr(e)?e:Jt(e)?new R_(e):Un(e)&&arguments.length>1?Zh(e,t,n):jt(e)}function Zh(e,t,n){const r=e[t];return gr(r)?r:new w_(e,t,n)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zi(e,t,n,r){try{return r?e(...r):e()}catch(i){yu(i,t,n)}}function ii(e,t,n,r){if(Jt(e)){const i=zi(e,t,n,r);return i&&Rh(i)&&i.catch(o=>{yu(o,t,n)}),i}if(zt(e)){const i=[];for(let o=0;o<e.length;o++)i.push(ii(e[o],t,n,r));return i}}function yu(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const u=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,l)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){ea(),zi(f,null,10,[e,u,l]),ta();return}}C_(e,n,i,r)}function C_(e,t,n,r=!0){console.error(e)}let Zo=!1,Pl=!1;const Tr=[];let pi=0;const Xa=[];let ji=null,Ea=0;const Jh=Promise.resolve();let Ac=null;function Sc(e){const t=Ac||Jh;return e?t.then(this?e.bind(this):e):t}function M_(e){let t=pi+1,n=Tr.length;for(;t<n;){const r=t+n>>>1,i=Tr[r],o=Jo(i);o<e||o===e&&i.pre?t=r+1:n=r}return t}function Ic(e){(!Tr.length||!Tr.includes(e,Zo&&e.allowRecurse?pi+1:pi))&&(e.id==null?Tr.push(e):Tr.splice(M_(e.id),0,e),ep())}function ep(){!Zo&&!Pl&&(Pl=!0,Ac=Jh.then(np))}function N_(e){const t=Tr.indexOf(e);t>pi&&Tr.splice(t,1)}function O_(e){zt(e)?Xa.push(...e):(!ji||!ji.includes(e,e.allowRecurse?Ea+1:Ea))&&Xa.push(e),ep()}function Cf(e,t,n=Zo?pi+1:0){for(;n<Tr.length;n++){const r=Tr[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Tr.splice(n,1),n--,r()}}}function tp(e){if(Xa.length){const t=[...new Set(Xa)].sort((n,r)=>Jo(n)-Jo(r));if(Xa.length=0,ji){ji.push(...t);return}for(ji=t,Ea=0;Ea<ji.length;Ea++)ji[Ea]();ji=null,Ea=0}}const Jo=e=>e.id==null?1/0:e.id,D_=(e,t)=>{const n=Jo(e)-Jo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function np(e){Pl=!1,Zo=!0,Tr.sort(D_);const t=Ur;try{for(pi=0;pi<Tr.length;pi++){const n=Tr[pi];n&&n.active!==!1&&zi(n,null,14)}}finally{pi=0,Tr.length=0,tp(),Zo=!1,Ac=null,(Tr.length||Xa.length)&&np()}}function P_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||kn;let i=n;const o=t.startsWith("update:"),u=o&&t.slice(7);if(u&&u in r){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:c,trim:p}=r[m]||kn;p&&(i=n.map(T=>sr(T)?T.trim():T)),c&&(i=n.map(Ml))}let l,f=r[l=el(t)]||r[l=el(mi(t))];!f&&o&&(f=r[l=el(oo(t))]),f&&ii(f,e,6,i);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ii(d,e,6,i)}}function rp(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let u={},l=!1;if(!Jt(e)){const f=d=>{const m=rp(d,t,!0);m&&(l=!0,mr(u,m))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!o&&!l?(Un(e)&&r.set(e,null),null):(zt(o)?o.forEach(f=>u[f]=null):mr(u,o),Un(e)&&r.set(e,u),u)}function _u(e,t){return!e||!du(t)?!1:(t=t.slice(2).replace(/Once$/,""),gn(e,t[0].toLowerCase()+t.slice(1))||gn(e,oo(t))||gn(e,t))}let or=null,Tu=null;function Ws(e){const t=or;return or=e,Tu=e&&e.type.__scopeId||null,t}function fr(e){Tu=e}function dr(){Tu=null}function qt(e,t=or,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Bf(-1);const o=Ws(t);let u;try{u=e(...i)}finally{Ws(o),r._d&&Bf(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function nl(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[u],slots:l,attrs:f,emit:d,render:m,renderCache:c,data:p,setupState:T,ctx:g,inheritAttrs:D}=e;let v,w;const A=Ws(e);try{if(n.shapeFlag&4){const H=i||r,S=H;v=hi(m.call(S,H,c,o,T,p,g)),w=f}else{const H=t;v=hi(H.length>1?H(o,{attrs:f,slots:l,emit:d}):H(o,null)),w=t.props?f:L_(f)}}catch(H){Vo.length=0,yu(H,e,1),v=Ft(Qi)}let N=v;if(w&&D!==!1){const H=Object.keys(w),{shapeFlag:S}=N;H.length&&S&7&&(u&&H.some(dc)&&(w=x_(w,u)),N=Ja(N,w))}return n.dirs&&(N=Ja(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),v=N,Ws(A),v}const L_=e=>{let t;for(const n in e)(n==="class"||n==="style"||du(n))&&((t||(t={}))[n]=e[n]);return t},x_=(e,t)=>{const n={};for(const r in e)(!dc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function F_(e,t,n){const{props:r,children:i,component:o}=e,{props:u,children:l,patchFlag:f}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Mf(r,u,d):!!u;if(f&8){const m=t.dynamicProps;for(let c=0;c<m.length;c++){const p=m[c];if(u[p]!==r[p]&&!_u(d,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?Mf(r,u,d):!0:!!u;return!1}function Mf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!_u(n,o))return!0}return!1}function k_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ip="components";function Kt(e,t){return B_(ip,e,!0,t)||e}const U_=Symbol.for("v-ndc");function B_(e,t,n=!0,r=!1){const i=or||hr;if(i){const o=i.type;if(e===ip){const l=LT(o,!1);if(l&&(l===t||l===mi(t)||l===mu(mi(t))))return o}const u=Nf(i[e]||o[e],t)||Nf(i.appContext[e],t);return!u&&r?o:u}}function Nf(e,t){return e&&(e[t]||e[mi(t)]||e[mu(mi(t))])}const G_=e=>e.__isSuspense;function j_(e,t){t&&t.pendingBranch?zt(e)?t.effects.push(...e):t.effects.push(e):O_(e)}const H_=Symbol.for("v-scx"),V_=()=>Kn(H_),Rs={};function Ki(e,t,n){return ap(e,t,n)}function ap(e,t,{immediate:n,deep:r,flush:i,once:o,onTrack:u,onTrigger:l}=kn){if(t&&o){const M=t;t=(...F)=>{M(...F),S()}}const f=hr,d=M=>r===!0?M:Sa(M,r===!1?1:void 0);let m,c=!1,p=!1;if(gr(e)?(m=()=>e.value,c=$s(e)):Uo(e)?(m=()=>d(e),c=!0):zt(e)?(p=!0,c=e.some(M=>Uo(M)||$s(M)),m=()=>e.map(M=>{if(gr(M))return M.value;if(Uo(M))return d(M);if(Jt(M))return zi(M,f,2)})):Jt(e)?t?m=()=>zi(e,f,2):m=()=>(T&&T(),ii(e,f,3,[g])):m=Ur,t&&r){const M=m;m=()=>Sa(M())}let T,g=M=>{T=N.onStop=()=>{zi(M,f,4),T=N.onStop=void 0}},D;if(bu)if(g=Ur,t?n&&ii(t,f,3,[m(),p?[]:void 0,g]):m(),i==="sync"){const M=V_();D=M.__watcherHandles||(M.__watcherHandles=[])}else return Ur;let v=p?new Array(e.length).fill(Rs):Rs;const w=()=>{if(!(!N.active||!N.dirty))if(t){const M=N.run();(r||c||(p?M.some((F,ie)=>Xi(F,v[ie])):Xi(M,v)))&&(T&&T(),ii(t,f,3,[M,v===Rs?void 0:p&&v[0]===Rs?[]:v,g]),v=M)}else N.run()};w.allowRecurse=!!t;let A;i==="sync"?A=w:i==="post"?A=()=>Lr(w,f&&f.suspense):(w.pre=!0,f&&(w.id=f.uid),A=()=>Ic(w));const N=new gc(m,Ur,A),H=Ph(),S=()=>{N.stop(),H&&hc(H.effects,N)};return t?n?w():v=N.run():i==="post"?Lr(N.run.bind(N),f&&f.suspense):N.run(),D&&D.push(S),S}function q_(e,t,n){const r=this.proxy,i=sr(e)?e.includes(".")?op(r,e):()=>r[e]:e.bind(r,r);let o;Jt(t)?o=t:(o=t.handler,n=t);const u=os(this),l=ap(i,o.bind(r),n);return u(),l}function op(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Sa(e,t,n=0,r){if(!Un(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),gr(e))Sa(e.value,t,n,r);else if(zt(e))for(let i=0;i<e.length;i++)Sa(e[i],t,n,r);else if(wh(e)||Ka(e))e.forEach(i=>{Sa(i,t,n,r)});else if(Mh(e))for(const i in e)Sa(e[i],t,n,r);return e}function Ii(e,t){if(or===null)return e;const n=Au(or)||or.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,u,l,f=kn]=t[i];o&&(Jt(o)&&(o={mounted:o,updated:o}),o.deep&&Sa(u),r.push({dir:o,instance:n,value:u,oldValue:void 0,arg:l,modifiers:f}))}return e}function ga(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let u=0;u<i.length;u++){const l=i[u];o&&(l.oldValue=o[u].value);let f=l.dir[r];f&&(ea(),ii(f,n,8,[e.el,l,e,t]),ta())}}/*! #__NO_SIDE_EFFECTS__ */function nn(e,t){return Jt(e)?(()=>mr({name:e.name},t,{setup:e}))():e}const Bo=e=>!!e.type.__asyncLoader,sp=e=>e.type.__isKeepAlive;function Y_(e,t){up(e,"a",t)}function $_(e,t){up(e,"da",t)}function up(e,t,n=hr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(vu(t,r,n),n){let i=n.parent;for(;i&&i.parent;)sp(i.parent.vnode)&&W_(r,t,n,i),i=i.parent}}function W_(e,t,n,r){const i=vu(t,e,r,!0);lp(()=>{hc(r[t],i)},n)}function vu(e,t,n=hr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;ea();const l=os(n),f=ii(t,n,e,u);return l(),ta(),f});return r?i.unshift(o):i.push(o),o}}const Ri=e=>(t,n=hr)=>(!bu||e==="sp")&&vu(e,(...r)=>t(...r),n),z_=Ri("bm"),xa=Ri("m"),K_=Ri("bu"),X_=Ri("u"),Q_=Ri("bum"),lp=Ri("um"),Z_=Ri("sp"),J_=Ri("rtg"),eT=Ri("rtc");function tT(e,t=hr){vu("ec",e,t)}function zr(e,t,n,r){let i;const o=n&&n[r];if(zt(e)||sr(e)){i=new Array(e.length);for(let u=0,l=e.length;u<l;u++)i[u]=t(e[u],u,void 0,o&&o[u])}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,o&&o[u])}else if(Un(e))if(e[Symbol.iterator])i=Array.from(e,(u,l)=>t(u,l,void 0,o&&o[l]));else{const u=Object.keys(e);i=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const d=u[l];i[l]=t(e[d],d,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function ai(e,t,n={},r,i){if(or.isCE||or.parent&&Bo(or.parent)&&or.parent.isCE)return t!=="default"&&(n.name=t),Ft("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),dt();const u=o&&cp(o(n)),l=Er(xn,{key:n.key||u&&u.key||`_${t}`},u||(r?r():[]),u&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function cp(e){return e.some(t=>Ks(t)?!(t.type===Qi||t.type===xn&&!cp(t.children)):!0)?e:null}const Ll=e=>e?Sp(e)?Au(e)||e.proxy:Ll(e.parent):null,Go=mr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ll(e.parent),$root:e=>Ll(e.root),$emit:e=>e.emit,$options:e=>wc(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ic(e.update)}),$nextTick:e=>e.n||(e.n=Sc.bind(e.proxy)),$watch:e=>q_.bind(e)}),rl=(e,t)=>e!==kn&&!e.__isScriptSetup&&gn(e,t),nT={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:u,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const T=u[t];if(T!==void 0)switch(T){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(rl(r,t))return u[t]=1,r[t];if(i!==kn&&gn(i,t))return u[t]=2,i[t];if((d=e.propsOptions[0])&&gn(d,t))return u[t]=3,o[t];if(n!==kn&&gn(n,t))return u[t]=4,n[t];xl&&(u[t]=0)}}const m=Go[t];let c,p;if(m)return t==="$attrs"&&Fr(e.attrs,"get",""),m(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==kn&&gn(n,t))return u[t]=4,n[t];if(p=f.config.globalProperties,gn(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return rl(i,t)?(i[t]=n,!0):r!==kn&&gn(r,t)?(r[t]=n,!0):gn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},u){let l;return!!n[u]||e!==kn&&gn(e,u)||rl(t,u)||(l=o[0])&&gn(l,u)||gn(r,u)||gn(Go,u)||gn(i.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:gn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Of(e){return zt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let xl=!0;function rT(e){const t=wc(e),n=e.proxy,r=e.ctx;xl=!1,t.beforeCreate&&Df(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:u,watch:l,provide:f,inject:d,created:m,beforeMount:c,mounted:p,beforeUpdate:T,updated:g,activated:D,deactivated:v,beforeDestroy:w,beforeUnmount:A,destroyed:N,unmounted:H,render:S,renderTracked:M,renderTriggered:F,errorCaptured:ie,serverPrefetch:Ee,expose:Be,inheritAttrs:Le,components:X,directives:P,filters:J}=t;if(d&&iT(d,r,null),u)for(const ve in u){const Ge=u[ve];Jt(Ge)&&(r[ve]=Ge.bind(n))}if(i){const ve=i.call(n,n);Un(ve)&&(e.data=Ma(ve))}if(xl=!0,o)for(const ve in o){const Ge=o[ve],Ke=Jt(Ge)?Ge.bind(n,n):Jt(Ge.get)?Ge.get.bind(n,n):Ur,We=!Jt(Ge)&&Jt(Ge.set)?Ge.set.bind(n):Ur,$=Nn({get:Ke,set:We});Object.defineProperty(r,ve,{enumerable:!0,configurable:!0,get:()=>$.value,set:K=>$.value=K})}if(l)for(const ve in l)fp(l[ve],r,n,ve);if(f){const ve=Jt(f)?f.call(n):f;Reflect.ownKeys(ve).forEach(Ge=>{Ho(Ge,ve[Ge])})}m&&Df(m,e,"c");function te(ve,Ge){zt(Ge)?Ge.forEach(Ke=>ve(Ke.bind(n))):Ge&&ve(Ge.bind(n))}if(te(z_,c),te(xa,p),te(K_,T),te(X_,g),te(Y_,D),te($_,v),te(tT,ie),te(eT,M),te(J_,F),te(Q_,A),te(lp,H),te(Z_,Ee),zt(Be))if(Be.length){const ve=e.exposed||(e.exposed={});Be.forEach(Ge=>{Object.defineProperty(ve,Ge,{get:()=>n[Ge],set:Ke=>n[Ge]=Ke})})}else e.exposed||(e.exposed={});S&&e.render===Ur&&(e.render=S),Le!=null&&(e.inheritAttrs=Le),X&&(e.components=X),P&&(e.directives=P)}function iT(e,t,n=Ur){zt(e)&&(e=Fl(e));for(const r in e){const i=e[r];let o;Un(i)?"default"in i?o=Kn(i.from||r,i.default,!0):o=Kn(i.from||r):o=Kn(i),gr(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):t[r]=o}}function Df(e,t,n){ii(zt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function fp(e,t,n,r){const i=r.includes(".")?op(n,r):()=>n[r];if(sr(e)){const o=t[e];Jt(o)&&Ki(i,o)}else if(Jt(e))Ki(i,e.bind(n));else if(Un(e))if(zt(e))e.forEach(o=>fp(o,t,n,r));else{const o=Jt(e.handler)?e.handler.bind(n):t[e.handler];Jt(o)&&Ki(i,o,e)}}function wc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:u}}=e.appContext,l=o.get(t);let f;return l?f=l:!i.length&&!n&&!r?f=t:(f={},i.length&&i.forEach(d=>zs(f,d,u,!0)),zs(f,t,u)),Un(t)&&o.set(t,f),f}function zs(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&zs(e,o,n,!0),i&&i.forEach(u=>zs(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=aT[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const aT={data:Pf,props:Lf,emits:Lf,methods:xo,computed:xo,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:xo,directives:xo,watch:sT,provide:Pf,inject:oT};function Pf(e,t){return t?e?function(){return mr(Jt(e)?e.call(this,this):e,Jt(t)?t.call(this,this):t)}:t:e}function oT(e,t){return xo(Fl(e),Fl(t))}function Fl(e){if(zt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function xo(e,t){return e?mr(Object.create(null),e,t):t}function Lf(e,t){return e?zt(e)&&zt(t)?[...new Set([...e,...t])]:mr(Object.create(null),Of(e),Of(t??{})):t}function sT(e,t){if(!e)return t;if(!t)return e;const n=mr(Object.create(null),e);for(const r in t)n[r]=Ir(e[r],t[r]);return n}function dp(){return{app:null,config:{isNativeTag:jy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uT=0;function lT(e,t){return function(r,i=null){Jt(r)||(r=mr({},r)),i!=null&&!Un(i)&&(i=null);const o=dp(),u=new WeakSet;let l=!1;const f=o.app={_uid:uT++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:FT,get config(){return o.config},set config(d){},use(d,...m){return u.has(d)||(d&&Jt(d.install)?(u.add(d),d.install(f,...m)):Jt(d)&&(u.add(d),d(f,...m))),f},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),f},component(d,m){return m?(o.components[d]=m,f):o.components[d]},directive(d,m){return m?(o.directives[d]=m,f):o.directives[d]},mount(d,m,c){if(!l){const p=Ft(r,i);return p.appContext=o,c===!0?c="svg":c===!1&&(c=void 0),m&&t?t(p,d):e(p,d,c),l=!0,f._container=d,d.__vue_app__=f,Au(p.component)||p.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return o.provides[d]=m,f},runWithContext(d){const m=jo;jo=f;try{return d()}finally{jo=m}}};return f}}let jo=null;function Ho(e,t){if(hr){let n=hr.provides;const r=hr.parent&&hr.parent.provides;r===n&&(n=hr.provides=Object.create(r)),n[e]=t}}function Kn(e,t,n=!1){const r=hr||or;if(r||jo){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:jo._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Jt(t)?t.call(r&&r.proxy):t}}const hp=Object.create(null),kl=()=>Object.create(hp),pp=e=>Object.getPrototypeOf(e)===hp;function cT(e,t,n,r=!1){const i={},o=kl();e.propsDefaults=Object.create(null),mp(e,t,i,o);for(const u in e.propsOptions[0])u in i||(i[u]=void 0);n?e.props=r?i:Yh(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function fT(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:u}}=e,l=vn(i),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const m=e.vnode.dynamicProps;for(let c=0;c<m.length;c++){let p=m[c];if(_u(e.emitsOptions,p))continue;const T=t[p];if(f)if(gn(o,p))T!==o[p]&&(o[p]=T,d=!0);else{const g=mi(p);i[g]=Ul(f,l,g,T,e,!1)}else T!==o[p]&&(o[p]=T,d=!0)}}}else{mp(e,t,i,o)&&(d=!0);let m;for(const c in l)(!t||!gn(t,c)&&((m=oo(c))===c||!gn(t,m)))&&(f?n&&(n[c]!==void 0||n[m]!==void 0)&&(i[c]=Ul(f,l,c,void 0,e,!0)):delete i[c]);if(o!==l)for(const c in o)(!t||!gn(t,c))&&(delete o[c],d=!0)}d&&Ai(e.attrs,"set","")}function mp(e,t,n,r){const[i,o]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(ko(f))continue;const d=t[f];let m;i&&gn(i,m=mi(f))?!o||!o.includes(m)?n[m]=d:(l||(l={}))[m]=d:_u(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(o){const f=vn(n),d=l||kn;for(let m=0;m<o.length;m++){const c=o[m];n[c]=Ul(i,f,c,d[c],e,!gn(d,c))}}return u}function Ul(e,t,n,r,i,o){const u=e[n];if(u!=null){const l=gn(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Jt(f)){const{propsDefaults:d}=i;if(n in d)r=d[n];else{const m=os(i);r=d[n]=f.call(null,t),m()}}else r=f}u[0]&&(o&&!l?r=!1:u[1]&&(r===""||r===oo(n))&&(r=!0))}return r}function gp(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,u={},l=[];let f=!1;if(!Jt(e)){const m=c=>{f=!0;const[p,T]=gp(c,t,!0);mr(u,p),T&&l.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!f)return Un(e)&&r.set(e,za),za;if(zt(o))for(let m=0;m<o.length;m++){const c=mi(o[m]);xf(c)&&(u[c]=kn)}else if(o)for(const m in o){const c=mi(m);if(xf(c)){const p=o[m],T=u[c]=zt(p)||Jt(p)?{type:p}:mr({},p);if(T){const g=Uf(Boolean,T.type),D=Uf(String,T.type);T[0]=g>-1,T[1]=D<0||g<D,(g>-1||gn(T,"default"))&&l.push(c)}}}const d=[u,l];return Un(e)&&r.set(e,d),d}function xf(e){return e[0]!=="$"&&!ko(e)}function Ff(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function kf(e,t){return Ff(e)===Ff(t)}function Uf(e,t){return zt(t)?t.findIndex(n=>kf(n,e)):Jt(t)&&kf(t,e)?0:-1}const yp=e=>e[0]==="_"||e==="$stable",Rc=e=>zt(e)?e.map(hi):[hi(e)],dT=(e,t,n)=>{if(t._n)return t;const r=qt((...i)=>Rc(t(...i)),n);return r._c=!1,r},_p=(e,t,n)=>{const r=e._ctx;for(const i in e){if(yp(i))continue;const o=e[i];if(Jt(o))t[i]=dT(i,o,r);else if(o!=null){const u=Rc(o);t[i]=()=>u}}},Tp=(e,t)=>{const n=Rc(t);e.slots.default=()=>n},hT=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=vn(t),Nh(e.slots,"_",n)):_p(t,e.slots=kl())}else e.slots=kl(),t&&Tp(e,t)},pT=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,u=kn;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(mr(i,t),!n&&l===1&&delete i._):(o=!t.$stable,_p(t,i)),u=t}else t&&(Tp(e,t),u={default:1});if(o)for(const l in i)!yp(l)&&u[l]==null&&delete i[l]};function Bl(e,t,n,r,i=!1){if(zt(e)){e.forEach((p,T)=>Bl(p,t&&(zt(t)?t[T]:t),n,r,i));return}if(Bo(r)&&!i)return;const o=r.shapeFlag&4?Au(r.component)||r.component.proxy:r.el,u=i?null:o,{i:l,r:f}=e,d=t&&t.r,m=l.refs===kn?l.refs={}:l.refs,c=l.setupState;if(d!=null&&d!==f&&(sr(d)?(m[d]=null,gn(c,d)&&(c[d]=null)):gr(d)&&(d.value=null)),Jt(f))zi(f,l,12,[u,m]);else{const p=sr(f),T=gr(f);if(p||T){const g=()=>{if(e.f){const D=p?gn(c,f)?c[f]:m[f]:f.value;i?zt(D)&&hc(D,o):zt(D)?D.includes(o)||D.push(o):p?(m[f]=[o],gn(c,f)&&(c[f]=m[f])):(f.value=[o],e.k&&(m[e.k]=f.value))}else p?(m[f]=u,gn(c,f)&&(c[f]=u)):T&&(f.value=u,e.k&&(m[e.k]=u))};u?(g.id=-1,Lr(g,n)):g()}}}function mT(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(mc().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Lr=j_;function gT(e){return yT(e)}function yT(e,t){mT();const n=mc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:u,createText:l,createComment:f,setText:d,setElementText:m,parentNode:c,nextSibling:p,setScopeId:T=Ur,insertStaticContent:g}=e,D=(E,I,L,Z=null,b=null,V=null,le=void 0,Ie=null,me=!!I.dynamicChildren)=>{if(E===I)return;E&&!wo(E,I)&&(Z=q(E),K(E,b,V,!0),E=null),I.patchFlag===-2&&(me=!1,I.dynamicChildren=null);const{type:ke,ref:ae,shapeFlag:Q}=I;switch(ke){case Eu:v(E,I,L,Z);break;case Qi:w(E,I,L,Z);break;case Bs:E==null&&A(I,L,Z,le);break;case xn:X(E,I,L,Z,b,V,le,Ie,me);break;default:Q&1?S(E,I,L,Z,b,V,le,Ie,me):Q&6?P(E,I,L,Z,b,V,le,Ie,me):(Q&64||Q&128)&&ke.process(E,I,L,Z,b,V,le,Ie,me,h)}ae!=null&&b&&Bl(ae,E&&E.ref,V,I||E,!I)},v=(E,I,L,Z)=>{if(E==null)r(I.el=l(I.children),L,Z);else{const b=I.el=E.el;I.children!==E.children&&d(b,I.children)}},w=(E,I,L,Z)=>{E==null?r(I.el=f(I.children||""),L,Z):I.el=E.el},A=(E,I,L,Z)=>{[E.el,E.anchor]=g(E.children,I,L,Z,E.el,E.anchor)},N=({el:E,anchor:I},L,Z)=>{let b;for(;E&&E!==I;)b=p(E),r(E,L,Z),E=b;r(I,L,Z)},H=({el:E,anchor:I})=>{let L;for(;E&&E!==I;)L=p(E),i(E),E=L;i(I)},S=(E,I,L,Z,b,V,le,Ie,me)=>{I.type==="svg"?le="svg":I.type==="math"&&(le="mathml"),E==null?M(I,L,Z,b,V,le,Ie,me):Ee(E,I,b,V,le,Ie,me)},M=(E,I,L,Z,b,V,le,Ie)=>{let me,ke;const{props:ae,shapeFlag:Q,transition:pe,dirs:De}=E;if(me=E.el=u(E.type,V,ae&&ae.is,ae),Q&8?m(me,E.children):Q&16&&ie(E.children,me,null,Z,b,il(E,V),le,Ie),De&&ga(E,null,Z,"created"),F(me,E,E.scopeId,le,Z),ae){for(const Te in ae)Te!=="value"&&!ko(Te)&&o(me,Te,null,ae[Te],V,E.children,Z,b,He);"value"in ae&&o(me,"value",null,ae.value,V),(ke=ae.onVnodeBeforeMount)&&di(ke,Z,E)}De&&ga(E,null,Z,"beforeMount");const Me=_T(b,pe);Me&&pe.beforeEnter(me),r(me,I,L),((ke=ae&&ae.onVnodeMounted)||Me||De)&&Lr(()=>{ke&&di(ke,Z,E),Me&&pe.enter(me),De&&ga(E,null,Z,"mounted")},b)},F=(E,I,L,Z,b)=>{if(L&&T(E,L),Z)for(let V=0;V<Z.length;V++)T(E,Z[V]);if(b){let V=b.subTree;if(I===V){const le=b.vnode;F(E,le,le.scopeId,le.slotScopeIds,b.parent)}}},ie=(E,I,L,Z,b,V,le,Ie,me=0)=>{for(let ke=me;ke<E.length;ke++){const ae=E[ke]=Ie?Hi(E[ke]):hi(E[ke]);D(null,ae,I,L,Z,b,V,le,Ie)}},Ee=(E,I,L,Z,b,V,le)=>{const Ie=I.el=E.el;let{patchFlag:me,dynamicChildren:ke,dirs:ae}=I;me|=E.patchFlag&16;const Q=E.props||kn,pe=I.props||kn;let De;if(L&&ya(L,!1),(De=pe.onVnodeBeforeUpdate)&&di(De,L,I,E),ae&&ga(I,E,L,"beforeUpdate"),L&&ya(L,!0),ke?Be(E.dynamicChildren,ke,Ie,L,Z,il(I,b),V):le||Ge(E,I,Ie,null,L,Z,il(I,b),V,!1),me>0){if(me&16)Le(Ie,I,Q,pe,L,Z,b);else if(me&2&&Q.class!==pe.class&&o(Ie,"class",null,pe.class,b),me&4&&o(Ie,"style",Q.style,pe.style,b),me&8){const Me=I.dynamicProps;for(let Te=0;Te<Me.length;Te++){const tt=Me[Te],ht=Q[tt],St=pe[tt];(St!==ht||tt==="value")&&o(Ie,tt,ht,St,b,E.children,L,Z,He)}}me&1&&E.children!==I.children&&m(Ie,I.children)}else!le&&ke==null&&Le(Ie,I,Q,pe,L,Z,b);((De=pe.onVnodeUpdated)||ae)&&Lr(()=>{De&&di(De,L,I,E),ae&&ga(I,E,L,"updated")},Z)},Be=(E,I,L,Z,b,V,le)=>{for(let Ie=0;Ie<I.length;Ie++){const me=E[Ie],ke=I[Ie],ae=me.el&&(me.type===xn||!wo(me,ke)||me.shapeFlag&70)?c(me.el):L;D(me,ke,ae,null,Z,b,V,le,!0)}},Le=(E,I,L,Z,b,V,le)=>{if(L!==Z){if(L!==kn)for(const Ie in L)!ko(Ie)&&!(Ie in Z)&&o(E,Ie,L[Ie],null,le,I.children,b,V,He);for(const Ie in Z){if(ko(Ie))continue;const me=Z[Ie],ke=L[Ie];me!==ke&&Ie!=="value"&&o(E,Ie,ke,me,le,I.children,b,V,He)}"value"in Z&&o(E,"value",L.value,Z.value,le)}},X=(E,I,L,Z,b,V,le,Ie,me)=>{const ke=I.el=E?E.el:l(""),ae=I.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:pe,slotScopeIds:De}=I;De&&(Ie=Ie?Ie.concat(De):De),E==null?(r(ke,L,Z),r(ae,L,Z),ie(I.children||[],L,ae,b,V,le,Ie,me)):Q>0&&Q&64&&pe&&E.dynamicChildren?(Be(E.dynamicChildren,pe,L,b,V,le,Ie),(I.key!=null||b&&I===b.subTree)&&vp(E,I,!0)):Ge(E,I,L,ae,b,V,le,Ie,me)},P=(E,I,L,Z,b,V,le,Ie,me)=>{I.slotScopeIds=Ie,E==null?I.shapeFlag&512?b.ctx.activate(I,L,Z,le,me):J(I,L,Z,b,V,le,me):oe(E,I,me)},J=(E,I,L,Z,b,V,le)=>{const Ie=E.component=CT(E,Z,b);if(sp(E)&&(Ie.ctx.renderer=h),NT(Ie),Ie.asyncDep){if(b&&b.registerDep(Ie,te),!E.el){const me=Ie.subTree=Ft(Qi);w(null,me,I,L)}}else te(Ie,E,I,L,b,V,le)},oe=(E,I,L)=>{const Z=I.component=E.component;if(F_(E,I,L))if(Z.asyncDep&&!Z.asyncResolved){ve(Z,I,L);return}else Z.next=I,N_(Z.update),Z.effect.dirty=!0,Z.update();else I.el=E.el,Z.vnode=I},te=(E,I,L,Z,b,V,le)=>{const Ie=()=>{if(E.isMounted){let{next:ae,bu:Q,u:pe,parent:De,vnode:Me}=E;{const It=Ep(E);if(It){ae&&(ae.el=Me.el,ve(E,ae,le)),It.asyncDep.then(()=>{E.isUnmounted||Ie()});return}}let Te=ae,tt;ya(E,!1),ae?(ae.el=Me.el,ve(E,ae,le)):ae=Me,Q&&ks(Q),(tt=ae.props&&ae.props.onVnodeBeforeUpdate)&&di(tt,De,ae,Me),ya(E,!0);const ht=nl(E),St=E.subTree;E.subTree=ht,D(St,ht,c(St.el),q(St),E,b,V),ae.el=ht.el,Te===null&&k_(E,ht.el),pe&&Lr(pe,b),(tt=ae.props&&ae.props.onVnodeUpdated)&&Lr(()=>di(tt,De,ae,Me),b)}else{let ae;const{el:Q,props:pe}=I,{bm:De,m:Me,parent:Te}=E,tt=Bo(I);if(ya(E,!1),De&&ks(De),!tt&&(ae=pe&&pe.onVnodeBeforeMount)&&di(ae,Te,I),ya(E,!0),Q&&_){const ht=()=>{E.subTree=nl(E),_(Q,E.subTree,E,b,null)};tt?I.type.__asyncLoader().then(()=>!E.isUnmounted&&ht()):ht()}else{const ht=E.subTree=nl(E);D(null,ht,L,Z,E,b,V),I.el=ht.el}if(Me&&Lr(Me,b),!tt&&(ae=pe&&pe.onVnodeMounted)){const ht=I;Lr(()=>di(ae,Te,ht),b)}(I.shapeFlag&256||Te&&Bo(Te.vnode)&&Te.vnode.shapeFlag&256)&&E.a&&Lr(E.a,b),E.isMounted=!0,I=L=Z=null}},me=E.effect=new gc(Ie,Ur,()=>Ic(ke),E.scope),ke=E.update=()=>{me.dirty&&me.run()};ke.id=E.uid,ya(E,!0),ke()},ve=(E,I,L)=>{I.component=E;const Z=E.vnode.props;E.vnode=I,E.next=null,fT(E,I.props,Z,L),pT(E,I.children,L),ea(),Cf(E),ta()},Ge=(E,I,L,Z,b,V,le,Ie,me=!1)=>{const ke=E&&E.children,ae=E?E.shapeFlag:0,Q=I.children,{patchFlag:pe,shapeFlag:De}=I;if(pe>0){if(pe&128){We(ke,Q,L,Z,b,V,le,Ie,me);return}else if(pe&256){Ke(ke,Q,L,Z,b,V,le,Ie,me);return}}De&8?(ae&16&&He(ke,b,V),Q!==ke&&m(L,Q)):ae&16?De&16?We(ke,Q,L,Z,b,V,le,Ie,me):He(ke,b,V,!0):(ae&8&&m(L,""),De&16&&ie(Q,L,Z,b,V,le,Ie,me))},Ke=(E,I,L,Z,b,V,le,Ie,me)=>{E=E||za,I=I||za;const ke=E.length,ae=I.length,Q=Math.min(ke,ae);let pe;for(pe=0;pe<Q;pe++){const De=I[pe]=me?Hi(I[pe]):hi(I[pe]);D(E[pe],De,L,null,b,V,le,Ie,me)}ke>ae?He(E,b,V,!0,!1,Q):ie(I,L,Z,b,V,le,Ie,me,Q)},We=(E,I,L,Z,b,V,le,Ie,me)=>{let ke=0;const ae=I.length;let Q=E.length-1,pe=ae-1;for(;ke<=Q&&ke<=pe;){const De=E[ke],Me=I[ke]=me?Hi(I[ke]):hi(I[ke]);if(wo(De,Me))D(De,Me,L,null,b,V,le,Ie,me);else break;ke++}for(;ke<=Q&&ke<=pe;){const De=E[Q],Me=I[pe]=me?Hi(I[pe]):hi(I[pe]);if(wo(De,Me))D(De,Me,L,null,b,V,le,Ie,me);else break;Q--,pe--}if(ke>Q){if(ke<=pe){const De=pe+1,Me=De<ae?I[De].el:Z;for(;ke<=pe;)D(null,I[ke]=me?Hi(I[ke]):hi(I[ke]),L,Me,b,V,le,Ie,me),ke++}}else if(ke>pe)for(;ke<=Q;)K(E[ke],b,V,!0),ke++;else{const De=ke,Me=ke,Te=new Map;for(ke=Me;ke<=pe;ke++){const Dt=I[ke]=me?Hi(I[ke]):hi(I[ke]);Dt.key!=null&&Te.set(Dt.key,ke)}let tt,ht=0;const St=pe-Me+1;let It=!1,bt=0;const Nt=new Array(St);for(ke=0;ke<St;ke++)Nt[ke]=0;for(ke=De;ke<=Q;ke++){const Dt=E[ke];if(ht>=St){K(Dt,b,V,!0);continue}let Rt;if(Dt.key!=null)Rt=Te.get(Dt.key);else for(tt=Me;tt<=pe;tt++)if(Nt[tt-Me]===0&&wo(Dt,I[tt])){Rt=tt;break}Rt===void 0?K(Dt,b,V,!0):(Nt[Rt-Me]=ke+1,Rt>=bt?bt=Rt:It=!0,D(Dt,I[Rt],L,null,b,V,le,Ie,me),ht++)}const wt=It?TT(Nt):za;for(tt=wt.length-1,ke=St-1;ke>=0;ke--){const Dt=Me+ke,Rt=I[Dt],en=Dt+1<ae?I[Dt+1].el:Z;Nt[ke]===0?D(null,Rt,L,en,b,V,le,Ie,me):It&&(tt<0||ke!==wt[tt]?$(Rt,L,en,2):tt--)}}},$=(E,I,L,Z,b=null)=>{const{el:V,type:le,transition:Ie,children:me,shapeFlag:ke}=E;if(ke&6){$(E.component.subTree,I,L,Z);return}if(ke&128){E.suspense.move(I,L,Z);return}if(ke&64){le.move(E,I,L,h);return}if(le===xn){r(V,I,L);for(let Q=0;Q<me.length;Q++)$(me[Q],I,L,Z);r(E.anchor,I,L);return}if(le===Bs){N(E,I,L);return}if(Z!==2&&ke&1&&Ie)if(Z===0)Ie.beforeEnter(V),r(V,I,L),Lr(()=>Ie.enter(V),b);else{const{leave:Q,delayLeave:pe,afterLeave:De}=Ie,Me=()=>r(V,I,L),Te=()=>{Q(V,()=>{Me(),De&&De()})};pe?pe(V,Me,Te):Te()}else r(V,I,L)},K=(E,I,L,Z=!1,b=!1)=>{const{type:V,props:le,ref:Ie,children:me,dynamicChildren:ke,shapeFlag:ae,patchFlag:Q,dirs:pe}=E;if(Ie!=null&&Bl(Ie,null,L,E,!0),ae&256){I.ctx.deactivate(E);return}const De=ae&1&&pe,Me=!Bo(E);let Te;if(Me&&(Te=le&&le.onVnodeBeforeUnmount)&&di(Te,I,E),ae&6)ot(E.component,L,Z);else{if(ae&128){E.suspense.unmount(L,Z);return}De&&ga(E,null,I,"beforeUnmount"),ae&64?E.type.remove(E,I,L,b,h,Z):ke&&(V!==xn||Q>0&&Q&64)?He(ke,I,L,!1,!0):(V===xn&&Q&384||!b&&ae&16)&&He(me,I,L),Z&&Ue(E)}(Me&&(Te=le&&le.onVnodeUnmounted)||De)&&Lr(()=>{Te&&di(Te,I,E),De&&ga(E,null,I,"unmounted")},L)},Ue=E=>{const{type:I,el:L,anchor:Z,transition:b}=E;if(I===xn){$e(L,Z);return}if(I===Bs){H(E);return}const V=()=>{i(L),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(E.shapeFlag&1&&b&&!b.persisted){const{leave:le,delayLeave:Ie}=b,me=()=>le(L,V);Ie?Ie(E.el,V,me):me()}else V()},$e=(E,I)=>{let L;for(;E!==I;)L=p(E),i(E),E=L;i(I)},ot=(E,I,L)=>{const{bum:Z,scope:b,update:V,subTree:le,um:Ie}=E;Z&&ks(Z),b.stop(),V&&(V.active=!1,K(le,E,I,L)),Ie&&Lr(Ie,I),Lr(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},He=(E,I,L,Z=!1,b=!1,V=0)=>{for(let le=V;le<E.length;le++)K(E[le],I,L,Z,b)},q=E=>E.shapeFlag&6?q(E.component.subTree):E.shapeFlag&128?E.suspense.next():p(E.anchor||E.el);let U=!1;const x=(E,I,L)=>{E==null?I._vnode&&K(I._vnode,null,null,!0):D(I._vnode||null,E,I,null,null,null,L),U||(U=!0,Cf(),tp(),U=!1),I._vnode=E},h={p:D,um:K,m:$,r:Ue,mt:J,mc:ie,pc:Ge,pbc:Be,n:q,o:e};let y,_;return t&&([y,_]=t(h)),{render:x,hydrate:y,createApp:lT(x,y)}}function il({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ya({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function _T(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vp(e,t,n=!1){const r=e.children,i=t.children;if(zt(r)&&zt(i))for(let o=0;o<r.length;o++){const u=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Hi(i[o]),l.el=u.el),n||vp(u,l)),l.type===Eu&&(l.el=u.el)}}function TT(e){const t=e.slice(),n=[0];let r,i,o,u,l;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(i=n[n.length-1],e[i]<d){t[r]=i,n.push(r);continue}for(o=0,u=n.length-1;o<u;)l=o+u>>1,e[n[l]]<d?o=l+1:u=l;d<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,u=n[o-1];o-- >0;)n[o]=u,u=t[u];return n}function Ep(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ep(t)}const vT=e=>e.__isTeleport,xn=Symbol.for("v-fgt"),Eu=Symbol.for("v-txt"),Qi=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),Vo=[];let ni=null;function dt(e=!1){Vo.push(ni=e?null:[])}function ET(){Vo.pop(),ni=Vo[Vo.length-1]||null}let es=1;function Bf(e){es+=e}function bp(e){return e.dynamicChildren=es>0?ni||za:null,ET(),es>0&&ni&&ni.push(e),e}function _t(e,t,n,r,i,o){return bp(Je(e,t,n,r,i,o,!0))}function Er(e,t,n,r,i){return bp(Ft(e,t,n,r,i,!0))}function Ks(e){return e?e.__v_isVNode===!0:!1}function wo(e,t){return e.type===t.type&&e.key===t.key}const Ap=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?sr(e)||gr(e)||Jt(e)?{i:or,r:e,k:t,f:!!n}:e:null);function Je(e,t=null,n=null,r=0,i=null,o=e===xn?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ap(t),ref:t&&Gs(t),scopeId:Tu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:or};return l?(Cc(f,n),o&128&&e.normalize(f)):n&&(f.shapeFlag|=sr(n)?8:16),es>0&&!u&&ni&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&ni.push(f),f}const Ft=bT;function bT(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===U_)&&(e=Qi),Ks(e)){const l=Ja(e,t,!0);return n&&Cc(l,n),es>0&&!o&&ni&&(l.shapeFlag&6?ni[ni.indexOf(e)]=l:ni.push(l)),l.patchFlag|=-2,l}if(xT(e)&&(e=e.__vccOpts),t){t=AT(t);let{class:l,style:f}=t;l&&!sr(l)&&(t.class=lr(l)),Un(f)&&(Wh(f)&&!zt(f)&&(f=mr({},f)),t.style=as(f))}const u=sr(e)?1:G_(e)?128:vT(e)?64:Un(e)?4:Jt(e)?2:0;return Je(e,t,n,r,i,u,o,!0)}function AT(e){return e?Wh(e)||pp(e)?mr({},e):e:null}function Ja(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:u}=e,l=t?IT(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ap(l),ref:t&&t.ref?n&&i?zt(i)?i.concat(Gs(t)):[i,Gs(t)]:Gs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ja(e.ssContent),ssFallback:e.ssFallback&&Ja(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Lt(e=" ",t=0){return Ft(Eu,null,e,t)}function ST(e,t){const n=Ft(Bs,null,e);return n.staticCount=t,n}function Hn(e="",t=!1){return t?(dt(),Er(Qi,null,e)):Ft(Qi,null,e)}function hi(e){return e==null||typeof e=="boolean"?Ft(Qi):zt(e)?Ft(xn,null,e.slice()):typeof e=="object"?Hi(e):Ft(Eu,null,String(e))}function Hi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ja(e)}function Cc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(zt(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Cc(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!pp(t)?t._ctx=or:i===3&&or&&(or.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Jt(t)?(t={default:t,_ctx:or},n=32):(t=String(t),r&64?(n=16,t=[Lt(t)]):n=8);e.children=t,e.shapeFlag|=n}function IT(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=lr([t.class,r.class]));else if(i==="style")t.style=as([t.style,r.style]);else if(du(i)){const o=t[i],u=r[i];u&&o!==u&&!(zt(o)&&o.includes(u))&&(t[i]=o?[].concat(o,u):u)}else i!==""&&(t[i]=r[i])}return t}function di(e,t,n,r=null){ii(e,t,7,[n,r])}const wT=dp();let RT=0;function CT(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||wT,o={uid:RT++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gp(r,i),emitsOptions:rp(r,i),emit:null,emitted:null,propsDefaults:kn,inheritAttrs:r.inheritAttrs,ctx:kn,data:kn,props:kn,attrs:kn,slots:kn,refs:kn,setupState:kn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=P_.bind(null,o),e.ce&&e.ce(o),o}let hr=null;const MT=()=>hr||or;let Xs,Gl;{const e=mc(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(u=>u(o)):i[0](o)}};Xs=t("__VUE_INSTANCE_SETTERS__",n=>hr=n),Gl=t("__VUE_SSR_SETTERS__",n=>bu=n)}const os=e=>{const t=hr;return Xs(e),e.scope.on(),()=>{e.scope.off(),Xs(t)}},Gf=()=>{hr&&hr.scope.off(),Xs(null)};function Sp(e){return e.vnode.shapeFlag&4}let bu=!1;function NT(e,t=!1){t&&Gl(t);const{props:n,children:r}=e.vnode,i=Sp(e);cT(e,n,i,t),hT(e,r);const o=i?OT(e,t):void 0;return t&&Gl(!1),o}function OT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nT);const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?PT(e):null,o=os(e);ea();const u=zi(r,e,0,[e.props,i]);if(ta(),o(),Rh(u)){if(u.then(Gf,Gf),t)return u.then(l=>{jf(e,l,t)}).catch(l=>{yu(l,e,0)});e.asyncDep=u}else jf(e,u,t)}else Ip(e,t)}function jf(e,t,n){Jt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Un(t)&&(e.setupState=Qh(t)),Ip(e,n)}let Hf;function Ip(e,t,n){const r=e.type;if(!e.render){if(!t&&Hf&&!r.render){const i=r.template||wc(e).template;if(i){const{isCustomElement:o,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,d=mr(mr({isCustomElement:o,delimiters:l},u),f);r.render=Hf(i,d)}}e.render=r.render||Ur}{const i=os(e);ea();try{rT(e)}finally{ta(),i()}}}const DT={get(e,t){return Fr(e,"get",""),e[t]}};function PT(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,DT),slots:e.slots,emit:e.emit,expose:t}}function Au(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Qh(E_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Go)return Go[n](e)},has(t,n){return n in t||n in Go}}))}function LT(e,t=!0){return Jt(e)?e.displayName||e.name:e.name||t&&e.__name}function xT(e){return Jt(e)&&"__vccOpts"in e}const Nn=(e,t)=>b_(e,t,bu);function wp(e,t,n){const r=arguments.length;return r===2?Un(t)&&!zt(t)?Ks(t)?Ft(e,null,[t]):Ft(e,t):Ft(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ks(n)&&(n=[n]),Ft(e,t,n))}const FT="3.4.23";/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kT="http://www.w3.org/2000/svg",UT="http://www.w3.org/1998/Math/MathML",Vi=typeof document<"u"?document:null,Vf=Vi&&Vi.createElement("template"),BT={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Vi.createElementNS(kT,e):t==="mathml"?Vi.createElementNS(UT,e):Vi.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Vi.createTextNode(e),createComment:e=>Vi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const u=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Vf.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const l=Vf.content;if(r==="svg"||r==="mathml"){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},GT=Symbol("_vtc");function jT(e,t,n){const r=e[GT];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Qs=Symbol("_vod"),Rp=Symbol("_vsh"),Zi={beforeMount(e,{value:t},{transition:n}){e[Qs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ro(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ro(e,!0),r.enter(e)):r.leave(e,()=>{Ro(e,!1)}):Ro(e,t))},beforeUnmount(e,{value:t}){Ro(e,t)}};function Ro(e,t){e.style.display=t?e[Qs]:"none",e[Rp]=!t}const HT=Symbol(""),VT=/(^|;)\s*display\s*:/;function qT(e,t,n){const r=e.style,i=sr(n);let o=!1;if(n&&!i){if(t)if(sr(t))for(const u of t.split(";")){const l=u.slice(0,u.indexOf(":")).trim();n[l]==null&&js(r,l,"")}else for(const u in t)n[u]==null&&js(r,u,"");for(const u in n)u==="display"&&(o=!0),js(r,u,n[u])}else if(i){if(t!==n){const u=r[HT];u&&(n+=";"+u),r.cssText=n,o=VT.test(n)}}else t&&e.removeAttribute("style");Qs in e&&(e[Qs]=o?r.display:"",e[Rp]&&(r.display="none"))}const qf=/\s*!important$/;function js(e,t,n){if(zt(n))n.forEach(r=>js(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=YT(e,t);qf.test(n)?e.setProperty(oo(r),n.replace(qf,""),"important"):e[r]=n}}const Yf=["Webkit","Moz","ms"],al={};function YT(e,t){const n=al[t];if(n)return n;let r=mi(t);if(r!=="filter"&&r in e)return al[t]=r;r=mu(r);for(let i=0;i<Yf.length;i++){const o=Yf[i]+r;if(o in e)return al[t]=o}return t}const $f="http://www.w3.org/1999/xlink";function $T(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS($f,t.slice(6,t.length)):e.setAttributeNS($f,t,n);else{const o=Qy(t);n==null||o&&!Oh(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function WT(e,t,n,r,i,o,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,i,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,m=n??"";(d!==m||!("_value"in e))&&(e.value=m),n==null&&e.removeAttribute(t),e._value=n;return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Oh(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function Va(e,t,n,r){e.addEventListener(t,n,r)}function zT(e,t,n,r){e.removeEventListener(t,n,r)}const Wf=Symbol("_vei");function KT(e,t,n,r,i=null){const o=e[Wf]||(e[Wf]={}),u=o[t];if(r&&u)u.value=r;else{const[l,f]=XT(t);if(r){const d=o[t]=JT(r,i);Va(e,l,d,f)}else u&&(zT(e,l,u,f),o[t]=void 0)}}const zf=/(?:Once|Passive|Capture)$/;function XT(e){let t;if(zf.test(e)){t={};let r;for(;r=e.match(zf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):oo(e.slice(2)),t]}let ol=0;const QT=Promise.resolve(),ZT=()=>ol||(QT.then(()=>ol=0),ol=Date.now());function JT(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ii(ev(r,n.value),t,5,[r])};return n.value=e,n.attached=ZT(),n}function ev(e,t){if(zt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Kf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,tv=(e,t,n,r,i,o,u,l,f)=>{const d=i==="svg";t==="class"?jT(e,r,d):t==="style"?qT(e,n,r):du(t)?dc(t)||KT(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nv(e,t,r,d))?WT(e,t,r,o,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),$T(e,t,r,d))};function nv(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Kf(t)&&Jt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kf(t)&&sr(n)?!1:t in e}const Xf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return zt(t)?n=>ks(t,n):t};function rv(e){e.target.composing=!0}function Qf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sl=Symbol("_assign"),iv={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[sl]=Xf(i);const o=r||i.props&&i.props.type==="number";Va(e,t?"change":"input",u=>{if(u.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=Ml(l)),e[sl](l)}),n&&Va(e,"change",()=>{e.value=e.value.trim()}),t||(Va(e,"compositionstart",rv),Va(e,"compositionend",Qf),Va(e,"change",Qf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e[sl]=Xf(o),e.composing)return;const u=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ml(e.value):e.value,l=t??"";u!==l&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===l)||(e.value=l))}},av=mr({patchProp:tv},BT);let Zf;function ov(){return Zf||(Zf=gT(av))}const sv=(...e)=>{const t=ov().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lv(r);if(!i)return;const o=t._component;!Jt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const u=n(i,!1,uv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},t};function uv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lv(e){return sr(e)?document.querySelector(e):e}class Fa extends Error{}class cv extends Fa{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class fv extends Fa{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class dv extends Fa{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Fo extends Fa{}class Cp extends Fa{constructor(t){super(`Invalid unit ${t}`)}}class Yr extends Fa{}class Ui extends Fa{constructor(){super("Zone is an abstract class")}}const Ot="numeric",si="short",Gr="long",Zs={year:Ot,month:Ot,day:Ot},Mc={year:Ot,month:si,day:Ot},Mp={year:Ot,month:si,day:Ot,weekday:si},Nc={year:Ot,month:Gr,day:Ot},Oc={year:Ot,month:Gr,day:Ot,weekday:Gr},Dc={hour:Ot,minute:Ot},Pc={hour:Ot,minute:Ot,second:Ot},Lc={hour:Ot,minute:Ot,second:Ot,timeZoneName:si},xc={hour:Ot,minute:Ot,second:Ot,timeZoneName:Gr},Fc={hour:Ot,minute:Ot,hour12:!1},kc={hour:Ot,minute:Ot,second:Ot,hour12:!1},Uc={hour:Ot,minute:Ot,second:Ot,hour12:!1,timeZoneName:si},Bc={hour:Ot,minute:Ot,second:Ot,hour12:!1,timeZoneName:Gr},Gc={year:Ot,month:Ot,day:Ot,hour:Ot,minute:Ot},jc={year:Ot,month:Ot,day:Ot,hour:Ot,minute:Ot,second:Ot},Hc={year:Ot,month:si,day:Ot,hour:Ot,minute:Ot},Vc={year:Ot,month:si,day:Ot,hour:Ot,minute:Ot,second:Ot},Np={year:Ot,month:si,day:Ot,weekday:si,hour:Ot,minute:Ot},qc={year:Ot,month:Gr,day:Ot,hour:Ot,minute:Ot,timeZoneName:si},Yc={year:Ot,month:Gr,day:Ot,hour:Ot,minute:Ot,second:Ot,timeZoneName:si},$c={year:Ot,month:Gr,day:Ot,weekday:Gr,hour:Ot,minute:Ot,timeZoneName:Gr},Wc={year:Ot,month:Gr,day:Ot,weekday:Gr,hour:Ot,minute:Ot,second:Ot,timeZoneName:Gr};function mn(e){return typeof e>"u"}function Na(e){return typeof e=="number"}function Su(e){return typeof e=="number"&&e%1===0}function hv(e){return typeof e=="string"}function pv(e){return Object.prototype.toString.call(e)==="[object Date]"}function gi(){try{return typeof Intl<"u"&&Intl.DateTimeFormat}catch{return!1}}function ss(){return!mn(Intl.DateTimeFormat.prototype.formatToParts)}function Op(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function mv(e){return Array.isArray(e)?e:[e]}function Jf(e,t,n){if(e.length!==0)return e.reduce((r,i)=>{const o=[t(i),i];return r&&n(r[0],o[0])===r[0]?r:o},null)[1]}function Dp(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function eo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bi(e,t,n){return Su(e)&&e>=t&&e<=n}function gv(e,t){return e-t*Math.floor(e/t)}function Wa(e,t=2){const n=e<0?"-":"",r=n?e*-1:e;let i;return r.toString().length<t?i=("0".repeat(t)+r).slice(-t):i=r.toString(),`${n}${i}`}function Rr(e){if(!(mn(e)||e===null||e===""))return parseInt(e,10)}function zc(e){if(!(mn(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Kc(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function us(e){return e%4===0&&(e%100!==0||e%400===0)}function qo(e){return us(e)?366:365}function Js(e,t){const n=gv(t-1,12)+1,r=e+(t-n)/12;return n===2?us(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Xc(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function eu(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function jl(e){return e>99?e:e>60?1900+e:2e3+e}function Pp(e,t,n,r=null){const i=new Date(e),o={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const u=Object.assign({timeZoneName:t},o),l=gi();if(l&&ss()){const f=new Intl.DateTimeFormat(n,u).formatToParts(i).find(d=>d.type.toLowerCase()==="timezonename");return f?f.value:null}else if(l){const f=new Intl.DateTimeFormat(n,o).format(i);return new Intl.DateTimeFormat(n,u).format(i).substring(f.length).replace(/^[, \u200e]+/,"")}else return null}function Iu(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Lp(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Yr(`Invalid unit value ${e}`);return t}function tu(e,t,n){const r={};for(const i in e)if(eo(e,i)){if(n.indexOf(i)>=0)continue;const o=e[i];if(o==null)continue;r[t(i)]=Lp(o)}return r}function nu(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Wa(n,2)}:${Wa(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Wa(n,2)}${Wa(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function wu(e){return Dp(e,["hour","minute","second","millisecond"])}const xp=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Yn(e){return JSON.stringify(e,Object.keys(e).sort())}const yv=["January","February","March","April","May","June","July","August","September","October","November","December"],Fp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_v=["J","F","M","A","M","J","J","A","S","O","N","D"];function kp(e){switch(e){case"narrow":return[..._v];case"short":return[...Fp];case"long":return[...yv];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Up=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Bp=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Tv=["M","T","W","T","F","S","S"];function Gp(e){switch(e){case"narrow":return[...Tv];case"short":return[...Bp];case"long":return[...Up];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const jp=["AM","PM"],vv=["Before Christ","Anno Domini"],Ev=["BC","AD"],bv=["B","A"];function Hp(e){switch(e){case"narrow":return[...bv];case"short":return[...Ev];case"long":return[...vv];default:return null}}function Av(e){return jp[e.hour<12?0:1]}function Sv(e,t){return Gp(t)[e.weekday-1]}function Iv(e,t){return kp(t)[e.month-1]}function wv(e,t){return Hp(t)[e.year<0?0:1]}function Rv(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&o){const c=e==="days";switch(t){case 1:return c?"tomorrow":`next ${i[e][0]}`;case-1:return c?"yesterday":`last ${i[e][0]}`;case 0:return c?"today":`this ${i[e][0]}`}}const u=Object.is(t,-0)||t<0,l=Math.abs(t),f=l===1,d=i[e],m=r?f?d[1]:d[2]||d[1]:f?i[e][0]:e;return u?`${l} ${m} ago`:`in ${l} ${m}`}function Cv(e){const t=Dp(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),n=Yn(t),r="EEEE, LLLL d, yyyy, h:mm a";switch(n){case Yn(Zs):return"M/d/yyyy";case Yn(Mc):return"LLL d, yyyy";case Yn(Mp):return"EEE, LLL d, yyyy";case Yn(Nc):return"LLLL d, yyyy";case Yn(Oc):return"EEEE, LLLL d, yyyy";case Yn(Dc):return"h:mm a";case Yn(Pc):return"h:mm:ss a";case Yn(Lc):return"h:mm a";case Yn(xc):return"h:mm a";case Yn(Fc):return"HH:mm";case Yn(kc):return"HH:mm:ss";case Yn(Uc):return"HH:mm";case Yn(Bc):return"HH:mm";case Yn(Gc):return"M/d/yyyy, h:mm a";case Yn(Hc):return"LLL d, yyyy, h:mm a";case Yn(qc):return"LLLL d, yyyy, h:mm a";case Yn($c):return r;case Yn(jc):return"M/d/yyyy, h:mm:ss a";case Yn(Vc):return"LLL d, yyyy, h:mm:ss a";case Yn(Np):return"EEE, d LLL yyyy, h:mm a";case Yn(Yc):return"LLLL d, yyyy, h:mm:ss a";case Yn(Wc):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function ed(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Mv={D:Zs,DD:Mc,DDD:Nc,DDDD:Oc,t:Dc,tt:Pc,ttt:Lc,tttt:xc,T:Fc,TT:kc,TTT:Uc,TTTT:Bc,f:Gc,ff:Hc,fff:qc,ffff:$c,F:jc,FF:Vc,FFF:Yc,FFFF:Wc};class Cr{static create(t,n={}){return new Cr(t,n)}static parseFormat(t){let n=null,r="",i=!1;const o=[];for(let u=0;u<t.length;u++){const l=t.charAt(u);l==="'"?(r.length>0&&o.push({literal:i,val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&o.push({literal:!1,val:r}),r=l,n=l)}return r.length>0&&o.push({literal:i,val:r}),o}static macroTokenToFormatOpts(t){return Mv[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,Object.assign({},this.opts,n)).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,Object.assign({},this.opts,n)).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,Object.assign({},this.opts,n)).formatToParts()}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,Object.assign({},this.opts,n)).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Wa(t,n);const r=Object.assign({},this.opts);return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&ss(),o=(T,g)=>this.loc.extract(t,T,g),u=T=>t.isOffsetFixed&&t.offset===0&&T.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,T.format):"",l=()=>r?Av(t):o({hour:"numeric",hour12:!0},"dayperiod"),f=(T,g)=>r?Iv(t,T):o(g?{month:T}:{month:T,day:"numeric"},"month"),d=(T,g)=>r?Sv(t,T):o(g?{weekday:T}:{weekday:T,month:"long",day:"numeric"},"weekday"),m=T=>{const g=Cr.macroTokenToFormatOpts(T);return g?this.formatWithSystemDefault(t,g):T},c=T=>r?wv(t,T):o({era:T},"era"),p=T=>{switch(T){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(T)}};return ed(Cr.parseFormat(n),p)}formatDurationFromString(t,n){const r=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},i=f=>d=>{const m=r(d);return m?this.num(f.get(m),d.length):d},o=Cr.parseFormat(n),u=o.reduce((f,{literal:d,val:m})=>d?f:f.concat(m),[]),l=t.shiftTo(...u.map(r).filter(f=>f));return ed(o,i(l))}}class ri{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class ls{get type(){throw new Ui}get name(){throw new Ui}get universal(){throw new Ui}offsetName(t,n){throw new Ui}formatOffset(t,n){throw new Ui}offset(t){throw new Ui}equals(t){throw new Ui}get isValid(){throw new Ui}}let ul=null;class Qc extends ls{static get instance(){return ul===null&&(ul=new Qc),ul}get type(){return"local"}get name(){return gi()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(t,{format:n,locale:r}){return Pp(t,n,r)}formatOffset(t,n){return nu(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="local"}get isValid(){return!0}}const Nv=RegExp(`^${xp.source}$`);let Hs={};function Ov(e){return Hs[e]||(Hs[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Hs[e]}const Dv={year:0,month:1,day:2,hour:3,minute:4,second:5};function Pv(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,u,l,f,d]=r;return[u,i,o,l,f,d]}function Lv(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:o,value:u}=n[i],l=Dv[o];mn(l)||(r[l]=parseInt(u,10))}return r}let Cs={};class Kr extends ls{static create(t){return Cs[t]||(Cs[t]=new Kr(t)),Cs[t]}static resetCache(){Cs={},Hs={}}static isValidSpecifier(t){return!!(t&&t.match(Nv))}static isValidZone(t){try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}static parseGMTOffset(t){if(t){const n=t.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(n)return-60*parseInt(n[1])}return null}constructor(t){super(),this.zoneName=t,this.valid=Kr.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(t,{format:n,locale:r}){return Pp(t,n,r,this.name)}formatOffset(t,n){return nu(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=Ov(this.name),[i,o,u,l,f,d]=r.formatToParts?Lv(r,n):Pv(r,n),c=Xc({year:i,month:o,day:u,hour:l===24?0:l,minute:f,second:d,millisecond:0});let p=+n;const T=p%1e3;return p-=T>=0?T:1e3+T,(c-p)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let ll=null;class pr extends ls{static get utcInstance(){return ll===null&&(ll=new pr(0)),ll}static instance(t){return t===0?pr.utcInstance:new pr(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new pr(Iu(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${nu(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return nu(this.fixed,n)}get universal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class td extends ls{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ba(e,t){let n;if(mn(e)||e===null)return t;if(e instanceof ls)return e;if(hv(e)){const r=e.toLowerCase();return r==="local"?t:r==="utc"||r==="gmt"?pr.utcInstance:(n=Kr.parseGMTOffset(e))!=null?pr.instance(n):Kr.isValidSpecifier(r)?Kr.create(e):pr.parseSpecifier(r)||new td(e)}else return Na(e)?pr.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new td(e)}let nd=()=>Date.now(),cl=null,rd=null,id=null,ad=null,od=!1;class zn{static get now(){return nd}static set now(t){nd=t}static get defaultZoneName(){return zn.defaultZone.name}static set defaultZoneName(t){t?cl=ba(t):cl=null}static get defaultZone(){return cl||Qc.instance}static get defaultLocale(){return rd}static set defaultLocale(t){rd=t}static get defaultNumberingSystem(){return id}static set defaultNumberingSystem(t){id=t}static get defaultOutputCalendar(){return ad}static set defaultOutputCalendar(t){ad=t}static get throwOnInvalid(){return od}static set throwOnInvalid(t){od=t}static resetCaches(){$n.resetCache(),Kr.resetCache()}}let Hl={};function Vl(e,t={}){const n=JSON.stringify([e,t]);let r=Hl[n];return r||(r=new Intl.DateTimeFormat(e,t),Hl[n]=r),r}let ql={};function xv(e,t={}){const n=JSON.stringify([e,t]);let r=ql[n];return r||(r=new Intl.NumberFormat(e,t),ql[n]=r),r}let Yl={};function Fv(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let o=Yl[i];return o||(o=new Intl.RelativeTimeFormat(e,t),Yl[i]=o),o}let va=null;function kv(){if(va)return va;if(gi()){const e=new Intl.DateTimeFormat().resolvedOptions().locale;return va=!e||e==="und"?"en-US":e,va}else return va="en-US",va}function Uv(e){const t=e.indexOf("-u-");if(t===-1)return[e];{let n;const r=e.substring(0,t);try{n=Vl(e).resolvedOptions()}catch{n=Vl(r).resolvedOptions()}const{numberingSystem:i,calendar:o}=n;return[r,i,o]}}function Bv(e,t,n){return gi()?((n||t)&&(e+="-u",n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e):[]}function Gv(e){const t=[];for(let n=1;n<=12;n++){const r=xt.utc(2016,n,1);t.push(e(r))}return t}function jv(e){const t=[];for(let n=1;n<=7;n++){const r=xt.utc(2016,11,13+n);t.push(e(r))}return t}function Ms(e,t,n,r,i){const o=e.listingMode(n);return o==="error"?null:o==="en"?r(t):i(t)}function Hv(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||gi()&&new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Vv{constructor(t,n,r){if(this.padTo=r.padTo||0,this.floor=r.floor||!1,!n&&gi()){const i={useGrouping:!1};r.padTo>0&&(i.minimumIntegerDigits=r.padTo),this.inf=xv(t,i)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):Kc(t,3);return Wa(n,this.padTo)}}}class qv{constructor(t,n,r){this.opts=r,this.hasIntl=gi();let i;if(t.zone.universal&&this.hasIntl){const o=-1*(t.offset/60),u=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`,l=Kr.isValidZone(u);t.offset!==0&&l?(i=u,this.dt=t):(i="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:xt.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,i=t.zone.name);if(this.hasIntl){const o=Object.assign({},this.opts);i&&(o.timeZone=i),this.dtf=Vl(n,o)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const t=Cv(this.opts),n=$n.create("en-US");return Cr.create(n).formatDateTimeFromString(this.dt,t)}}formatToParts(){return this.hasIntl&&ss()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}}class Yv{constructor(t,n,r){this.opts=Object.assign({style:"long"},r),!n&&Op()&&(this.rtf=Fv(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):Rv(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class $n{static fromOpts(t){return $n.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,i=!1){const o=t||zn.defaultLocale,u=o||(i?"en-US":kv()),l=n||zn.defaultNumberingSystem,f=r||zn.defaultOutputCalendar;return new $n(u,l,f,o)}static resetCache(){va=null,Hl={},ql={},Yl={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return $n.create(t,n,r)}constructor(t,n,r,i){const[o,u,l]=Uv(t);this.locale=o,this.numberingSystem=n||u||null,this.outputCalendar=r||l||null,this.intl=Bv(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Hv(this)),this.fastNumbersCached}listingMode(t=!0){const n=gi(),r=n&&ss(),i=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!r&&!(i&&o)&&!t?"error":!r||i&&o?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:$n.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone(Object.assign({},t,{defaultToEN:!0}))}redefaultToSystem(t={}){return this.clone(Object.assign({},t,{defaultToEN:!1}))}months(t,n=!1,r=!0){return Ms(this,t,r,kp,()=>{const i=n?{month:t,day:"numeric"}:{month:t},o=n?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=Gv(u=>this.extract(u,i,"month"))),this.monthsCache[o][t]})}weekdays(t,n=!1,r=!0){return Ms(this,t,r,Gp,()=>{const i=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=n?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=jv(u=>this.extract(u,i,"weekday"))),this.weekdaysCache[o][t]})}meridiems(t=!0){return Ms(this,void 0,t,()=>jp,()=>{if(!this.meridiemCache){const n={hour:"numeric",hour12:!0};this.meridiemCache=[xt.utc(2016,11,13,9),xt.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return Ms(this,t,n,Hp,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[xt.utc(-40,1,1),xt.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,n,r){const i=this.dtFormatter(t,n),o=i.formatToParts(),u=o.find(l=>l.type.toLowerCase()===r);return u?u.value:null}numberFormatter(t={}){return new Vv(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new qv(t,this.intl,n)}relFormatter(t={}){return new Yv(this.intl,this.isEnglish(),t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||gi()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function uo(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function ka(...e){return t=>e.reduce(([n,r,i],o)=>{const[u,l,f]=o(t,i);return[Object.assign(n,u),r||l,f]},[{},null,1]).slice(0,2)}function lo(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const i=n.exec(e);if(i)return r(i)}return[null,null]}function Vp(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=Rr(t[n+i]);return[r,null,n+i]}}const qp=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Yp=RegExp(`${Zc.source}${qp.source}?`),Jc=RegExp(`(?:T${Yp.source})?`),$v=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wv=/(\d{4})-?W(\d\d)(?:-?(\d))?/,zv=/(\d{4})-?(\d{3})/,Kv=Vp("weekYear","weekNumber","weekDay"),Xv=Vp("year","ordinal"),Qv=/(\d{4})-(\d\d)-(\d\d)/,$p=RegExp(`${Zc.source} ?(?:${qp.source}|(${xp.source}))?`),Zv=RegExp(`(?: ${$p.source})?`);function Qa(e,t,n){const r=e[t];return mn(r)?n:Rr(r)}function Wp(e,t){return[{year:Qa(e,t),month:Qa(e,t+1,1),day:Qa(e,t+2,1)},null,t+3]}function Ua(e,t){return[{hours:Qa(e,t,0),minutes:Qa(e,t+1,0),seconds:Qa(e,t+2,0),milliseconds:zc(e[t+3])},null,t+4]}function co(e,t){const n=!e[t]&&!e[t+1],r=Iu(e[t+1],e[t+2]),i=n?null:pr.instance(r);return[{},i,t+3]}function zp(e,t){const n=e[t]?Kr.create(e[t]):null;return[{},n,t+1]}const Jv=RegExp(`^T?${Zc.source}$`),eE=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function tE(e){const[t,n,r,i,o,u,l,f,d]=e,m=t[0]==="-",c=f&&f[0]==="-",p=(T,g=!1)=>T!==void 0&&(g||T&&m)?-T:T;return[{years:p(Rr(n)),months:p(Rr(r)),weeks:p(Rr(i)),days:p(Rr(o)),hours:p(Rr(u)),minutes:p(Rr(l)),seconds:p(Rr(f),f==="-0"),milliseconds:p(zc(d),c)}]}const nE={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function e0(e,t,n,r,i,o,u){const l={year:t.length===2?jl(Rr(t)):Rr(t),month:Fp.indexOf(n)+1,day:Rr(r),hour:Rr(i),minute:Rr(o)};return u&&(l.second=Rr(u)),e&&(l.weekday=e.length>3?Up.indexOf(e)+1:Bp.indexOf(e)+1),l}const rE=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function iE(e){const[,t,n,r,i,o,u,l,f,d,m,c]=e,p=e0(t,i,r,n,o,u,l);let T;return f?T=nE[f]:d?T=0:T=Iu(m,c),[p,new pr(T)]}function aE(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const oE=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sE=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,uE=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function sd(e){const[,t,n,r,i,o,u,l]=e;return[e0(t,i,r,n,o,u,l),pr.utcInstance]}function lE(e){const[,t,n,r,i,o,u,l]=e;return[e0(t,l,n,r,i,o,u),pr.utcInstance]}const cE=uo($v,Jc),fE=uo(Wv,Jc),dE=uo(zv,Jc),hE=uo(Yp),pE=ka(Wp,Ua,co),mE=ka(Kv,Ua,co),gE=ka(Xv,Ua,co),yE=ka(Ua,co);function _E(e){return lo(e,[cE,pE],[fE,mE],[dE,gE],[hE,yE])}function TE(e){return lo(aE(e),[rE,iE])}function vE(e){return lo(e,[oE,sd],[sE,sd],[uE,lE])}function EE(e){return lo(e,[eE,tE])}const bE=ka(Ua);function AE(e){return lo(e,[Jv,bE])}const SE=uo(Qv,Zv),IE=uo($p),wE=ka(Wp,Ua,co,zp),RE=ka(Ua,co,zp);function CE(e){return lo(e,[SE,wE],[IE,RE])}const ME="Invalid Duration",Kp={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},NE=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Kp),qr=146097/400,ja=146097/4800,OE=Object.assign({years:{quarters:4,months:12,weeks:qr/7,days:qr,hours:qr*24,minutes:qr*24*60,seconds:qr*24*60*60,milliseconds:qr*24*60*60*1e3},quarters:{months:3,weeks:qr/28,days:qr/4,hours:qr*24/4,minutes:qr*24*60/4,seconds:qr*24*60*60/4,milliseconds:qr*24*60*60*1e3/4},months:{weeks:ja/7,days:ja,hours:ja*24,minutes:ja*24*60,seconds:ja*24*60*60,milliseconds:ja*24*60*60*1e3}},Kp),qa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],DE=qa.slice(0).reverse();function _a(e,t,n=!1){const r={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new Ln(r)}function PE(e){return e<0?Math.floor(e):Math.ceil(e)}function Xp(e,t,n,r,i){const o=e[i][n],u=t[n]/o,l=Math.sign(u)===Math.sign(r[i]),f=!l&&r[i]!==0&&Math.abs(u)<=1?PE(u):Math.trunc(u);r[i]+=f,t[n]-=f*o}function LE(e,t){DE.reduce((n,r)=>mn(t[r])?n:(n&&Xp(e,t,n,t,r),r),null)}class Ln{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||$n.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n?OE:NE,this.isLuxonDuration=!0}static fromMillis(t,n){return Ln.fromObject(Object.assign({milliseconds:t},n))}static fromObject(t){if(t==null||typeof t!="object")throw new Yr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Ln({values:tu(t,Ln.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:$n.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromISO(t,n){const[r]=EE(t);if(r){const i=Object.assign(r,n);return Ln.fromObject(i)}else return Ln.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=AE(t);if(r){const i=Object.assign(r,n);return Ln.fromObject(i)}else return Ln.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Yr("need to specify a reason the Duration is invalid");const r=t instanceof ri?t:new ri(t,n);if(zn.throwOnInvalid)throw new dv(r);return new Ln({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new Cp(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r=Object.assign({},n,{floor:n.round!==!1&&n.floor!==!1});return this.isValid?Cr.create(this.loc,r).formatDurationFromString(this,t):ME}toObject(t={}){if(!this.isValid)return{};const n=Object.assign({},this.values);return t.includeConfig&&(n.conversionAccuracy=this.conversionAccuracy,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Kc(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let o=r.toFormat(i);return t.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=Ca(t),r={};for(const i of qa)(eo(n.values,i)||eo(this.values,i))&&(r[i]=n.get(i)+this.get(i));return _a(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=Ca(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Lp(t(this.values[r],r));return _a(this,{values:n},!0)}get(t){return this[Ln.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n=Object.assign(this.values,tu(t,Ln.normalizeUnit,[]));return _a(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r}={}){const i=this.loc.clone({locale:t,numberingSystem:n}),o={loc:i};return r&&(o.conversionAccuracy=r),_a(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return LE(this.matrix,t),_a(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(u=>Ln.normalizeUnit(u));const n={},r={},i=this.toObject();let o;for(const u of qa)if(t.indexOf(u)>=0){o=u;let l=0;for(const d in r)l+=this.matrix[d][u]*r[d],r[d]=0;Na(i[u])&&(l+=i[u]);const f=Math.trunc(l);n[u]=f,r[u]=l-f;for(const d in i)qa.indexOf(d)>qa.indexOf(u)&&Xp(this.matrix,i,d,n,u)}else Na(i[u])&&(r[u]=i[u]);for(const u in r)r[u]!==0&&(n[o]+=u===o?r[u]:r[u]/this.matrix[o][u]);return _a(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=-this.values[n];return _a(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of qa)if(!n(this.values[r],t.values[r]))return!1;return!0}}function Ca(e){if(Na(e))return Ln.fromMillis(e);if(Ln.isDuration(e))return e;if(typeof e=="object")return Ln.fromObject(e);throw new Yr(`Unknown duration argument ${e} of type ${typeof e}`)}const Co="Invalid Interval";function xE(e,t){return!e||!e.isValid?Wn.invalid("missing or invalid start"):!t||!t.isValid?Wn.invalid("missing or invalid end"):t<e?Wn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Wn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Yr("need to specify a reason the Interval is invalid");const r=t instanceof ri?t:new ri(t,n);if(zn.throwOnInvalid)throw new fv(r);return new Wn({invalid:r})}static fromDateTimes(t,n){const r=Oo(t),i=Oo(n),o=xE(r,i);return o??new Wn({start:r,end:i})}static after(t,n){const r=Ca(n),i=Oo(t);return Wn.fromDateTimes(i,i.plus(r))}static before(t,n){const r=Ca(n),i=Oo(t);return Wn.fromDateTimes(i.minus(r),i)}static fromISO(t,n){const[r,i]=(t||"").split("/",2);if(r&&i){let o,u;try{o=xt.fromISO(r,n),u=o.isValid}catch{u=!1}let l,f;try{l=xt.fromISO(i,n),f=l.isValid}catch{f=!1}if(u&&f)return Wn.fromDateTimes(o,l);if(u){const d=Ln.fromISO(i,n);if(d.isValid)return Wn.after(o,d)}else if(f){const d=Ln.fromISO(r,n);if(d.isValid)return Wn.before(l,d)}}return Wn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Wn.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Oo).filter(u=>this.contains(u)).sort(),r=[];let{s:i}=this,o=0;for(;i<this.e;){const u=n[o]||this.e,l=+u>+this.e?this.e:u;r.push(Wn.fromDateTimes(i,l)),i=l,o+=1}return r}splitBy(t){const n=Ca(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const u=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(f=>f*i));o=+l>+this.e?this.e:l,u.push(Wn.fromDateTimes(r,o)),r=o,i+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:Wn.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Wn.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[i,o.union(u)]:[i.concat([o]),u]:[i,u],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const i=[],o=t.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),u=Array.prototype.concat(...o),l=u.sort((f,d)=>f.time-d.time);for(const f of l)r+=f.type==="s"?1:-1,r===1?n=f.time:(n&&+n!=+f.time&&i.push(Wn.fromDateTimes(n,f.time)),n=null);return Wn.merge(i)}difference(...t){return Wn.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Co}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Co}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Co}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Co}toFormat(t,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:Co}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):Ln.invalid(this.invalidReason)}mapEndpoints(t){return Wn.fromDateTimes(t(this.s),t(this.e))}}class Ns{static hasDST(t=zn.defaultZone){const n=xt.now().setZone(t).set({month:12});return!t.universal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return Kr.isValidSpecifier(t)&&Kr.isValidZone(t)}static normalizeZone(t){return ba(t,zn.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||$n.create(n,r,o)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||$n.create(n,r,o)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||$n.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||$n.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return $n.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return $n.create(n,null,"gregory").eras(t)}static features(){let t=!1,n=!1,r=!1,i=!1;if(gi()){t=!0,n=ss(),i=Op();try{r=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{r=!1}}return{intl:t,intlTokens:n,zones:r,relative:i}}}function ud(e,t){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Ln.fromMillis(r).as("days"))}function FE(e,t,n){const r=[["years",(l,f)=>f.year-l.year],["quarters",(l,f)=>f.quarter-l.quarter],["months",(l,f)=>f.month-l.month+(f.year-l.year)*12],["weeks",(l,f)=>{const d=ud(l,f);return(d-d%7)/7}],["days",ud]],i={};let o,u;for(const[l,f]of r)if(n.indexOf(l)>=0){o=l;let d=f(e,t);u=e.plus({[l]:d}),u>t?(e=e.plus({[l]:d-1}),d-=1):e=u,i[l]=d}return[e,i,u,o]}function kE(e,t,n,r){let[i,o,u,l]=FE(e,t,n);const f=t-i,d=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);d.length===0&&(u<t&&(u=i.plus({[l]:1})),u!==i&&(o[l]=(o[l]||0)+f/(u-i)));const m=Ln.fromObject(Object.assign(o,r));return d.length>0?Ln.fromMillis(f,r).shiftTo(...d).plus(m):m}const t0={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},ld={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},UE=t0.hanidec.replace(/[\[|\]]/g,"").split("");function BE(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(t0.hanidec)!==-1)t+=UE.indexOf(e[n]);else for(const i in ld){const[o,u]=ld[i];r>=o&&r<=u&&(t+=r-o)}}return parseInt(t,10)}else return t}function Zr({numberingSystem:e},t=""){return new RegExp(`${t0[e||"latn"]}${t}`)}const GE="missing Intl.DateTimeFormat.formatToParts support";function In(e,t=n=>n){return{regex:e,deser:([n])=>t(BE(n))}}const jE=String.fromCharCode(160),Qp=`( |${jE})`,Zp=new RegExp(Qp,"g");function HE(e){return e.replace(/\./g,"\\.?").replace(Zp,Qp)}function cd(e){return e.replace(/\./g,"").replace(Zp," ").toLowerCase()}function Jr(e,t){return e===null?null:{regex:RegExp(e.map(HE).join("|")),deser:([n])=>e.findIndex(r=>cd(n)===cd(r))+t}}function fd(e,t){return{regex:e,deser:([,n,r])=>Iu(n,r),groups:t}}function dd(e){return{regex:e,deser:([t])=>t}}function VE(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function qE(e,t){const n=Zr(t),r=Zr(t,"{2}"),i=Zr(t,"{3}"),o=Zr(t,"{4}"),u=Zr(t,"{6}"),l=Zr(t,"{1,2}"),f=Zr(t,"{1,3}"),d=Zr(t,"{1,6}"),m=Zr(t,"{1,9}"),c=Zr(t,"{2,4}"),p=Zr(t,"{4,6}"),T=v=>({regex:RegExp(VE(v.val)),deser:([w])=>w,literal:!0}),D=(v=>{if(e.literal)return T(v);switch(v.val){case"G":return Jr(t.eras("short",!1),0);case"GG":return Jr(t.eras("long",!1),0);case"y":return In(d);case"yy":return In(c,jl);case"yyyy":return In(o);case"yyyyy":return In(p);case"yyyyyy":return In(u);case"M":return In(l);case"MM":return In(r);case"MMM":return Jr(t.months("short",!0,!1),1);case"MMMM":return Jr(t.months("long",!0,!1),1);case"L":return In(l);case"LL":return In(r);case"LLL":return Jr(t.months("short",!1,!1),1);case"LLLL":return Jr(t.months("long",!1,!1),1);case"d":return In(l);case"dd":return In(r);case"o":return In(f);case"ooo":return In(i);case"HH":return In(r);case"H":return In(l);case"hh":return In(r);case"h":return In(l);case"mm":return In(r);case"m":return In(l);case"q":return In(l);case"qq":return In(r);case"s":return In(l);case"ss":return In(r);case"S":return In(f);case"SSS":return In(i);case"u":return dd(m);case"a":return Jr(t.meridiems(),0);case"kkkk":return In(o);case"kk":return In(c,jl);case"W":return In(l);case"WW":return In(r);case"E":case"c":return In(n);case"EEE":return Jr(t.weekdays("short",!1,!1),1);case"EEEE":return Jr(t.weekdays("long",!1,!1),1);case"ccc":return Jr(t.weekdays("short",!0,!1),1);case"cccc":return Jr(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return fd(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return fd(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return dd(/[a-z_+-/]{1,256}?/i);default:return T(v)}})(e)||{invalidReason:GE};return D.token=e,D}const YE={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function $E(e,t,n){const{type:r,value:i}=e;if(r==="literal")return{literal:!0,val:i};const o=n[r];let u=YE[r];if(typeof u=="object"&&(u=u[o]),u)return{literal:!1,val:u}}function WE(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function zE(e,t,n){const r=e.match(t);if(r){const i={};let o=1;for(const u in n)if(eo(n,u)){const l=n[u],f=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(o,o+f))),o+=f}return[r,i]}else return[r,{}]}function KE(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n;return mn(e.Z)?mn(e.z)?n=null:n=Kr.create(e.z):n=new pr(e.Z),mn(e.q)||(e.M=(e.q-1)*3+1),mn(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),mn(e.u)||(e.S=zc(e.u)),[Object.keys(e).reduce((i,o)=>{const u=t(o);return u&&(i[u]=e[o]),i},{}),n]}let fl=null;function XE(){return fl||(fl=xt.fromMillis(1555555555555)),fl}function QE(e,t){if(e.literal)return e;const n=Cr.macroTokenToFormatOpts(e.val);if(!n)return e;const o=Cr.create(t,n).formatDateTimeParts(XE()).map(u=>$E(u,t,n));return o.includes(void 0)?e:o}function ZE(e,t){return Array.prototype.concat(...e.map(n=>QE(n,t)))}function Jp(e,t,n){const r=ZE(Cr.parseFormat(n),e),i=r.map(u=>qE(u,e)),o=i.find(u=>u.invalidReason);if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[u,l]=WE(i),f=RegExp(u,"i"),[d,m]=zE(t,f,l),[c,p]=m?KE(m):[null,null];if(eo(m,"a")&&eo(m,"H"))throw new Fo("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:f,rawMatches:d,matches:m,result:c,zone:p}}}function JE(e,t,n){const{result:r,zone:i,invalidReason:o}=Jp(e,t,n);return[r,i,o]}const em=[0,31,59,90,120,151,181,212,243,273,304,334],tm=[0,31,60,91,121,152,182,213,244,274,305,335];function Wr(e,t){return new ri("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function nm(e,t,n){const r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return r===0?7:r}function rm(e,t,n){return n+(us(e)?tm:em)[t-1]}function im(e,t){const n=us(e)?tm:em,r=n.findIndex(o=>o<t),i=t-n[r];return{month:r+1,day:i}}function $l(e){const{year:t,month:n,day:r}=e,i=rm(t,n,r),o=nm(t,n,r);let u=Math.floor((i-o+10)/7),l;return u<1?(l=t-1,u=eu(l)):u>eu(t)?(l=t+1,u=1):l=t,Object.assign({weekYear:l,weekNumber:u,weekday:o},wu(e))}function hd(e){const{weekYear:t,weekNumber:n,weekday:r}=e,i=nm(t,1,4),o=qo(t);let u=n*7+r-i-3,l;u<1?(l=t-1,u+=qo(l)):u>o?(l=t+1,u-=qo(t)):l=t;const{month:f,day:d}=im(l,u);return Object.assign({year:l,month:f,day:d},wu(e))}function dl(e){const{year:t,month:n,day:r}=e,i=rm(t,n,r);return Object.assign({year:t,ordinal:i},wu(e))}function pd(e){const{year:t,ordinal:n}=e,{month:r,day:i}=im(t,n);return Object.assign({year:t,month:r,day:i},wu(e))}function e1(e){const t=Su(e.weekYear),n=bi(e.weekNumber,1,eu(e.weekYear)),r=bi(e.weekday,1,7);return t?n?r?!1:Wr("weekday",e.weekday):Wr("week",e.week):Wr("weekYear",e.weekYear)}function t1(e){const t=Su(e.year),n=bi(e.ordinal,1,qo(e.year));return t?n?!1:Wr("ordinal",e.ordinal):Wr("year",e.year)}function am(e){const t=Su(e.year),n=bi(e.month,1,12),r=bi(e.day,1,Js(e.year,e.month));return t?n?r?!1:Wr("day",e.day):Wr("month",e.month):Wr("year",e.year)}function om(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=bi(t,0,23)||t===24&&n===0&&r===0&&i===0,u=bi(n,0,59),l=bi(r,0,59),f=bi(i,0,999);return o?u?l?f?!1:Wr("millisecond",i):Wr("second",r):Wr("minute",n):Wr("hour",t)}const hl="Invalid DateTime",md=864e13;function Os(e){return new ri("unsupported zone",`the zone "${e.name}" is not supported`)}function pl(e){return e.weekData===null&&(e.weekData=$l(e.c)),e.weekData}function Mo(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new xt(Object.assign({},n,t,{old:n}))}function sm(e,t,n){let r=e-t*60*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=(i-t)*60*1e3;const o=n.offset(r);return i===o?[r,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function gd(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Vs(e,t,n){return sm(Xc(e),t,n)}function yd(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o=Object.assign({},e.c,{year:r,month:i,day:Math.min(e.c.day,Js(r,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),u=Ln.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=Xc(o);let[f,d]=sm(l,n,e.zone);return u!==0&&(f+=u,d=e.zone.offset(f)),{ts:f,o:d}}function No(e,t,n,r,i){const{setZone:o,zone:u}=n;if(e&&Object.keys(e).length!==0){const l=t||u,f=xt.fromObject(Object.assign(e,n,{zone:l,setZone:void 0}));return o?f:f.setZone(u)}else return xt.invalid(new ri("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Ya(e,t,n=!0){return e.isValid?Cr.create($n.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function _d(e,{suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r,includePrefix:i=!1,includeZone:o=!1,spaceZone:u=!1,format:l="extended"}){let f=l==="basic"?"HHmm":"HH:mm";(!t||e.second!==0||e.millisecond!==0)&&(f+=l==="basic"?"ss":":ss",(!n||e.millisecond!==0)&&(f+=".SSS")),(o||r)&&u&&(f+=" "),o?f+="z":r&&(f+=l==="basic"?"ZZZ":"ZZ");let d=Ya(e,f);return i&&(d="T"+d),d}const um={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},n1={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},r1={ordinal:1,hour:0,minute:0,second:0,millisecond:0},lm=["year","month","day","hour","minute","second","millisecond"],i1=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],a1=["year","ordinal","hour","minute","second","millisecond"];function Td(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Cp(e);return t}function vd(e,t){for(const l of lm)mn(e[l])&&(e[l]=um[l]);const n=am(e)||om(e);if(n)return xt.invalid(n);const r=zn.now(),i=t.offset(r),[o,u]=Vs(e,i,t);return new xt({ts:o,zone:t,o:u})}function Ed(e,t,n){const r=mn(n.round)?!0:n.round,i=(u,l)=>(u=Kc(u,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(u,l)),o=u=>n.calendary?t.hasSame(e,u)?0:t.startOf(u).diff(e.startOf(u),u).get(u):t.diff(e,u).get(u);if(n.unit)return i(o(n.unit),n.unit);for(const u of n.units){const l=o(u);if(Math.abs(l)>=1)return i(l,u)}return i(e>t?-0:0,n.units[n.units.length-1])}class xt{constructor(t){const n=t.zone||zn.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new ri("invalid input"):null)||(n.isValid?null:Os(n));this.ts=mn(t.ts)?zn.now():t.ts;let i=null,o=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[i,o]=[t.old.c,t.old.o];else{const l=n.offset(this.ts);i=gd(this.ts,l),r=Number.isNaN(i.year)?new ri("invalid input"):null,i=r?null:i,o=r?null:l}this._zone=n,this.loc=t.loc||$n.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new xt({})}static local(t,n,r,i,o,u,l){return mn(t)?xt.now():vd({year:t,month:n,day:r,hour:i,minute:o,second:u,millisecond:l},zn.defaultZone)}static utc(t,n,r,i,o,u,l){return mn(t)?new xt({ts:zn.now(),zone:pr.utcInstance}):vd({year:t,month:n,day:r,hour:i,minute:o,second:u,millisecond:l},pr.utcInstance)}static fromJSDate(t,n={}){const r=pv(t)?t.valueOf():NaN;if(Number.isNaN(r))return xt.invalid("invalid input");const i=ba(n.zone,zn.defaultZone);return i.isValid?new xt({ts:r,zone:i,loc:$n.fromObject(n)}):xt.invalid(Os(i))}static fromMillis(t,n={}){if(Na(t))return t<-md||t>md?xt.invalid("Timestamp out of range"):new xt({ts:t,zone:ba(n.zone,zn.defaultZone),loc:$n.fromObject(n)});throw new Yr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(Na(t))return new xt({ts:t*1e3,zone:ba(n.zone,zn.defaultZone),loc:$n.fromObject(n)});throw new Yr("fromSeconds requires a numerical input")}static fromObject(t){const n=ba(t.zone,zn.defaultZone);if(!n.isValid)return xt.invalid(Os(n));const r=zn.now(),i=n.offset(r),o=tu(t,Td,["zone","locale","outputCalendar","numberingSystem"]),u=!mn(o.ordinal),l=!mn(o.year),f=!mn(o.month)||!mn(o.day),d=l||f,m=o.weekYear||o.weekNumber,c=$n.fromObject(t);if((d||u)&&m)throw new Fo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new Fo("Can't mix ordinal dates with month/day");const p=m||o.weekday&&!d;let T,g,D=gd(r,i);p?(T=i1,g=n1,D=$l(D)):u?(T=a1,g=r1,D=dl(D)):(T=lm,g=um);let v=!1;for(const F of T){const ie=o[F];mn(ie)?v?o[F]=g[F]:o[F]=D[F]:v=!0}const w=p?e1(o):u?t1(o):am(o),A=w||om(o);if(A)return xt.invalid(A);const N=p?hd(o):u?pd(o):o,[H,S]=Vs(N,i,n),M=new xt({ts:H,zone:n,o:S,loc:c});return o.weekday&&d&&t.weekday!==M.weekday?xt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${M.toISO()}`):M}static fromISO(t,n={}){const[r,i]=_E(t);return No(r,i,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,i]=TE(t);return No(r,i,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,i]=vE(t);return No(r,i,n,"HTTP",n)}static fromFormat(t,n,r={}){if(mn(t)||mn(n))throw new Yr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,u=$n.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[l,f,d]=JE(u,t,n);return d?xt.invalid(d):No(l,f,r,`format ${n}`,t)}static fromString(t,n,r={}){return xt.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,i]=CE(t);return No(r,i,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new Yr("need to specify a reason the DateTime is invalid");const r=t instanceof ri?t:new ri(t,n);if(zn.throwOnInvalid)throw new cv(r);return new xt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?pl(this).weekYear:NaN}get weekNumber(){return this.isValid?pl(this).weekNumber:NaN}get weekday(){return this.isValid?pl(this).weekday:NaN}get ordinal(){return this.isValid?dl(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ns.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ns.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ns.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ns.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return us(this.year)}get daysInMonth(){return Js(this.year,this.month)}get daysInYear(){return this.isValid?qo(this.year):NaN}get weeksInWeekYear(){return this.isValid?eu(this.weekYear):NaN}resolvedLocaleOpts(t={}){const{locale:n,numberingSystem:r,calendar:i}=Cr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(t=0,n={}){return this.setZone(pr.instance(t),n)}toLocal(){return this.setZone(zn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=ba(t,zn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(n||r){const o=t.offset(this.ts),u=this.toObject();[i]=Vs(u,o,t)}return Mo(this,{ts:i,zone:t})}else return xt.invalid(Os(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return Mo(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=tu(t,Td,[]),r=!mn(n.weekYear)||!mn(n.weekNumber)||!mn(n.weekday),i=!mn(n.ordinal),o=!mn(n.year),u=!mn(n.month)||!mn(n.day),l=o||u,f=n.weekYear||n.weekNumber;if((l||i)&&f)throw new Fo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&i)throw new Fo("Can't mix ordinal dates with month/day");let d;r?d=hd(Object.assign($l(this.c),n)):mn(n.ordinal)?(d=Object.assign(this.toObject(),n),mn(n.day)&&(d.day=Math.min(Js(d.year,d.month),d.day))):d=pd(Object.assign(dl(this.c),n));const[m,c]=Vs(d,this.o,this.zone);return Mo(this,{ts:m,o:c})}plus(t){if(!this.isValid)return this;const n=Ca(t);return Mo(this,yd(this,n))}minus(t){if(!this.isValid)return this;const n=Ca(t).negate();return Mo(this,yd(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=Ln.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Cr.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):hl}toLocaleString(t=Zs){return this.isValid?Cr.create(this.loc.clone(t),t).formatDateTime(this):hl}toLocaleParts(t={}){return this.isValid?Cr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO(t={}){return this.isValid?`${this.toISODate(t)}T${this.toISOTime(t)}`:null}toISODate({format:t="extended"}={}){let n=t==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),Ya(this,n)}toISOWeekDate(){return Ya(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,format:o="extended"}={}){return _d(this,{suppressSeconds:n,suppressMilliseconds:t,includeOffset:r,includePrefix:i,format:o})}toRFC2822(){return Ya(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ya(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return Ya(this,"yyyy-MM-dd")}toSQLTime({includeOffset:t=!0,includeZone:n=!1}={}){return _d(this,{includeOffset:t,includeZone:n,spaceZone:!0})}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():hl}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n=Object.assign({},this.c);return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return Ln.invalid(this.invalid||t.invalid,"created by diffing an invalid DateTime");const i=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},r),o=mv(n).map(Ln.normalizeUnit),u=t.valueOf()>this.valueOf(),l=u?this:t,f=u?t:this,d=kE(l,f,o,i);return u?d.negate():d}diffNow(t="milliseconds",n={}){return this.diff(xt.now(),t,n)}until(t){return this.isValid?Wn.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||xt.fromObject({zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),Ed(n,this.plus(r),Object.assign(t,{numeric:"always",units:i,unit:o}))}toRelativeCalendar(t={}){return this.isValid?Ed(t.base||xt.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(xt.isDateTime))throw new Yr("min requires all arguments be DateTimes");return Jf(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(xt.isDateTime))throw new Yr("max requires all arguments be DateTimes");return Jf(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:i=null,numberingSystem:o=null}=r,u=$n.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return Jp(u,t,n)}static fromStringExplain(t,n,r={}){return xt.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return Zs}static get DATE_MED(){return Mc}static get DATE_MED_WITH_WEEKDAY(){return Mp}static get DATE_FULL(){return Nc}static get DATE_HUGE(){return Oc}static get TIME_SIMPLE(){return Dc}static get TIME_WITH_SECONDS(){return Pc}static get TIME_WITH_SHORT_OFFSET(){return Lc}static get TIME_WITH_LONG_OFFSET(){return xc}static get TIME_24_SIMPLE(){return Fc}static get TIME_24_WITH_SECONDS(){return kc}static get TIME_24_WITH_SHORT_OFFSET(){return Uc}static get TIME_24_WITH_LONG_OFFSET(){return Bc}static get DATETIME_SHORT(){return Gc}static get DATETIME_SHORT_WITH_SECONDS(){return jc}static get DATETIME_MED(){return Hc}static get DATETIME_MED_WITH_SECONDS(){return Vc}static get DATETIME_MED_WITH_WEEKDAY(){return Np}static get DATETIME_FULL(){return qc}static get DATETIME_FULL_WITH_SECONDS(){return Yc}static get DATETIME_HUGE(){return $c}static get DATETIME_HUGE_WITH_SECONDS(){return Wc}}function Oo(e){if(xt.isDateTime(e))return e;if(e&&e.valueOf&&Na(e.valueOf()))return xt.fromJSDate(e);if(e&&typeof e=="object")return xt.fromObject(e);throw new Yr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Xr=Symbol("State");function Ci(){return Kn(Xr)}function cm(e){if(e.assessment&&e.assessment.terms_accepted)return!0;if(e.user){for(let t of e.user.assessments)if(t.started_at)return!0}return!1}function o1(e){if(e.user){for(let t of e.user.assessments)if(!t.finished_at&&xt.fromISO(t.end_date)>xt.now())return!1}return!0}function n0(e){const t=xt.fromISO(e.assessment.assessment_date);return`${t.toFormat("h:mm")} - ${t.plus({hours:1}).toFormat("h:mma ZZZZ")} on ${t.toFormat("cccc, MMMM d")}`}async function Wl(e,t){var i;xt.utc().startOf("hour");let n=(i=e.assessment)!=null&&i.assessment_date?xt.fromISO(e.assessment.assessment_date).toUTC().startOf("hour"):null;const r=n&&xt.utc().startOf("hour")>n;if(t)await e.api.updateAssessment({assessment_date:t.toISO()});else if(!n||r&&!e.assessment.can_start)try{await e.api.updateAssessment({assessment_date:"now"})}catch{}return e.assessment=await e.api.getAssessment(),e.assessment.can_start}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $a=typeof window<"u";function s1(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Gn=Object.assign;function ml(e,t){const n={};for(const r in t){const i=t[r];n[r]=ui(i)?i.map(e):e(i)}return n}const Yo=()=>{},ui=Array.isArray,u1=/\/$/,l1=e=>e.replace(u1,"");function gl(e,t,n="/"){let r,i={},o="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),o=t.slice(f+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=h1(r??t,n),{fullPath:r+(o&&"?")+o+u,path:r,query:i,hash:u}}function c1(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function f1(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&to(t.matched[r],n.matched[i])&&fm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function to(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!d1(e[n],t[n]))return!1;return!0}function d1(e,t){return ui(e)?bd(e,t):ui(t)?bd(t,e):e===t}function bd(e,t){return ui(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function h1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var ts;(function(e){e.pop="pop",e.push="push"})(ts||(ts={}));var ru;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ru||(ru={}));const yl="";function p1(e){if(!e)if($a){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),l1(e)}const m1=/^[^#]+#/;function g1(e,t){return e.replace(m1,"#")+t}function y1(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const _1=()=>({left:window.pageXOffset,top:window.pageYOffset});function T1(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=y1(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ad(e,t){return(history.state?history.state.position-t:-1)+e}const zl=new Map;function v1(e,t){zl.set(e,t)}function E1(e){const t=zl.get(e);return zl.delete(e),t}function b1(e=""){let t=[],n=[yl],r=0;e=p1(e);function i(l){r++,r===n.length||n.splice(r),n.push(l)}function o(l,f,{direction:d,delta:m}){const c={direction:d,delta:m,type:ts.pop};for(const p of t)p(l,f,c)}const u={location:yl,state:{},base:e,createHref:g1.bind(null,e),replace(l){n.splice(r--,1),i(l)},push(l,f){i(l)},listen(l){return t.push(l),()=>{const f=t.indexOf(l);f>-1&&t.splice(f,1)}},destroy(){t=[],n=[yl],r=0},go(l,f=!0){const d=this.location,m=l<0?ru.back:ru.forward;r=Math.max(0,Math.min(r+l,n.length-1)),f&&o(this.location,d,{direction:m,delta:l})}};return Object.defineProperty(u,"location",{enumerable:!0,get:()=>n[r]}),u}function A1(e){return typeof e=="string"||e&&typeof e=="object"}function dm(e){return typeof e=="string"||typeof e=="symbol"}const Bi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},hm=Symbol("");var Sd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Sd||(Sd={}));function no(e,t){return Gn(new Error,{type:e,[hm]:!0},t)}function vi(e,t){return e instanceof Error&&hm in e&&(t==null||!!(e.type&t))}const Id="[^/]+?",S1={sensitive:!1,strict:!1,start:!0,end:!0},I1=/[.+*?^${}()[\]/\\]/g;function w1(e,t){const n=Gn({},S1,t),r=[];let i=n.start?"^":"";const o=[];for(const d of e){const m=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let c=0;c<d.length;c++){const p=d[c];let T=40+(n.sensitive?.25:0);if(p.type===0)c||(i+="/"),i+=p.value.replace(I1,"\\$&"),T+=40;else if(p.type===1){const{value:g,repeatable:D,optional:v,regexp:w}=p;o.push({name:g,repeatable:D,optional:v});const A=w||Id;if(A!==Id){T+=10;try{new RegExp(`(${A})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+H.message)}}let N=D?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;c||(N=v&&d.length<2?`(?:/${N})`:"/"+N),v&&(N+="?"),i+=N,T+=20,v&&(T+=-8),D&&(T+=-20),A===".*"&&(T+=-50)}m.push(T)}r.push(m)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const u=new RegExp(i,n.sensitive?"":"i");function l(d){const m=d.match(u),c={};if(!m)return null;for(let p=1;p<m.length;p++){const T=m[p]||"",g=o[p-1];c[g.name]=T&&g.repeatable?T.split("/"):T}return c}function f(d){let m="",c=!1;for(const p of e){(!c||!m.endsWith("/"))&&(m+="/"),c=!1;for(const T of p)if(T.type===0)m+=T.value;else if(T.type===1){const{value:g,repeatable:D,optional:v}=T,w=g in d?d[g]:"";if(ui(w)&&!D)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=ui(w)?w.join("/"):w;if(!A)if(v)p.length<2&&(m.endsWith("/")?m=m.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);m+=A}}return m||"/"}return{re:u,score:r,keys:o,parse:l,stringify:f}}function R1(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function C1(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=R1(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(wd(r))return 1;if(wd(i))return-1}return i.length-r.length}function wd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const M1={type:0,value:""},N1=/[a-zA-Z0-9_]/;function O1(e){if(!e)return[[]];if(e==="/")return[[M1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(T){throw new Error(`ERR (${n})/"${d}": ${T}`)}let n=0,r=n;const i=[];let o;function u(){o&&i.push(o),o=[]}let l=0,f,d="",m="";function c(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&c(),u()):f===":"?(c(),n=1):p();break;case 4:p(),n=r;break;case 1:f==="("?n=2:N1.test(f)?p():(c(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:n=3:m+=f;break;case 3:c(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),c(),u(),i}function D1(e,t,n){const r=w1(O1(e.path),n),i=Gn(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function P1(e,t){const n=[],r=new Map;t=Md({strict:!1,end:!0,sensitive:!1},t);function i(m){return r.get(m)}function o(m,c,p){const T=!p,g=L1(m);g.aliasOf=p&&p.record;const D=Md(t,m),v=[g];if("alias"in m){const N=typeof m.alias=="string"?[m.alias]:m.alias;for(const H of N)v.push(Gn({},g,{components:p?p.record.components:g.components,path:H,aliasOf:p?p.record:g}))}let w,A;for(const N of v){const{path:H}=N;if(c&&H[0]!=="/"){const S=c.record.path,M=S[S.length-1]==="/"?"":"/";N.path=c.record.path+(H&&M+H)}if(w=D1(N,c,D),p?p.alias.push(w):(A=A||w,A!==w&&A.alias.push(w),T&&m.name&&!Cd(w)&&u(m.name)),g.children){const S=g.children;for(let M=0;M<S.length;M++)o(S[M],w,p&&p.children[M])}p=p||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&f(w)}return A?()=>{u(A)}:Yo}function u(m){if(dm(m)){const c=r.get(m);c&&(r.delete(m),n.splice(n.indexOf(c),1),c.children.forEach(u),c.alias.forEach(u))}else{const c=n.indexOf(m);c>-1&&(n.splice(c,1),m.record.name&&r.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function l(){return n}function f(m){let c=0;for(;c<n.length&&C1(m,n[c])>=0&&(m.record.path!==n[c].record.path||!pm(m,n[c]));)c++;n.splice(c,0,m),m.record.name&&!Cd(m)&&r.set(m.record.name,m)}function d(m,c){let p,T={},g,D;if("name"in m&&m.name){if(p=r.get(m.name),!p)throw no(1,{location:m});D=p.record.name,T=Gn(Rd(c.params,p.keys.filter(A=>!A.optional).map(A=>A.name)),m.params&&Rd(m.params,p.keys.map(A=>A.name))),g=p.stringify(T)}else if("path"in m)g=m.path,p=n.find(A=>A.re.test(g)),p&&(T=p.parse(g),D=p.record.name);else{if(p=c.name?r.get(c.name):n.find(A=>A.re.test(c.path)),!p)throw no(1,{location:m,currentLocation:c});D=p.record.name,T=Gn({},c.params,m.params),g=p.stringify(T)}const v=[];let w=p;for(;w;)v.unshift(w.record),w=w.parent;return{name:D,path:g,params:T,matched:v,meta:F1(v)}}return e.forEach(m=>o(m)),{addRoute:o,resolve:d,removeRoute:u,getRoutes:l,getRecordMatcher:i}}function Rd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function L1(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:x1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function x1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Cd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function F1(e){return e.reduce((t,n)=>Gn(t,n.meta),{})}function Md(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function pm(e,t){return t.children.some(n=>n===e||pm(e,n))}const mm=/#/g,k1=/&/g,U1=/\//g,B1=/=/g,G1=/\?/g,gm=/\+/g,j1=/%5B/g,H1=/%5D/g,ym=/%5E/g,V1=/%60/g,_m=/%7B/g,q1=/%7C/g,Tm=/%7D/g,Y1=/%20/g;function r0(e){return encodeURI(""+e).replace(q1,"|").replace(j1,"[").replace(H1,"]")}function $1(e){return r0(e).replace(_m,"{").replace(Tm,"}").replace(ym,"^")}function Kl(e){return r0(e).replace(gm,"%2B").replace(Y1,"+").replace(mm,"%23").replace(k1,"%26").replace(V1,"`").replace(_m,"{").replace(Tm,"}").replace(ym,"^")}function W1(e){return Kl(e).replace(B1,"%3D")}function z1(e){return r0(e).replace(mm,"%23").replace(G1,"%3F")}function K1(e){return e==null?"":z1(e).replace(U1,"%2F")}function iu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function X1(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(gm," "),u=o.indexOf("="),l=iu(u<0?o:o.slice(0,u)),f=u<0?null:iu(o.slice(u+1));if(l in t){let d=t[l];ui(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function Nd(e){let t="";for(let n in e){const r=e[n];if(n=W1(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ui(r)?r.map(o=>o&&Kl(o)):[r&&Kl(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Q1(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ui(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Z1=Symbol(""),Od=Symbol(""),Ru=Symbol(""),i0=Symbol(""),Xl=Symbol("");function Do(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qi(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((u,l)=>{const f=c=>{c===!1?l(no(4,{from:n,to:t})):c instanceof Error?l(c):A1(c)?l(no(2,{from:t,to:c})):(o&&r.enterCallbacks[i]===o&&typeof c=="function"&&o.push(c),u())},d=e.call(r&&r.instances[i],t,n,f);let m=Promise.resolve(d);e.length<3&&(m=m.then(f)),m.catch(c=>l(c))})}function _l(e,t,n,r){const i=[];for(const o of e)for(const u in o.components){let l=o.components[u];if(!(t!=="beforeRouteEnter"&&!o.instances[u]))if(J1(l)){const d=(l.__vccOpts||l)[t];d&&i.push(qi(d,n,r,o,u))}else{let f=l();i.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${o.path}"`));const m=s1(d)?d.default:d;o.components[u]=m;const p=(m.__vccOpts||m)[t];return p&&qi(p,n,r,o,u)()}))}}return i}function J1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Dd(e){const t=Kn(Ru),n=Kn(i0),r=Nn(()=>t.resolve(Si(e.to))),i=Nn(()=>{const{matched:f}=r.value,{length:d}=f,m=f[d-1],c=n.matched;if(!m||!c.length)return-1;const p=c.findIndex(to.bind(null,m));if(p>-1)return p;const T=Pd(f[d-2]);return d>1&&Pd(m)===T&&c[c.length-1].path!==T?c.findIndex(to.bind(null,f[d-2])):p}),o=Nn(()=>i.value>-1&&rb(n.params,r.value.params)),u=Nn(()=>i.value>-1&&i.value===n.matched.length-1&&fm(n.params,r.value.params));function l(f={}){return nb(f)?t[Si(e.replace)?"replace":"push"](Si(e.to)).catch(Yo):Promise.resolve()}return{route:r,href:Nn(()=>r.value.href),isActive:o,isExactActive:u,navigate:l}}const eb=nn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dd,setup(e,{slots:t}){const n=Ma(Dd(e)),{options:r}=Kn(Ru),i=Nn(()=>({[Ld(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ld(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:wp("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),tb=eb;function nb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rb(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ui(i)||i.length!==r.length||r.some((o,u)=>o!==i[u]))return!1}return!0}function Pd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ld=(e,t,n)=>e??t??n,ib=nn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Kn(Xl),i=Nn(()=>e.route||r.value),o=Kn(Od,0),u=Nn(()=>{let d=Si(o);const{matched:m}=i.value;let c;for(;(c=m[d])&&!c.components;)d++;return d}),l=Nn(()=>i.value.matched[u.value]);Ho(Od,Nn(()=>u.value+1)),Ho(Z1,l),Ho(Xl,i);const f=jt();return Ki(()=>[f.value,l.value,e.name],([d,m,c],[p,T,g])=>{m&&(m.instances[c]=d,T&&T!==m&&d&&d===p&&(m.leaveGuards.size||(m.leaveGuards=T.leaveGuards),m.updateGuards.size||(m.updateGuards=T.updateGuards))),d&&m&&(!T||!to(m,T)||!p)&&(m.enterCallbacks[c]||[]).forEach(D=>D(d))},{flush:"post"}),()=>{const d=i.value,m=e.name,c=l.value,p=c&&c.components[m];if(!p)return xd(n.default,{Component:p,route:d});const T=c.props[m],g=T?T===!0?d.params:typeof T=="function"?T(d):T:null,v=wp(p,Gn({},g,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(c.instances[m]=null)},ref:f}));return xd(n.default,{Component:v,route:d})||v}}});function xd(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ab=ib;function ob(e){const t=P1(e.routes,e),n=e.parseQuery||X1,r=e.stringifyQuery||Nd,i=e.history,o=Do(),u=Do(),l=Do(),f=A_(Bi);let d=Bi;$a&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=ml.bind(null,q=>""+q),c=ml.bind(null,K1),p=ml.bind(null,iu);function T(q,U){let x,h;return dm(q)?(x=t.getRecordMatcher(q),h=U):h=q,t.addRoute(h,x)}function g(q){const U=t.getRecordMatcher(q);U&&t.removeRoute(U)}function D(){return t.getRoutes().map(q=>q.record)}function v(q){return!!t.getRecordMatcher(q)}function w(q,U){if(U=Gn({},U||f.value),typeof q=="string"){const I=gl(n,q,U.path),L=t.resolve({path:I.path},U),Z=i.createHref(I.fullPath);return Gn(I,L,{params:p(L.params),hash:iu(I.hash),redirectedFrom:void 0,href:Z})}let x;if("path"in q)x=Gn({},q,{path:gl(n,q.path,U.path).path});else{const I=Gn({},q.params);for(const L in I)I[L]==null&&delete I[L];x=Gn({},q,{params:c(I)}),U.params=c(U.params)}const h=t.resolve(x,U),y=q.hash||"";h.params=m(p(h.params));const _=c1(r,Gn({},q,{hash:$1(y),path:h.path})),E=i.createHref(_);return Gn({fullPath:_,hash:y,query:r===Nd?Q1(q.query):q.query||{}},h,{redirectedFrom:void 0,href:E})}function A(q){return typeof q=="string"?gl(n,q,f.value.path):Gn({},q)}function N(q,U){if(d!==q)return no(8,{from:U,to:q})}function H(q){return F(q)}function S(q){return H(Gn(A(q),{replace:!0}))}function M(q){const U=q.matched[q.matched.length-1];if(U&&U.redirect){const{redirect:x}=U;let h=typeof x=="function"?x(q):x;return typeof h=="string"&&(h=h.includes("?")||h.includes("#")?h=A(h):{path:h},h.params={}),Gn({query:q.query,hash:q.hash,params:"path"in h?{}:q.params},h)}}function F(q,U){const x=d=w(q),h=f.value,y=q.state,_=q.force,E=q.replace===!0,I=M(x);if(I)return F(Gn(A(I),{state:typeof I=="object"?Gn({},y,I.state):y,force:_,replace:E}),U||x);const L=x;L.redirectedFrom=U;let Z;return!_&&f1(r,h,x)&&(Z=no(16,{to:L,from:h}),$(h,h,!0,!1)),(Z?Promise.resolve(Z):Be(L,h)).catch(b=>vi(b)?vi(b,2)?b:We(b):Ge(b,L,h)).then(b=>{if(b){if(vi(b,2))return F(Gn({replace:E},A(b.to),{state:typeof b.to=="object"?Gn({},y,b.to.state):y,force:_}),U||L)}else b=X(L,h,!0,E,y);return Le(L,h,b),b})}function ie(q,U){const x=N(q,U);return x?Promise.reject(x):Promise.resolve()}function Ee(q){const U=$e.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(q):q()}function Be(q,U){let x;const[h,y,_]=sb(q,U);x=_l(h.reverse(),"beforeRouteLeave",q,U);for(const I of h)I.leaveGuards.forEach(L=>{x.push(qi(L,q,U))});const E=ie.bind(null,q,U);return x.push(E),He(x).then(()=>{x=[];for(const I of o.list())x.push(qi(I,q,U));return x.push(E),He(x)}).then(()=>{x=_l(y,"beforeRouteUpdate",q,U);for(const I of y)I.updateGuards.forEach(L=>{x.push(qi(L,q,U))});return x.push(E),He(x)}).then(()=>{x=[];for(const I of _)if(I.beforeEnter)if(ui(I.beforeEnter))for(const L of I.beforeEnter)x.push(qi(L,q,U));else x.push(qi(I.beforeEnter,q,U));return x.push(E),He(x)}).then(()=>(q.matched.forEach(I=>I.enterCallbacks={}),x=_l(_,"beforeRouteEnter",q,U),x.push(E),He(x))).then(()=>{x=[];for(const I of u.list())x.push(qi(I,q,U));return x.push(E),He(x)}).catch(I=>vi(I,8)?I:Promise.reject(I))}function Le(q,U,x){l.list().forEach(h=>Ee(()=>h(q,U,x)))}function X(q,U,x,h,y){const _=N(q,U);if(_)return _;const E=U===Bi,I=$a?history.state:{};x&&(h||E?i.replace(q.fullPath,Gn({scroll:E&&I&&I.scroll},y)):i.push(q.fullPath,y)),f.value=q,$(q,U,x,E),We()}let P;function J(){P||(P=i.listen((q,U,x)=>{if(!ot.listening)return;const h=w(q),y=M(h);if(y){F(Gn(y,{replace:!0}),h).catch(Yo);return}d=h;const _=f.value;$a&&v1(Ad(_.fullPath,x.delta),_1()),Be(h,_).catch(E=>vi(E,12)?E:vi(E,2)?(F(E.to,h).then(I=>{vi(I,20)&&!x.delta&&x.type===ts.pop&&i.go(-1,!1)}).catch(Yo),Promise.reject()):(x.delta&&i.go(-x.delta,!1),Ge(E,h,_))).then(E=>{E=E||X(h,_,!1),E&&(x.delta&&!vi(E,8)?i.go(-x.delta,!1):x.type===ts.pop&&vi(E,20)&&i.go(-1,!1)),Le(h,_,E)}).catch(Yo)}))}let oe=Do(),te=Do(),ve;function Ge(q,U,x){We(q);const h=te.list();return h.length?h.forEach(y=>y(q,U,x)):console.error(q),Promise.reject(q)}function Ke(){return ve&&f.value!==Bi?Promise.resolve():new Promise((q,U)=>{oe.add([q,U])})}function We(q){return ve||(ve=!q,J(),oe.list().forEach(([U,x])=>q?x(q):U()),oe.reset()),q}function $(q,U,x,h){const{scrollBehavior:y}=e;if(!$a||!y)return Promise.resolve();const _=!x&&E1(Ad(q.fullPath,0))||(h||!x)&&history.state&&history.state.scroll||null;return Sc().then(()=>y(q,U,_)).then(E=>E&&T1(E)).catch(E=>Ge(E,q,U))}const K=q=>i.go(q);let Ue;const $e=new Set,ot={currentRoute:f,listening:!0,addRoute:T,removeRoute:g,hasRoute:v,getRoutes:D,resolve:w,options:e,push:H,replace:S,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:o.add,beforeResolve:u.add,afterEach:l.add,onError:te.add,isReady:Ke,install(q){const U=this;q.component("RouterLink",tb),q.component("RouterView",ab),q.config.globalProperties.$router=U,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Si(f)}),$a&&!Ue&&f.value===Bi&&(Ue=!0,H(i.location).catch(y=>{}));const x={};for(const y in Bi)Object.defineProperty(x,y,{get:()=>f.value[y],enumerable:!0});q.provide(Ru,U),q.provide(i0,Yh(x)),q.provide(Xl,f);const h=q.unmount;$e.add(q),q.unmount=function(){$e.delete(q),$e.size<1&&(d=Bi,P&&P(),P=null,f.value=Bi,Ue=!1,ve=!1),h()}}};function He(q){return q.reduce((U,x)=>U.then(()=>Ee(x)),Promise.resolve())}return ot}function sb(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let u=0;u<o;u++){const l=t.matched[u];l&&(e.matched.find(d=>to(d,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(d=>to(d,f))||i.push(f))}return[n,r,i]}function Nr(){return Kn(Ru)}function a0(){return Kn(i0)}const ub=nn({setup(){const e=Ci(),t=a0(),n=Nn(()=>({mode:"edit",next:t.name?t.name.toString():""}));return{state:e,routeParams:n}}}),cn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},lb=e=>(fr("data-v-d55a2bd8"),e=e(),dr(),e),cb={class:"status"},fb={class:"info"},db=lb(()=>Je("p",{class:"text-label"},"MY ROBLOX USERNAME",-1)),hb={key:1},pb=["src"];function mb(e,t,n,r,i,o){var l,f,d,m;const u=Kt("router-link");return Ii((dt(),_t("div",cb,[Je("div",fb,[Je("div",null,[db,e.state.assessment&&!e.state.assessment.roblox_locked?(dt(),Er(u,{key:0,to:{name:"RobloxAccount",params:e.routeParams}},{default:qt(()=>{var c;return[Lt(Wt((c=e.state.roblox)==null?void 0:c.name),1)]}),_:1},8,["to"])):(dt(),_t("p",hb,Wt((l=e.state.roblox)==null?void 0:l.name),1))])]),Je("img",{class:"avatar",src:(d=(f=e.state.roblox)==null?void 0:f.headshot)==null?void 0:d.url},null,8,pb)],512)),[[Zi,(m=e.state.roblox)==null?void 0:m.name]])}const gb=cn(ub,[["render",mb],["__scopeId","data-v-d55a2bd8"]]),yb=nn({setup(){return{state:Ci()}}}),_b=e=>(fr("data-v-f53d3212"),e=e(),dr(),e),Tb={key:0},vb=_b(()=>Je("div",{class:"progress-background"},null,-1));function Eb(e,t,n,r,i,o){return e.state.currentPage>=0&&e.state.progressVisible?(dt(),_t("div",Tb,[vb,Je("div",{class:"progress",style:as({width:`${e.state.currentPage/e.state.totalPages*100}%`})},null,4)])):Hn("",!0)}const bb=cn(yb,[["render",Eb],["__scopeId","data-v-f53d3212"]]),Ab="/assets/bg-loop-optimized-99f86f30.mp4",Sb="/assets/bg-loop-optimized-27e3fb5d.webm",Ib=["src"],wb=["src"],Rb=nn({__name:"BgRobloxWaves",props:{animate:{type:Boolean}},setup(e){const t=e,n=jt(null);return Ki(t,()=>{n.value&&(t.animate?n.value.play():n.value.pause())}),(r,i)=>(dt(),_t("video",{ref_key:"video",ref:n,class:"cover",preload:"auto",autoplay:"true",loop:"",playsinline:"",muted:"",disablepictureinpicture:"",disableremoteplayback:"",style:{"z-index":"0",position:"absolute",width:"100vw",height:"100vh","object-fit":"cover","object-position":"center bottom"}},[Je("source",{src:Si(Ab),type:"video/mp4"},null,8,Ib),Je("source",{src:Si(Sb),type:"video/webm"},null,8,wb)],512))}}),Cb=nn({props:{closed:{type:Boolean,default:!1}},setup(e){return so(e)}});function Mb(e,t,n,r,i,o){return dt(),_t("div",{class:lr(["cover",{closed:e.closed}])},null,2)}const Nb=cn(Cb,[["render",Mb],["__scopeId","data-v-9e5fdf8d"]]),Ob=nn({props:{icon:{type:String},expandWidth:{type:Number,default:200},onClick:{type:Function,default:null},class:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},setup(e){const t=jr(e,"class"),n=jr(e,"disabled"),r=jt(!1);return{loading:r,buttonClass:t,disabled:n,onClick:async()=>{e.onClick&&(r.value=!0,await e.onClick(),r.value=!1)}}}}),Db=["disabled"],Pb={class:"outline"},Lb={class:"text"},xb=["src"];function Fb(e,t,n,r,i,o){return dt(),_t("button",{class:lr(e.buttonClass),disabled:e.disabled||e.loading,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},[Je("div",Pb,[Je("span",Lb,[ai(e.$slots,"default",{},void 0,!0)]),Je("img",{class:"icon",src:e.icon},null,8,xb)])],10,Db)}const o0=cn(Ob,[["render",Fb],["__scopeId","data-v-5e8a39cf"]]),kb=nn({}),Ub={class:"container"};function Bb(e,t,n,r,i,o){return dt(),_t("div",Ub,[ai(e.$slots,"default",{},void 0,!0)])}const s0=cn(kb,[["render",Bb],["__scopeId","data-v-958f9a73"]]),Gb=nn({props:{size:{type:String,default:null},color:{type:String,default:"blue"},disabled:{type:Boolean,default:!1}},setup(e){const t={white:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGyUlEQVR4nO2bW6hVVRSG/7HP8Zq3ytK8VYQKRWqWRWmQPUQiSVBCN+glil6ip3qpl4LopctLEUKvCT2FD0FERSlBZSFKeUkyyi5mmanH2/GcP6aNpXOPPeZaa1/O3uvY+WGyLmftueb41phjXg/GNKYxFUl6SYjkUgAX6+VhEdnWy/J0RSSvJPkIyQ0kd5E8SfI0yTOs1z6Syy5EAEtIvkXyO5IDJI9rOpEDI+hvkldVwIT2RXIVyfdJHtV0TGEMlIQR9Fovyt7fQQhrAbwMYEEHYlFPqkrbMEhOB/AGgACjFv8pgmLP42NlVGunICTXAPgGwBo1zjM0z+jU33rSqrTsziRfBPCE5iEKViLAEh3Fua5pst55GMANIvJjq2VrVS15BsnXATwWeYNNcL56mWoRAKzuBQi0EjNIvgpgvRo3HAG1EGKvi2NG+PI7AGzWe5uz+73udDUFg+QrEYhztxPHOGD+DODNYLiIbO9U4Tut0jBIPg/gfsfdM+/woGwJza2IbEaXRZ4txtkPIiKlWq5SAZTkLQA2OsHSC54hHQHwnIi8020IOA8iK9PZ6ixSbGrhEySnAfgEwPSE8fbeBwCeEpF/OmRbU3JAZN4xVJRPmdbkJQBTtDoMR4GT5l5IG0Tk0R6CCIb3Oc14H8nCkJD7AMl7AdypBmdff9i8LIsXT4vIux2xqgUpiLiPk5XxnBeTHMqLH0W0noyMt7QRHd+uAIg+/Si1RBmhz5xJ5ZOEQXIdgNkGRvyy7EUfisgLHbOsNWVf2wb2TNn5uDzvyPOMewwISztkOADgmd4x0MKIhI8XAuT47JY5xvfGATjt5eMGUJI3AlgeBcg4DUXnz4rIkQ7b1pL0a9uPB3Ndi4A1KOUZazVjm1lcXb4WkY+qACLSGdOawINDcpyIDNofp2DcXgBDtHtdKQXvIDmcaF7j6+AdxTBILgRwkVaHlLt9LyJbqwZDNajGes1sdpyg8a5Onmcsc7wCBsamkbSmHUXekdnmwQgP9YtIXTPrwVhlYNhjSJ9Wx3xXQ04XwB7H2z6HB2NJBMNmENJeEfmtCwa1o8GczlfcxNbJgxF3tzPFGe2uktWeRGSYZM2ZgkR0nQ+D5CynitjzqntFpiETN2DOG0bs1jNmJapIfD1a1kOpTWwma8tk+4NUNUlJnJmuqmrYwLAq9IzLC2BgFMGQZmf/LYwDZjFoNKttGPEsllclRhOoSdEch6eT9p4lty9npJqNVq/riintq1/t69NUM6kBUp1niMiAdmVTq2HhOLO69tdpas6ar+vhXmtyVAdqqYWiBZ0vd2dFchIav35sQwgBp+xLvQCzL4obXpWZT/KyivOYmlM9atHEdp08GF+WmOFa3l3bmtbMBIB4oeuozdSD8VVibSROd1XP/v9EcrKu86Q8IqSTItIwD9oAQ0QOan/Dg5ClS0gu7p6JTemKAhA1b2IHOZ2SrcZ4Gi8J5+uqYft5kZyg4ysxVcIugR7yfp+C8VnBMmI4X0Tyti7Y2IwW58SILA2KyHEvTxeGiPwEYKcB4sWP9SQvrQIFkvMAzCjhFX+l8sjru7+XqB5xmgjg8ZExr7xIhqb0ascrLIgQNH9PZZyEISK7Iu9IeUZIc8NW6B6C6NepyvGJJY0YzH47CRyraFS3KeERNq0g+dCIWZxQWAwCcLNO1HjxIQZxWkT+yMsvF4aIhPnOz3OqSRxTApAHtCs84tJNNCsBTHOqhZd+KCpTmfF+2Gpw3IkdXgtzU9gbSnLOSMIgOR/ArTqG8qqDTYdEJBk4MzVMfSVevlQDZV5ViSEFeFs6vRarvcvro60StrXzrk+EXnVerMhUCoYW5D4AdxSAsFBC5+bjEIhFpGEypYl3Bw+4VkfMnoemyjSoC+THyrynNAwt1MMasMrCiD0ltEy7RGRPyXdN0d7kXABznB5xGRjbdHhRSk3B0EKGVmNFQTXJG+gNaVt/2My5Zs/P1tZhsjNiznuPTTtE5JdmbGsahgJ5UINlnmek+iV2OiC+Tt1PeYUHI3SstovIgWbtamkjvYhs1P2e8fSZd86cZ9ysnetmUgiSX7QCwnt5UyJ5je4ln1EQO4qS5wF5yfOKXzVGNGxC6QoM4Nx840rdL1q2mrAFAF6/hjo3sVMHl22pbRgRlPD/qavDP84kOmYpwzzPoBM07W9CbPhWRPZ2yoaOwchEMlSZu3VuoSwUz9jU/VO6LWJPO1XCU8dhZCI5UYEsArCwhMF5EML2ylANDojI/pEq84jBsNKNc2Fhe54aOEWn9C2Mg7r0FzzgzwBBRNxpugtSJEfLKt2YxvS/FoB/AfTTB/NVS4kLAAAAAElFTkSuQmCC",blue:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHC0lEQVR4nO1bW6hVRRj+9jnmLTPrTGlqORImFZlZFuGFLIjEiqICu0AvUdRDl5dGonooiDMPRT1UEPRa0FNIED4UlBJUFqKEZtIZyi7mKKZp6nHvFXP4l42z/1mXvffae586Hwx7rXXWmjX/t775/38uBxOYwATyUOslQws3HLgawHl0emhkeGhbL9vTFTKksgsArAKwularrXaXAAxQGfRuNQDu7hUplZEhlV0C4AlHAIAF3rtqDhEyHA4BuGZkeMhU1bYYJnW6QqnsSgDPkRLgkZAUJH8WgKcAPNPptuWhY2RIZdcBGAZwSQcUt7RDzSqFtsmQyp4L4E0A60j2KZKIKpLgt28w0E5DpLJrAXwLYC0ZyRmaZXTsbz1xoC0rQyr7MoDH6IsnwW+KvHMOzoG+0Y5RraIlZUhlXwfwiKeGsID56qfPkyQqFhdB1vQikqAVZUhlXwNwHxnX8AgNSYgpxH35HQA207XN6fVeJ12lyJDKvuoRkSIkISTDnf8M4C1nuNFie0daXgEKkyGVfQHAvYz8U3VwpGwB8LbR4qNuG7ZwwwGkH2RkeKhQ5CqUD0hlbwDwPt2fZo815jzNKg8DeN5o8V6bNrUEImLAc+qNkeGh3KpylSGVnUkSb3jGwzMenjrc78cAnjRa/NllDsbAEFGjlL+e92yRaPIKgBlkaMNznElwzZV3jBYP95CI1HD/g41dk8rmfvhMMqSydwG4mSGiwRDxtNHixY5ZVhJERGrP6S6bJMlgkiTueJJUNtMt5LH1eKR7+McO7xotPuiW4SE8RSS+P6N8xifA3XMqVk9UGVLZOwHMCVRQZ5SxyWjxUoW2FkEaLQaIhLHCfMCzstSR1U3uYAwPiXG+4dmums2AIkWdukWWiscIidXDkiGVvRbAsgwS0mNltDhcvbn5cLlEkiSNIOSDSQEmxyqLKWNdAVV8abT4pAd2ZyH1BzWGhNO5kFSWVUeMjFU5ZDQo9+grGC3SaOcTwBVWHU3RRCq7CMDZ9PVjcvvBaLG138ggjJKxfpgNo98UAEfDBzllLC2gio1VWtMOPHVkKWOAS8K4PGMlVQaG0ZTlz/qOhTNR93wEIr+Tw5yDI2OJR0ZYkSt7jBa/VW1NmxgNBpOhHeBCLNdNYqG0TuX7frTeh9Ei7SaDwa8/um4i4wxlSGVnM10kPO53VaSoe/ZxtjRlomE3mR3pIv55T6fmSiAJVutCW6aHVXE+o8Fc8yvsu/WOCBrM0qWPXGVcmEMGxhEZtZyxVxNCMvYFi0HjGW2T4c9icV1iPBE1zZvj4HA8vBYyN5IxMEtD7JVdMaV9TPLC6iCThTaRdAYZRoujORM57poYJ2Sck5GOs4GAiyZHaKAWWyi6vLr2dwZS2WnM1/dtcGScCF/GOZgRz29wXeZ8qewFfcwFSBWx7pGWpqjJkfFVgRmuZd2xqWWIjO6RHh8JK+fI+DqyNuKXW/uVBansdFrnyRrCHzdanAyfbSLDaLGf8o2s+QzXVRZ3zcJyuChvLoOb2EFGUrI1slDkn6/vE+NPQyo7hcZX3NynvyZ8kHs+RsbnOcuI7ni+VPaW6k0shcUZPiIto0aLY1ylLBlGi58A7AwI4fzH7VLZ/OXtLkAqO5+2Teap4kCsNVm5+4eR7uGXqQAe7QMiXChdyKgiJMI5zd9j9UTJMFrs8tQRU4Yr86SyD1VmaQ5oYncJzWmG6yXhXpK9Rovya62EjRFFhGW5VPaB7tIwRoSburueJmpiayUpESeNFn9k1ZdJhtHCzXd+kdFNfJ/iCFlPqXDloE00KwDMZLoFV37Ma1OR8b7banCM8R1chLnO7Q2Vys6tkgyp7MUAbqQxVGxrlV8OGi2ijjNF0T1dV5OjzOoqPkmOvC2dXoul7PIqb6tEGO24879dVp3lK1IUIoMacg+Am3KICElxyc2nzhEbLZomU0q82yngCtqkzyk01ia3fvKN0eKvIu8pTAY16kFyWEXJ8JXiItMuo8Xugu+aQdnkPABzmYy4CBnbaHhRCKXIoEa6qLE8p5tkDfTqFOsPBXOu6f1zKDpMZ0bMWe8Jyw6jxS9lbCtNBhFyPznLLGXE8hJuFq2ecz2mCo4Ml1htN1rsK2tXSxvpjRZug+ymYIKYO04y7uHALVqVKadoE01pItCqMlJIZS+lveSzcnxHXuEUkFU4VfxKPmK0VXvaIgP/zjeuoP2iRbtJ0gIBXF6T0NzEThpctoW2yfBIcf+fusb952EkMYsZxikjYZxm+IzzDd8ZLfZ0yoaOkZFCKuu6zG00t1CUFM7Y2PUTtC1idztdgkPHyUghlZ1KhFwGYFEBg7NIcNsrXTfYZ7TYW1WbKyMjBG2ccwvb88nAGTSlH5Kxn5b+nAKsI8FowU7T/SchlR0vq3QTmMD/GgD+AeeujL2e/1CMAAAAAElFTkSuQmCC"},n=Nn(()=>t[e.color]);return{style:Nn(()=>({width:"calc(var(--scale-text))",visibility:e.disabled?"hidden":"visible"})),src:n}}}),jb=["src"];function Hb(e,t,n,r,i,o){return dt(),_t("img",{alt:"loading",style:as(e.style),src:e.src},null,12,jb)}const fo=cn(Gb,[["render",Hb],["__scopeId","data-v-86f09416"]]),Vb=nn({props:{modelValue:String,error:Boolean},setup(e,t){return{inputClass:Nn(()=>e.error?"error":""),onInput:i=>{t.emit("update:modelValue",i.target.value)},...so(e)}}}),qb=["value"];function Yb(e,t,n,r,i,o){return dt(),_t("input",{type:"text",class:lr(e.inputClass),value:e.modelValue,onInput:t[0]||(t[0]=(...u)=>e.onInput&&e.onInput(...u))},null,42,qb)}const Cu=cn(Vb,[["render",Yb],["__scopeId","data-v-3e56cb5d"]]),$b=nn({components:{Spinner:fo},props:{onClick:{type:Function,default:null},class:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},setup(e){const t=jr(e,"class"),n=jr(e,"disabled"),r=jt(!1);return{loading:r,buttonClass:t,disabled:n,onClick:async()=>{e.onClick&&(r.value=!0,await e.onClick(),r.value=!1)}}}}),Wb=["disabled"];function zb(e,t,n,r,i,o){const u=Kt("Spinner");return dt(),_t("button",{class:lr(e.buttonClass),disabled:e.disabled||e.loading,onClick:t[0]||(t[0]=(...l)=>e.onClick&&e.onClick(...l))},[ai(e.$slots,"default",{},void 0,!0),e.loading?(dt(),Er(u,{key:0,color:"white"})):Hn("",!0)],10,Wb)}const nr=cn($b,[["render",zb],["__scopeId","data-v-7d28972b"]]),Kb=nn({setup(e){const t=jt(null);return{body:t,getScrollPosition:function(){return t.value.scrollTop},setScrollPosition:function(i){t.value.scrollTop=i}}}}),Xb={class:"card zendesk"},Qb={class:"header"},Zb={class:"body",ref:"body"},Jb={class:"footer"};function eA(e,t,n,r,i,o){return dt(),_t("div",Xb,[Je("div",Qb,[ai(e.$slots,"header",{},void 0,!0)]),Je("div",Zb,[ai(e.$slots,"default",{},void 0,!0)],512),Je("div",Jb,[ai(e.$slots,"footer",{},void 0,!0)])])}const vm=cn(Kb,[["render",eA],["__scopeId","data-v-b114b0b4"]]),tA=nn({components:{Button:nr,Spinner:fo,ZendeskDialog:vm},props:{state:{type:Object,required:!0},onTicket:Function},setup(e){const t=jt([]),n=jt(null),r=jr(e,"onTicket"),i=jt(null),o=jt(null);let u=0;return Ki(n,l=>{const f=o.value;l!=null?(u=f.getScrollPosition(),f.setScrollPosition(0)):f.setScrollPosition(u)}),Promise.all([e.state.zendesk.getSections(),e.state.zendesk.getArticles()]).then(l=>{const f=[],d={};for(const m of l[1])m.section_id in d||(d[m.section_id]=[]),m.body=m.body.replace(/<img[^>]+>(<\/img>)?|<iframe.+?<\/iframe>/g,""),d[m.section_id].push(m);for(const m of l[0])f.push({id:m.id,name:m.name,articles:d[m.id]});t.value=f}),{sections:t,article:n,onTicket:r,dialog:o,body:i}}}),Em=e=>(fr("data-v-080ccd31"),e=e(),dr(),e),nA=Em(()=>Je("div",null,"Get Support",-1)),rA={key:1,class:"nav"},iA={ref:"body"},aA={key:0},oA={class:"text-body"},sA=["onClick"],uA={key:1,class:"article"},lA=["innerHTML"],cA=Em(()=>Je("p",{class:"text-body"},"Still have questions?",-1));function fA(e,t,n,r,i,o){const u=Kt("Button"),l=Kt("ZendeskDialog");return dt(),Er(l,{ref:"dialog"},{header:qt(()=>[nA,e.article?(dt(),_t("div",{key:0,class:"nav",onClick:t[0]||(t[0]=f=>e.article=null)},"  Back ")):(dt(),_t("div",rA,"  "))]),footer:qt(()=>[cA,Ft(u,{class:"send-message primary",onClick:t[1]||(t[1]=()=>e.onTicket?e.onTicket():null)},{default:qt(()=>[Lt("Send us a message")]),_:1})]),default:qt(()=>[Je("div",iA,[e.article==null?(dt(),_t("div",aA,[(dt(!0),_t(xn,null,zr(e.sections,f=>(dt(),_t("div",{key:f.id},[Je("p",oA,Wt(f.name),1),(dt(!0),_t(xn,null,zr(f.articles,d=>(dt(),_t("a",{key:d.id,href:"#",onClick:()=>e.article=d},Wt(d.title),9,sA))),128))]))),128))])):(dt(),_t("div",uA,[Je("h2",null,Wt(e.article.title),1),Je("div",{innerHTML:e.article.body},null,8,lA)]))],512)]),_:1},512)}const dA=cn(tA,[["render",fA],["__scopeId","data-v-080ccd31"]]),hA=nn({components:{Input:Cu},props:{label:{type:String,required:!0},errors:{type:Object,required:!0}},setup(e,t){const n=jr(e,"label"),r=jt("");return Ki(()=>e.errors,i=>{r.value=i[n.value]}),{label:n,error:r}}}),pA={class:"input-group"},mA={class:"header"},gA={class:"error"};function yA(e,t,n,r,i,o){return dt(),_t("div",pA,[Je("div",mA,[Je("label",null,Wt(e.label),1),Je("div",gA,Wt(e.error),1)]),ai(e.$slots,"default",{},void 0,!0)])}const _A=cn(hA,[["render",yA],["__scopeId","data-v-34007023"]]),TA=nn({props:{modelValue:String,error:String,options:Array},setup(e,t){const n=jt(!1),r=jt("Select"),i=jr(e,"options");return{name:r,isOpen:n,onOpen:l=>{n.value=!n.value},onSelect:l=>{r.value=l.label,t.emit("update:modelValue",l.value)},options:i}}}),vA=e=>(fr("data-v-e562ced2"),e=e(),dr(),e),EA={class:"select__trigger"},bA=vA(()=>Je("div",{class:"arrow"},null,-1)),AA={class:"custom-options"},SA=["data-value","onClick"];function IA(e,t,n,r,i,o){return dt(),_t("div",{class:"select-wrapper",onClick:t[0]||(t[0]=(...u)=>e.onOpen&&e.onOpen(...u))},[Je("div",{class:lr(["select",{open:e.isOpen}])},[Je("div",EA,[Je("span",null,Wt(e.name),1),bA]),Je("div",AA,[(dt(!0),_t(xn,null,zr(e.options,u=>(dt(),_t("span",{class:"custom-option","data-value":u.value,key:u.value,onClick:()=>e.onSelect(u)},Wt(u.label),9,SA))),128))])],2)])}const wA=cn(TA,[["render",IA],["__scopeId","data-v-e562ced2"]]),RA=nn({components:{Button:nr,Input:Cu,InputRow:_A,InputSelect:wA,Spinner:fo,ZendeskDialog:vm},props:{onBack:{type:Function,required:!0},state:{type:Object,required:!0}},setup(e){var d,m;const t=jr(e,"onBack"),n=jt(0),r=jt(((m=(d=e.state.user)==null?void 0:d.candidate)==null?void 0:m.email)||""),i=jt(e.state.zendesk.getTopics()),o=jt(""),u=jt(""),l=jt({});return{onBack:t,onSubmit:async()=>{var w;const c={},p=document.createElement("input");if(p.type="email",p.value=r.value,(!r.value||!p.checkValidity())&&(c.Email="Invalid email"),u.value||(c.Topic="Select a topic"),o.value||(c.Message="Enter a message"),l.value=c,Object.keys(c).length>0)return;const T=e.state.user&&e.state.user.candidate,g={email:r.value,name:T?`${T.first_name} ${T.last_name}`:r.value,topic:u.value,body:o.value},D={"8537230595607":e.state.token,"8537061175959":(w=e.state.roblox)==null?void 0:w.name},v=await e.state.zendesk.submitTicket(g,D);n.value=v.id},ticketId:n,body:o,topics:i,topic:u,email:r,errors:l}}}),u0=e=>(fr("data-v-c6f1cb5f"),e=e(),dr(),e),CA=u0(()=>Je("div",null,"Get Support",-1)),MA={key:0},NA={key:1},OA={key:0},DA=u0(()=>Je("div",{class:"title"},"Send us a message",-1)),PA=u0(()=>Je("p",{class:"text-body"},"Our support team will respond by email within 1 business day.",-1)),LA={key:0,class:"errors"},xA={key:1,class:"text-body"},FA={class:"submitted"},kA=["src"],UA={class:"email"};function BA(e,t,n,r,i,o){const u=Kt("Input"),l=Kt("InputRow"),f=Kt("InputSelect"),d=Kt("Button"),m=Kt("ZendeskDialog");return dt(),Er(m,null,{header:qt(()=>[CA,Je("div",{class:"nav",onClick:t[0]||(t[0]=()=>e.onBack())},[Lt("  "),e.ticketId?(dt(),_t("span",NA,"Return to Support Home")):(dt(),_t("span",MA,"Cancel Message"))])]),default:qt(()=>[e.ticketId?(dt(),_t("div",xA,[Je("p",FA,[Je("img",{src:"/assets/icon-task-completed.png",class:"icon"},null,8,kA),Lt(" Ticket #"+Wt(e.ticketId)+" submitted!",1)]),Je("p",null,[Lt("A support agent will respond to you at "),Je("span",UA,Wt(e.email),1),Lt(" within 1 business day.")])])):(dt(),_t("div",OA,[DA,PA,Ft(l,{label:"Email",errors:e.errors},{default:qt(()=>[Ft(u,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=c=>e.email=c)},null,8,["modelValue"])]),_:1},8,["errors"]),Ft(l,{label:"Topic",errors:e.errors},{default:qt(()=>[Ft(f,{modelValue:e.topic,"onUpdate:modelValue":t[2]||(t[2]=c=>e.topic=c),options:e.topics,errors:e.errors},null,8,["modelValue","options","errors"])]),_:1},8,["errors"]),Ft(l,{label:"Message",errors:e.errors},{default:qt(()=>[Ii(Je("textarea",{class:"textarea","onUpdate:modelValue":t[3]||(t[3]=c=>e.body=c),rows:"10"},null,512),[[iv,e.body]])]),_:1},8,["errors"]),Object.keys(e.errors).length>0?(dt(),_t("p",LA,[Lt(" The following fields are incomplete "),Je("ul",null,[(dt(!0),_t(xn,null,zr(Object.keys(e.errors),c=>(dt(),_t("li",{key:c},Wt(c),1))),128))])])):Hn("",!0),Ft(d,{class:"primary",onClick:e.onSubmit},{default:qt(()=>[Lt("Send Message")]),_:1},8,["onClick"])]))]),_:1})}const GA=cn(RA,[["render",BA],["__scopeId","data-v-c6f1cb5f"]]),jA=nn({components:{Spinner:fo,Input:Cu,Button:nr,ZendeskArticles:dA,ZendeskTicket:GA},props:{state:{type:Object,required:!0}},setup(e){const t=jr(e,"state"),n=jt("articles");return{state:t,mode:n}}}),HA={class:"card zendesk"};function VA(e,t,n,r,i,o){const u=Kt("ZendeskArticles"),l=Kt("ZendeskTicket");return dt(),_t("div",HA,[e.mode=="articles"?(dt(),Er(u,{key:0,state:e.state,onTicket:()=>e.mode="ticket"},null,8,["state","onTicket"])):Hn("",!0),e.mode=="ticket"?(dt(),Er(l,{key:1,state:e.state,onBack:()=>e.mode="articles"},null,8,["state","onBack"])):Hn("",!0)])}const qA=cn(jA,[["render",VA],["__scopeId","data-v-dbd4726e"]]),YA=nn({components:{IconButton:o0,Zendesk:qA},props:{state:{type:Object,required:!0}},setup(e){const t=jt(!1);return{state:jr(e,"state"),showHelp:t}}}),$A=["onClick"];function WA(e,t,n,r,i,o){const u=Kt("IconButton"),l=Kt("Zendesk");return dt(),_t(xn,null,[Ft(u,{class:"help",icon:"/assets/icon-help.png",onClick:()=>e.showHelp=!0},{default:qt(()=>[Lt("Get Support")]),_:1},8,["onClick"]),Ii(Je("div",{class:"overlay",onClick:()=>e.showHelp=!1},[Ft(l,{visible:e.showHelp,state:e.state,onClick:f=>{f.stopPropagation()}},null,8,["visible","state","onClick"])],8,$A),[[Zi,e.showHelp]])],64)}const zA=cn(YA,[["render",WA],["__scopeId","data-v-e32ba589"]]),KA=nn({components:{BgRobloxWaves:Rb,UserStatus:gb,Progress:bb,IconButton:o0,Cover:Nb,Container:s0,Help:zA},setup(){const e=Ci(),t=jr(e,"assessment"),n=jr(e,"roblox");return{state:e,assessment:t,roblox:n,pauseBackground:()=>{e.backgroundMoving=!1},playBackground:()=>{e.backgroundMoving=!0}}}}),XA={key:0};function QA(e,t,n,r,i,o){const u=Kt("BgRobloxWaves"),l=Kt("UserStatus"),f=Kt("Progress"),d=Kt("Cover"),m=Kt("Help"),c=Kt("IconButton"),p=Kt("Container");return dt(),_t(xn,null,[Ii(Ft(u,{animate:e.state.showBackground&&e.state.backgroundMoving},null,8,["animate"]),[[Zi,e.state.showBackground]]),Ft(p,null,{default:qt(()=>[e.state.currentPage>0?(dt(),_t("div",XA,[Ft(l),Ft(f)])):Hn("",!0),Je("div",null,[ai(e.$slots,"default",{},void 0,!0)]),Ft(d,{closed:e.state.fadeOut},null,8,["closed"]),e.state.currentPage>0?(dt(),Er(m,{key:1,state:e.state},null,8,["state"])):Hn("",!0),e.state.currentPage>0&&e.state.backgroundMoving?(dt(),Er(c,{key:2,class:"background-control",icon:"/assets/icon-background-pause.png",onClick:e.pauseBackground},{default:qt(()=>[Lt("Pause Background")]),_:1},8,["onClick"])):Hn("",!0),e.state.currentPage>0&&!e.state.backgroundMoving?(dt(),Er(c,{key:3,class:"background-control",icon:"/assets/icon-background-play.png",onClick:e.playBackground},{default:qt(()=>[Lt("Play Background")]),_:1},8,["onClick"])):Hn("",!0)]),_:3})],64)}const ZA=cn(KA,[["render",QA],["__scopeId","data-v-442e2926"]]);class bm{constructor(t){Cn(this,"config");this.config=t}async get(t,n={}){return this.request("GET",t,null,n)}async put(t,n,r={}){return this.request("PUT",t,n,r)}async post(t,n,r={}){return this.request("POST",t,n,r)}async request(t,n,r=null,i={}){let o=n;if(o.startsWith("http")||(o=this.config.baseUrl+o),i.query){const l=new URLSearchParams(i.query).toString();o=o+"?"+l}let u;try{const l={method:t,headers:Object.assign(r?{"Content-Type":"application/json"}:{},i.headers?i.headers:{}),body:r?JSON.stringify(r):void 0};u=await fetch(o,l)}catch(l){throw l}try{u.data=await u.json()}catch{u.data={}}return u}}class Ei extends Error{constructor(n){super("API Error: "+(n.data.message||n.data.status_message||"Unknown"));Cn(this,"response");Cn(this,"error");Cn(this,"error_message");this.response=n,this.error=!n.status||n.status>=500?"server":n.data.error||n.data.status_code||"unknown",this.error_message=n.data.message||n.data.status_message}}class JA{constructor(t,n){Cn(this,"http");Cn(this,"token");this.http=new bm({baseUrl:t}),this.token=n}async getUser(){let t=await this.http.get(`/api/v1/preassessment/user?token=${this.token}`);if(!t.ok)throw new Ei(t);return t.data}async updateUser(t){let n={token:this.token,...t},r=await this.http.put("/api/v1/preassessment/user",n);if(!r.ok)throw new Ei(r)}async getAssessment(){let t=await this.http.get(`/api/v1/preassessment/assessment?token=${this.token}`);if(!t.ok)throw new Ei(t);return t.data}async updateAssessment(t){let n={token:this.token,...t},r=await this.http.put("/api/v1/preassessment/assessment",n);if(!r.ok)throw new Ei(r)}async startTaskGroup(t){const n={token:this.token,task_group:t};let r=await this.http.post("/api/v1/preassessment/session",n);if(!r.ok)throw new Ei(r);return r.data}async sendAnalytics(t,n){const r={token:this.token,passed:t,data:n};await this.http.post("/api/v1/preassessment/tech_check",r)}async getSchedule(t,n){const r={token:this.token,from_date:t.toISOString(),to_date:n.toISOString()};let i=await this.http.get("/api/v1/preassessment/schedule",{query:r});if(!i.ok)throw new Ei(i);const o=i.data.schedule,u={};for(const l of o)u[xt.fromISO(l.date).toUTC().toISO()]=l.slots;return u}async getRobloxUser(t){let n={token:this.token,include_headshot:150,...t},r=0;for(;;){let i=await this.http.get("/api/v1/preassessment/roblox",{query:n});if(!i.ok)throw new Ei(i);const o=i.data.user;if(o.headshot.status==="pending"&&r<3){await new Promise(function(u){setTimeout(u,1e3)}),r+=1;continue}return o}}}class eS{constructor(){Cn(this,"http");Cn(this,"articles",null);Cn(this,"sections",null);this.http=new bm({baseUrl:"https://support.at.robloxlabs.com"})}getTopics(){return[{label:"Extension Request",value:"extension"},{label:"Reporting A Technical Issue",value:"reporting_a_technical_issue"},{label:"General Question",value:"general_question"},{label:"Update on My Application",value:"update_on_my_application"},{label:"Verifying my Edu Address",value:"verifying_my_edu_address"},{label:"Interview Deadlines",value:"interview_deadlines"}]}async getArticles(){if(this.articles!=null)return Promise.resolve(this.articles);let t=await this.http.get("/api/v2/help_center/en-us/articles.json&per_page=100");if(!t.ok)throw new Ei(t);return this.articles=t.data.articles,this.articles}async getSections(){if(this.sections!=null)return Promise.resolve(this.sections);let t=await this.http.get("/api/v2/help_center/en-us/sections.json");if(!t.ok)throw new Ei(t);return this.sections=t.data.sections,this.sections}async submitTicket(t,n){let r=[{id:"5278818224407",value:t.topic}];for(let o in n||{})r.push({id:o,value:n[o]});return(await this.http.post("/api/v2/requests.json",{request:{requester:{name:t.name,email:t.email},comment:{body:t.body},custom_fields:r}})).data.request}}function tS(){return new URL(document.location.href).searchParams.get("token")}function nS(e){const t=Ql("platform");return new JA(t,e)}function rS(){return new eS}function Ql(e,t=!0,n="https"){return`${n}://${iS(e,t)}`}function iS(e,t=!0){const n=window.location.hostname;return n.endsWith("at.robloxlabs.com")?t?`${e}.at.robloxlabs.com`:`${e}.prd.imbellus2.com`:n.endsWith("stg.imbellus2.com")?`${e}.stg.imbellus2.com`:`${e}.dev.imbellus2.com`}const aS=nn({name:"App",components:{Layout:ZA},setup(){const e=tS(),t={token:e,api:nS(e||""),zendesk:rS(),currentPage:-1,totalPages:6,progressVisible:!0,backgroundMoving:!0,showBackground:!1,fadeOut:!1,failedChecks:[]};Ho(Xr,Ma(t))}});function oS(e,t,n,r,i,o){const u=Kt("router-view"),l=Kt("Layout");return dt(),Er(l,null,{default:qt(()=>[Ft(u)]),_:1})}const sS=cn(aS,[["render",oS]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Zl(e,t)};function cs(e,t){Zl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tt=function(){return Tt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Tt.apply(this,arguments)};function wi(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){u={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function tr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mr(arguments[t]));return e}var yi;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(yi||(yi={}));function uS(e){e.then(null,function(t){console.error(t)})}function lS(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function l0(){return!lS()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function cS(e,t){return e.require(t)}var fS={};function Vn(){return l0()?global:typeof window<"u"?window:typeof self<"u"?self:fS}function c0(e,t,n){var r=n||Vn(),i=r.__SENTRY__=r.__SENTRY__||{},o=i[e]||(i[e]=t());return o}var Am=Object.prototype.toString;function f0(e){switch(Am.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return na(e,Error)}}function ho(e,t){return Am.call(e)==="[object "+t+"]"}function Sm(e){return ho(e,"ErrorEvent")}function Fd(e){return ho(e,"DOMError")}function dS(e){return ho(e,"DOMException")}function ro(e){return ho(e,"String")}function d0(e){return e===null||typeof e!="object"&&typeof e!="function"}function io(e){return ho(e,"Object")}function Mu(e){return typeof Event<"u"&&na(e,Event)}function hS(e){return typeof Element<"u"&&na(e,Element)}function pS(e){return ho(e,"RegExp")}function h0(e){return!!(e&&e.then&&typeof e.then=="function")}function mS(e){return io(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function gS(e){return typeof e=="number"&&e!==e}function na(e,t){try{return e instanceof t}catch{return!1}}function Jl(e,t){try{for(var n=e,r=5,i=80,o=[],u=0,l=0,f=" > ",d=f.length,m=void 0;n&&u++<r&&(m=yS(n,t),!(m==="html"||u>1&&l+o.length*d+m.length>=i));)o.push(m),l+=m.length,n=n.parentNode;return o.reverse().join(f)}catch{return"<unknown>"}}function yS(e,t){var n=e,r=[],i,o,u,l,f;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var d=t&&t.length?t.filter(function(c){return n.getAttribute(c)}).map(function(c){return[c,n.getAttribute(c)]}):null;if(d&&d.length)d.forEach(function(c){r.push("["+c[0]+'="'+c[1]+'"]')});else if(n.id&&r.push("#"+n.id),i=n.className,i&&ro(i))for(o=i.split(/\s+/),f=0;f<o.length;f++)r.push("."+o[f]);var m=["type","name","title","alt"];for(f=0;f<m.length;f++)u=m[f],l=n.getAttribute(u),l&&r.push("["+u+'="'+l+'"]');return r.join("")}function _S(){var e=Vn();try{return e.document.location.href}catch{return""}}var TS=Object.setPrototypeOf||({__proto__:[]}instanceof Array?vS:ES);function vS(e,t){return e.__proto__=t,e}function ES(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}var ar=function(e){cs(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return i.message=n,i.name=r.prototype.constructor.name,TS(i,r.prototype),i}return t}(Error),po=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,bS=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function AS(e){return e==="http"||e==="https"}function fs(e,t){t===void 0&&(t=!1);var n=e.host,r=e.path,i=e.pass,o=e.port,u=e.projectId,l=e.protocol,f=e.publicKey;return l+"://"+f+(t&&i?":"+i:"")+("@"+n+(o?":"+o:"")+"/"+(r&&r+"/")+u)}function SS(e){var t=bS.exec(e);if(!t)throw new ar("Invalid Sentry Dsn: "+e);var n=Mr(t.slice(1),6),r=n[0],i=n[1],o=n[2],u=o===void 0?"":o,l=n[3],f=n[4],d=f===void 0?"":f,m=n[5],c="",p=m,T=p.split("/");if(T.length>1&&(c=T.slice(0,-1).join("/"),p=T.pop()),p){var g=p.match(/^\d+/);g&&(p=g[0])}return Im({host:l,pass:u,path:c,projectId:p,port:d,protocol:r,publicKey:i})}function Im(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function IS(e){if(po){var t=e.port,n=e.projectId,r=e.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(o){if(!e[o])throw new ar("Invalid Sentry Dsn: "+o+" missing")}),!n.match(/^\d+$/))throw new ar("Invalid Sentry Dsn: Invalid projectId "+n);if(!AS(r))throw new ar("Invalid Sentry Dsn: Invalid protocol "+r);if(t&&isNaN(parseInt(t,10)))throw new ar("Invalid Sentry Dsn: Invalid port "+t);return!0}}function p0(e){var t=typeof e=="string"?SS(e):Im(e);return IS(t),t}var wS=["fatal","error","warning","log","info","debug","critical"],RS=Vn(),CS="Sentry Logger ",au=["debug","info","warn","error","log","assert"];function wm(e){var t=Vn();if(!("console"in t))return e();var n=t.console,r={};au.forEach(function(i){var o=n[i]&&n[i].__sentry_original__;i in t.console&&o&&(r[i]=n[i],n[i]=o)});try{return e()}finally{Object.keys(r).forEach(function(i){n[i]=r[i]})}}function kd(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return po?au.forEach(function(n){t[n]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];e&&wm(function(){var o;(o=RS.console)[n].apply(o,tr([CS+"["+n+"]:"],r))})}}):au.forEach(function(n){t[n]=function(){}}),t}var tn;po?tn=c0("logger",kd):tn=kd();function $o(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function Ud(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function m0(e,t){return ro(e)?pS(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}function vr(e,t,n){if(t in e){var r=e[t],i=n(r);if(typeof i=="function")try{Rm(i,r)}catch{}e[t]=i}}function Nu(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Rm(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Nu(e,"__sentry_original__",t)}function g0(e){return e.__sentry_original__}function MS(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function Cm(e){var t=e;if(f0(e))t=Tt({message:e.message,name:e.name,stack:e.stack},Gd(e));else if(Mu(e)){var n=e;t=Tt({type:n.type,target:Bd(n.target),currentTarget:Bd(n.currentTarget)},Gd(n)),typeof CustomEvent<"u"&&na(e,CustomEvent)&&(t.detail=n.detail)}return t}function Bd(e){try{return hS(e)?Jl(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Gd(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function NS(e,t){t===void 0&&(t=40);var n=Object.keys(Cm(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return $o(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:$o(i,t)}return""}function ec(e){var t,n;if(io(e)){var r={};try{for(var i=wi(Object.keys(e)),o=i.next();!o.done;o=i.next()){var u=o.value;typeof e[u]<"u"&&(r[u]=ec(e[u]))}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Array.isArray(e)?e.map(ec):e}var OS=50;function DS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.sort(function(r,i){return r[0]-i[0]}).map(function(r){return r[1]});return function(r,i){var o,u,l,f;i===void 0&&(i=0);var d=[];try{for(var m=wi(r.split(`
`).slice(i)),c=m.next();!c.done;c=m.next()){var p=c.value;try{for(var T=(l=void 0,wi(n)),g=T.next();!g.done;g=T.next()){var D=g.value,v=D(p);if(v){d.push(v);break}}}catch(w){l={error:w}}finally{try{g&&!g.done&&(f=T.return)&&f.call(T)}finally{if(l)throw l.error}}}}catch(w){o={error:w}}finally{try{c&&!c.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}return PS(d)}}function PS(e){if(!e.length)return[];var t=e,n=t[0].function||"",r=t[t.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),r.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,OS).map(function(i){return Tt(Tt({},i),{filename:i.filename||t[0].filename,function:i.function||"?"})}).reverse()}var Tl="<anonymous>";function Ji(e){try{return!e||typeof e!="function"?Tl:e.name||Tl}catch{return Tl}}function Ou(){if(!("fetch"in Vn()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function tc(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function LS(){if(!Ou())return!1;var e=Vn();if(tc(e.fetch))return!0;var t=!1,n=e.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=tc(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){po&&tn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function xS(){if(!Ou())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function FS(){var e=Vn(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}var jn=Vn(),Wo={},jd={};function kS(e){if(!jd[e])switch(jd[e]=!0,e){case"console":US();break;case"dom":WS();break;case"xhr":HS();break;case"fetch":BS();break;case"history":VS();break;case"error":zS();break;case"unhandledrejection":KS();break;default:po&&tn.warn("unknown instrumentation type:",e);return}}function Yi(e,t){Wo[e]=Wo[e]||[],Wo[e].push(t),kS(e)}function oi(e,t){var n,r;if(!(!e||!Wo[e]))try{for(var i=wi(Wo[e]||[]),o=i.next();!o.done;o=i.next()){var u=o.value;try{u(t)}catch(l){po&&tn.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+Ji(u)+`
Error:`,l)}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function US(){"console"in jn&&au.forEach(function(e){e in jn.console&&vr(jn.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];oi("console",{args:n,level:e}),t&&t.apply(jn.console,n)}})})}function BS(){LS()&&vr(jn,"fetch",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:GS(t),url:jS(t)},startTimestamp:Date.now()};return oi("fetch",Tt({},r)),e.apply(jn,t).then(function(i){return oi("fetch",Tt(Tt({},r),{endTimestamp:Date.now(),response:i})),i},function(i){throw oi("fetch",Tt(Tt({},r),{endTimestamp:Date.now(),error:i})),i})}})}function GS(e){return e===void 0&&(e=[]),"Request"in jn&&na(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function jS(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in jn&&na(e[0],Request)?e[0].url:String(e[0])}function HS(){if("XMLHttpRequest"in jn){var e=XMLHttpRequest.prototype;vr(e,"open",function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this,o=n[1],u=i.__sentry_xhr__={method:ro(n[0])?n[0].toUpperCase():n[0],url:n[1]};ro(o)&&u.method==="POST"&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var l=function(){if(i.readyState===4){try{u.status_code=i.status}catch{}oi("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?vr(i,"onreadystatechange",function(f){return function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return l(),f.apply(i,d)}}):i.addEventListener("readystatechange",l),t.apply(i,n)}}),vr(e,"send",function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),oi("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}}var Ds;function VS(){if(!FS())return;var e=jn.onpopstate;jn.onpopstate=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=jn.location.href,o=Ds;if(Ds=i,oi("history",{from:o,to:i}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=r.length>2?r[2]:void 0;if(o){var u=Ds,l=String(o);Ds=l,oi("history",{from:u,to:l})}return n.apply(this,r)}}vr(jn.history,"pushState",t),vr(jn.history,"replaceState",t)}var qS=1e3,Ps,Ls;function YS(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function $S(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Hd(e,t){return t===void 0&&(t=!1),function(n){if(!(!n||Ls===n)&&!$S(n)){var r=n.type==="keypress"?"input":n.type;Ps===void 0?(e({event:n,name:r,global:t}),Ls=n):YS(Ls,n)&&(e({event:n,name:r,global:t}),Ls=n),clearTimeout(Ps),Ps=jn.setTimeout(function(){Ps=void 0},qS)}}}function WS(){if("document"in jn){var e=oi.bind(null,"dom"),t=Hd(e,!0);jn.document.addEventListener("click",t,!1),jn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(n){var r=jn[n]&&jn[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(vr(r,"addEventListener",function(i){return function(o,u,l){if(o==="click"||o=="keypress")try{var f=this,d=f.__sentry_instrumentation_handlers__=f.__sentry_instrumentation_handlers__||{},m=d[o]=d[o]||{refCount:0};if(!m.handler){var c=Hd(e);m.handler=c,i.call(this,o,c,l)}m.refCount+=1}catch{}return i.call(this,o,u,l)}}),vr(r,"removeEventListener",function(i){return function(o,u,l){if(o==="click"||o=="keypress")try{var f=this,d=f.__sentry_instrumentation_handlers__||{},m=d[o];m&&(m.refCount-=1,m.refCount<=0&&(i.call(this,o,m.handler,l),m.handler=void 0,delete d[o]),Object.keys(d).length===0&&delete f.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,u,l)}}))})}}var vl=null;function zS(){vl=jn.onerror,jn.onerror=function(e,t,n,r,i){return oi("error",{column:r,error:i,line:n,msg:e,url:t}),vl?vl.apply(this,arguments):!1}}var El=null;function KS(){El=jn.onunhandledrejection,jn.onunhandledrejection=function(e){return oi("unhandledrejection",e),El?El.apply(this,arguments):!0}}function XS(){var e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(var o=0;o<t.length;o++){var u=t[o];if(u===i)return!0}return t.push(i),!1}function r(i){if(e)t.delete(i);else for(var o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function Za(){var e=Vn(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,u=i==="x"?o:o&3|8;return u.toString(16)})}function bl(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function Mm(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ia(e){var t=e.message,n=e.event_id;if(t)return t;var r=Mm(e);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function nc(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function ns(e,t){var n=Mm(e);if(n){var r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism=Tt(Tt(Tt({},r),i),t),t&&"data"in t){var o=Tt(Tt({},i&&i.data),t.data);n.mechanism.data=o}}}function Vd(e){if(e&&e.__sentry_captured__)return!0;try{Nu(e,"__sentry_captured__",!0)}catch{}return!1}function Aa(e,t,n){t===void 0&&(t=1/0),n===void 0&&(n=1/0);try{return Om("",e,t,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function Nm(e,t,n){t===void 0&&(t=3),n===void 0&&(n=100*1024);var r=Aa(e,t);return JS(r)>n?Nm(e,t-1,n):r}function Om(e,t,n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=XS());var o=Mr(i,2),u=o[0],l=o[1],f=t;if(f&&typeof f.toJSON=="function")try{return f.toJSON()}catch{}if(t===null||["number","boolean","string"].includes(typeof t)&&!gS(t))return t;var d=QS(e,t);if(!d.startsWith("[object "))return d;if(n===0)return d.replace("object ","");if(u(t))return"[Circular ~]";var m=Array.isArray(t)?[]:{},c=0,p=f0(t)||Mu(t)?Cm(t):t;for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)){if(c>=r){m[T]="[MaxProperties ~]";break}var g=p[T];m[T]=Om(T,g,n-1,r,i),c+=1}return l(t),m}function QS(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":mS(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+Ji(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(n){return"**non-serializable** ("+n+")"}}function ZS(e){return~-encodeURI(e).split(/%..|./).length}function JS(e){return ZS(JSON.stringify(e))}function Oa(e){return new ra(function(t){t(e)})}function rs(e){return new ra(function(t,n){n(e)})}var ra=function(){function e(t){var n=this;this._state=0,this._handlers=[],this._resolve=function(r){n._setResult(1,r)},this._reject=function(r){n._setResult(2,r)},this._setResult=function(r,i){if(n._state===0){if(h0(i)){i.then(n._resolve,n._reject);return}n._state=r,n._value=i,n._executeHandlers()}},this._executeHandlers=function(){if(n._state!==0){var r=n._handlers.slice();n._handlers=[],r.forEach(function(i){i[0]||(n._state===1&&i[1](n._value),n._state===2&&i[2](n._value),i[0]=!0)})}};try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}return e.prototype.then=function(t,n){var r=this;return new e(function(i,o){r._handlers.push([!1,function(u){if(!t)i(u);else try{i(t(u))}catch(l){o(l)}},function(u){if(!n)o(u);else try{i(n(u))}catch(l){o(l)}}]),r._executeHandlers()})},e.prototype.catch=function(t){return this.then(function(n){return n},t)},e.prototype.finally=function(t){var n=this;return new e(function(r,i){var o,u;return n.then(function(l){u=!1,o=l,t&&t()},function(l){u=!0,o=l,t&&t()}).then(function(){if(u){i(o);return}r(o)})})},e}();function Dm(e){var t=[];function n(){return e===void 0||t.length<e}function r(u){return t.splice(t.indexOf(u),1)[0]}function i(u){if(!n())return rs(new ar("Not adding Promise due to buffer limit reached."));var l=u();return t.indexOf(l)===-1&&t.push(l),l.then(function(){return r(l)}).then(null,function(){return r(l).then(null,function(){})}),l}function o(u){return new ra(function(l,f){var d=t.length;if(!d)return l(!0);var m=setTimeout(function(){u&&u>0&&l(!1)},u);t.forEach(function(c){Oa(c).then(function(){--d||(clearTimeout(m),l(!0))},f)})})}return{$:t,add:i,drain:o}}function e6(e){return wS.indexOf(e)!==-1}function t6(e){return e==="warn"?yi.Warning:e6(e)?e:yi.Log}function Pm(e){return e>=200&&e<300?"success":e===429?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}var rc={nowSeconds:function(){return Date.now()/1e3}};function n6(){var e=Vn().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function r6(){try{var e=cS(xr,"perf_hooks");return e.performance}catch{return}}var Al=l0()?r6():n6(),qd=Al===void 0?rc:{nowSeconds:function(){return(Al.timeOrigin+Al.now())/1e3}},Du=rc.nowSeconds.bind(rc),ic=qd.nowSeconds.bind(qd);(function(){var e=Vn().performance;if(!(!e||!e.now)){var t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,u=e.timing&&e.timing.navigationStart,l=typeof u=="number",f=l?Math.abs(u+n-r):t,d=f<t;return o||d?i<=f?e.timeOrigin:u:r}})();function Pu(e,t){return t===void 0&&(t=[]),[e,t]}function i6(e){var t=Mr(e,2),n=Mr(t[1],1),r=Mr(n[0],1),i=r[0];return i.type}function Lu(e){var t=Mr(e,2),n=t[0],r=t[1],i=JSON.stringify(n);return r.reduce(function(o,u){var l=Mr(u,2),f=l[0],d=l[1],m=d0(d)?String(d):JSON.stringify(d);return o+`
`+JSON.stringify(f)+`
`+m},i)}function a6(e,t,n){var r=[{type:"client_report"},{timestamp:n||Du(),discarded_events:e}];return Pu(t?{dsn:t}:{},[r])}var o6=60*1e3;function s6(e,t){t===void 0&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return n*1e3;var r=Date.parse(""+e);return isNaN(r)?o6:r-t}function y0(e,t){return e[t]||e.all||0}function Lm(e,t,n){return n===void 0&&(n=Date.now()),y0(e,t)>n}function xm(e,t,n){var r,i,o,u;n===void 0&&(n=Date.now());var l=Tt({},e),f=t["x-sentry-rate-limits"],d=t["retry-after"];if(f)try{for(var m=wi(f.trim().split(",")),c=m.next();!c.done;c=m.next()){var p=c.value,T=p.split(":",2),g=parseInt(T[0],10),D=(isNaN(g)?60:g)*1e3;if(!T[1])l.all=n+D;else try{for(var v=(o=void 0,wi(T[1].split(";"))),w=v.next();!w.done;w=v.next()){var A=w.value;l[A]=n+D}}catch(N){o={error:N}}finally{try{w&&!w.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}}}catch(N){r={error:N}}finally{try{c&&!c.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}else d&&(l.all=n+s6(d,n));return l}var Yd=100,ou=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=tr(t._breadcrumbs),n._tags=Tt({},t._tags),n._extra=Tt({},t._extra),n._contexts=Tt({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=tr(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=Tt(Tt({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,n){var r;return this._tags=Tt(Tt({},this._tags),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=Tt(Tt({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,n){var r;return this._extra=Tt(Tt({},this._extra),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,n){var r;return n===null?delete this._contexts[t]:this._contexts=Tt(Tt({},this._contexts),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Tt(Tt({},this._tags),t._tags),this._extra=Tt(Tt({},this._extra),t._extra),this._contexts=Tt(Tt({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):io(t)&&(t=t,this._tags=Tt(Tt({},this._tags),t.tags),this._extra=Tt(Tt({},this._extra),t.extra),this._contexts=Tt(Tt({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,n){var r=typeof n=="number"?Math.min(n,Yd):Yd;if(r<=0)return this;var i=Tt({timestamp:Du()},t);return this._breadcrumbs=tr(this._breadcrumbs,[i]).slice(-r),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,n){if(this._extra&&Object.keys(this._extra).length&&(t.extra=Tt(Tt({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Tt(Tt({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Tt(Tt({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Tt(Tt({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Tt({trace:this._span.getTraceContext()},t.contexts);var r=this._span.transaction&&this._span.transaction.name;r&&(t.tags=Tt({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=tr(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(tr(Fm(),this._eventProcessors),t,n)},e.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=Tt(Tt({},this._sdkProcessingMetadata),t),this},e.prototype._notifyEventProcessors=function(t,n,r,i){var o=this;return i===void 0&&(i=0),new ra(function(u,l){var f=t[i];if(n===null||typeof f!="function")u(n);else{var d=f(Tt({},n),r);h0(d)?d.then(function(m){return o._notifyEventProcessors(t,m,r,i+1).then(u)}).then(null,l):o._notifyEventProcessors(t,d,r,i+1).then(u).then(null,l)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function Fm(){return c0("globalEventProcessors",function(){return[]})}function _0(e){Fm().push(e)}var u6=function(){function e(t){this.errors=0,this.sid=Za(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var n=ic();this.timestamp=n,this.started=n,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||ic(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:Za()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var n=this.timestamp-this.started;this.duration=n>=0?n:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status==="ok"?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return ec({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}(),$d=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,T0=4,l6=100,v0=function(){function e(t,n,r){n===void 0&&(n=new ou),r===void 0&&(r=T0),this._version=r,this._stack=[{}],this.getStackTop().scope=n,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=ou.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var n=this.pushScope();try{t(n)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:Za(),i=n;if(!n){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(u){o=u}i={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,Tt(Tt({},i),{event_id:r})),r},e.prototype.captureMessage=function(t,n,r){var i=this._lastEventId=r&&r.event_id?r.event_id:Za(),o=r;if(!r){var u=void 0;try{throw new Error(t)}catch(l){u=l}o={originalException:t,syntheticException:u}}return this._invokeClient("captureMessage",t,n,Tt(Tt({},o),{event_id:i})),i},e.prototype.captureEvent=function(t,n){var r=n&&n.event_id?n.event_id:Za();return t.type!=="transaction"&&(this._lastEventId=r),this._invokeClient("captureEvent",t,Tt(Tt({},n),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,n){var r=this.getStackTop(),i=r.scope,o=r.client;if(!(!i||!o)){var u=o.getOptions&&o.getOptions()||{},l=u.beforeBreadcrumb,f=l===void 0?null:l,d=u.maxBreadcrumbs,m=d===void 0?l6:d;if(!(m<=0)){var c=Du(),p=Tt({timestamp:c},t),T=f?wm(function(){return f(p,n)}):p;T!==null&&i.addBreadcrumb(T,m)}}},e.prototype.setUser=function(t){var n=this.getScope();n&&n.setUser(t)},e.prototype.setTags=function(t){var n=this.getScope();n&&n.setTags(t)},e.prototype.setExtras=function(t){var n=this.getScope();n&&n.setExtras(t)},e.prototype.setTag=function(t,n){var r=this.getScope();r&&r.setTag(t,n)},e.prototype.setExtra=function(t,n){var r=this.getScope();r&&r.setExtra(t,n)},e.prototype.setContext=function(t,n){var r=this.getScope();r&&r.setContext(t,n)},e.prototype.configureScope=function(t){var n=this.getStackTop(),r=n.scope,i=n.client;r&&i&&t(r)},e.prototype.run=function(t){var n=Wd(this);try{t(this)}finally{Wd(n)}},e.prototype.getIntegration=function(t){var n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return $d&&tn.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,n){return this._callExtensionMethod("startTransaction",t,n)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t=this.getStackTop(),n=t&&t.scope,r=n&&n.getSession();r&&r.close(),this._sendSessionUpdate(),n&&n.setSession()},e.prototype.startSession=function(t){var n=this.getStackTop(),r=n.scope,i=n.client,o=i&&i.getOptions()||{},u=o.release,l=o.environment,f=Vn(),d=(f.navigator||{}).userAgent,m=new u6(Tt(Tt(Tt({release:u,environment:l},r&&{user:r.getUser()}),d&&{userAgent:d}),t));if(r){var c=r.getSession&&r.getSession();c&&c.status==="ok"&&c.update({status:"exited"}),this.endSession(),r.setSession(m)}return m},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),n=t.scope,r=t.client;if(n){var i=n.getSession&&n.getSession();i&&r&&r.captureSession&&r.captureSession(i)}},e.prototype._invokeClient=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=this.getStackTop(),u=o.scope,l=o.client;l&&l[t]&&(n=l)[t].apply(n,tr(r,[u]))},e.prototype._callExtensionMethod=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=xu(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,n);$d&&tn.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function xu(){var e=Vn();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Wd(e){var t=xu(),n=$i(t);return E0(t,e),n}function cr(){var e=xu();return(!km(e)||$i(e).isOlderThan(T0))&&E0(e,new v0),l0()?c6(e):$i(e)}function c6(e){try{var t=xu().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return $i(e);if(!km(n)||$i(n).isOlderThan(T0)){var r=$i(e).getStackTop();E0(n,new v0(r.client,ou.clone(r.scope)))}return $i(n)}catch{return $i(e)}}function km(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function $i(e){return c0("hub",function(){return new v0},e)}function E0(e,t){if(!e)return!1;var n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Um(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=cr();if(r&&r[e])return r[e].apply(r,tr(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function f6(e,t){var n=new Error("Sentry syntheticException");return Um("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function d6(e){Um("withScope",e)}var h6="7";function su(e,t,n){return{initDsn:e,metadata:t||{},dsn:p0(e),tunnel:n}}function Bm(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}function Gm(e,t){return""+Bm(e)+e.projectId+"/"+t+"/"}function jm(e){return MS({sentry_key:e.publicKey,sentry_version:h6})}function p6(e){return Gm(e,"store")}function Hm(e){return p6(e)+"?"+jm(e)}function m6(e){return Gm(e,"envelope")}function Fu(e,t){return t||m6(e)+"?"+jm(e)}function g6(e,t){var n=p0(e),r=Bm(n)+"embed/error-page/",i="dsn="+fs(n);for(var o in t)if(o!=="dsn")if(o==="user"){if(!t.user)continue;t.user.name&&(i+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(i+="&email="+encodeURIComponent(t.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);return r+"?"+i}var er=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,zd=[];function Kd(e){return e.reduce(function(t,n){return t.every(function(r){return n.name!==r.name})&&t.push(n),t},[])}function y6(e){var t=e.defaultIntegrations&&tr(e.defaultIntegrations)||[],n=e.integrations,r=tr(Kd(t));Array.isArray(n)?r=tr(r.filter(function(u){return n.every(function(l){return l.name!==u.name})}),Kd(n)):typeof n=="function"&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(function(u){return u.name}),o="Debug";return i.indexOf(o)!==-1&&r.push.apply(r,tr(r.splice(i.indexOf(o),1))),r}function _6(e){zd.indexOf(e.name)===-1&&(e.setupOnce(_0,cr),zd.push(e.name),er&&tn.log("Integration installed: "+e.name))}function T6(e){var t={};return y6(e).forEach(function(n){t[n.name]=n,_6(n)}),Nu(t,"initialized",!0),t}var Xd="Not capturing exception because it's already been captured.",v6=function(){function e(t,n){this._integrations={},this._numProcessing=0,this._backend=new t(n),this._options=n,n.dsn&&(this._dsn=p0(n.dsn))}return e.prototype.captureException=function(t,n,r){var i=this;if(Vd(t)){er&&tn.log(Xd);return}var o=n&&n.event_id;return this._process(this._getBackend().eventFromException(t,n).then(function(u){return i._captureEvent(u,n,r)}).then(function(u){o=u})),o},e.prototype.captureMessage=function(t,n,r,i){var o=this,u=r&&r.event_id,l=d0(t)?this._getBackend().eventFromMessage(String(t),n,r):this._getBackend().eventFromException(t,r);return this._process(l.then(function(f){return o._captureEvent(f,r,i)}).then(function(f){u=f})),u},e.prototype.captureEvent=function(t,n,r){if(n&&n.originalException&&Vd(n.originalException)){er&&tn.log(Xd);return}var i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(function(o){i=o})),i},e.prototype.captureSession=function(t){if(!this._isEnabled()){er&&tn.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?er&&tn.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(t){var n=this;return this._isClientDoneProcessing(t).then(function(r){return n.getTransport().close(t).then(function(i){return r&&i})})},e.prototype.close=function(t){var n=this;return this.flush(t).then(function(r){return n.getOptions().enabled=!1,r})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=T6(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch{return er&&tn.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,n){var r,i,o=!1,u=!1,l=n.exception&&n.exception.values;if(l){u=!0;try{for(var f=wi(l),d=f.next();!d.done;d=f.next()){var m=d.value,c=m.mechanism;if(c&&c.handled===!1){o=!0;break}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}var p=t.status==="ok",T=p&&t.errors===0||p&&o;T&&(t.update(Tt(Tt({},o&&{status:"crashed"}),{errors:t.errors||Number(u||o)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var n=this;return new ra(function(r){var i=0,o=1,u=setInterval(function(){n._numProcessing==0?(clearInterval(u),r(!0)):(i+=o,t&&i>=t&&(clearInterval(u),r(!1)))},o)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,n,r){var i=this,o=this.getOptions(),u=o.normalizeDepth,l=u===void 0?3:u,f=o.normalizeMaxBreadth,d=f===void 0?1e3:f,m=Tt(Tt({},t),{event_id:t.event_id||(r&&r.event_id?r.event_id:Za()),timestamp:t.timestamp||Du()});this._applyClientOptions(m),this._applyIntegrationsMetadata(m);var c=n;r&&r.captureContext&&(c=ou.clone(c).update(r.captureContext));var p=Oa(m);return c&&(p=c.applyToEvent(m,r)),p.then(function(T){return T&&(T.sdkProcessingMetadata=Tt(Tt({},T.sdkProcessingMetadata),{normalizeDepth:Aa(l)+" ("+typeof l+")"})),typeof l=="number"&&l>0?i._normalizeEvent(T,l,d):T})},e.prototype._normalizeEvent=function(t,n,r){if(!t)return null;var i=Tt(Tt(Tt(Tt(Tt({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(o){return Tt(Tt({},o),o.data&&{data:Aa(o.data,n,r)})})}),t.user&&{user:Aa(t.user,n,r)}),t.contexts&&{contexts:Aa(t.contexts,n,r)}),t.extra&&{extra:Aa(t.extra,n,r)});return t.contexts&&t.contexts.trace&&(i.contexts.trace=t.contexts.trace),i.sdkProcessingMetadata=Tt(Tt({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},e.prototype._applyClientOptions=function(t){var n=this.getOptions(),r=n.environment,i=n.release,o=n.dist,u=n.maxValueLength,l=u===void 0?250:u;"environment"in t||(t.environment="environment"in n?r:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=$o(t.message,l));var f=t.exception&&t.exception.values&&t.exception.values[0];f&&f.value&&(f.value=$o(f.value,l));var d=t.request;d&&d.url&&(d.url=$o(d.url,l))},e.prototype._applyIntegrationsMetadata=function(t){var n=Object.keys(this._integrations);n.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=tr(t.sdk.integrations||[],n))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,n,r){return this._processEvent(t,n,r).then(function(i){return i.event_id},function(i){er&&tn.error(i)})},e.prototype._processEvent=function(t,n,r){var i=this,o=this.getOptions(),u=o.beforeSend,l=o.sampleRate,f=this.getTransport();function d(c,p){f.recordLostEvent&&f.recordLostEvent(c,p)}if(!this._isEnabled())return rs(new ar("SDK not enabled, will not capture event."));var m=t.type==="transaction";return!m&&typeof l=="number"&&Math.random()>l?(d("sample_rate","event"),rs(new ar("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this._prepareEvent(t,r,n).then(function(c){if(c===null)throw d("event_processor",t.type||"event"),new ar("An event processor returned null, will not send event.");var p=n&&n.data&&n.data.__sentry__===!0;if(p||m||!u)return c;var T=u(c,n);return E6(T)}).then(function(c){if(c===null)throw d("before_send",t.type||"event"),new ar("`beforeSend` returned `null`, will not send event.");var p=r&&r.getSession&&r.getSession();return!m&&p&&i._updateSessionFromEvent(p,c),i._sendEvent(c),c}).then(null,function(c){throw c instanceof ar?c:(i.captureException(c,{data:{__sentry__:!0},originalException:c}),new ar(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+c))})},e.prototype._process=function(t){var n=this;this._numProcessing+=1,t.then(function(r){return n._numProcessing-=1,r},function(r){return n._numProcessing-=1,r})},e}();function E6(e){var t="`beforeSend` method has to return `null` or a valid event.";if(h0(e))return e.then(function(n){if(!(io(n)||n===null))throw new ar(t);return n},function(n){throw new ar("beforeSend rejected with "+n)});if(!(io(e)||e===null))throw new ar(t);return e}function b0(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,n=t.name,r=t.version;return{name:n,version:r}}}function Vm(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=tr(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=tr(e.sdk.packages||[],t.packages||[])),e}function qm(e,t){var n=b0(t),r=Tt(Tt({sent_at:new Date().toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:fs(t.dsn)}),i="aggregates"in e?"sessions":"session",o=[{type:i},e],u=Pu(r,[o]);return[u,i]}function b6(e,t){var n=Mr(qm(e,t),2),r=n[0],i=n[1];return{body:Lu(r),type:i,url:Fu(t.dsn,t.tunnel)}}function A6(e,t){var n=b0(t),r=e.type||"event",i=(e.sdkProcessingMetadata||{}).transactionSampling,o=i||{},u=o.method,l=o.rate;Vm(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;var f=Tt(Tt({event_id:e.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:fs(t.dsn)}),d=[{type:r,sample_rates:[{id:u,rate:l}]},e];return Pu(f,[d])}function S6(e,t){var n=b0(t),r=e.type||"event",i=r==="transaction"||!!t.tunnel,o=(e.sdkProcessingMetadata||{}).transactionSampling,u=o||{},l=u.method,f=u.rate;Vm(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;var d;try{d=JSON.stringify(e)}catch(D){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=D;try{d=JSON.stringify(Aa(e))}catch(v){var m=v;d=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:m.message,stack:m.stack}})}}var c={body:d,type:r,url:i?Fu(t.dsn,t.tunnel):Hm(t.dsn)};if(i){var p=Tt(Tt({event_id:e.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:fs(t.dsn)}),T=[{type:r,sample_rates:[{id:l,rate:f}]},c.body],g=Pu(p,[T]);c.body=Lu(g)}return c}var I6=function(){function e(){}return e.prototype.sendEvent=function(t){return Oa({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(t){return Oa(!0)},e}(),w6=function(){function e(t){this._options=t,this._options.dsn||er&&tn.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,n){throw new ar("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,n,r){throw new ar("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var n=su(this._options.dsn,this._options._metadata,this._options.tunnel),r=A6(t,n);this._newTransport.send(r).then(null,function(i){er&&tn.error("Error while sending event:",i)})}else this._transport.sendEvent(t).then(null,function(i){er&&tn.error("Error while sending event:",i)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){er&&tn.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var n=su(this._options.dsn,this._options._metadata,this._options.tunnel),r=Mr(qm(t,n),1),i=r[0];this._newTransport.send(i).then(null,function(o){er&&tn.error("Error while sending session:",o)})}else this._transport.sendSession(t).then(null,function(o){er&&tn.error("Error while sending session:",o)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new I6},e}();function R6(e,t){t.debug===!0&&(er?tn.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=cr(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var C6=30;function Ym(e,t,n){n===void 0&&(n=Dm(e.bufferSize||C6));var r={},i=function(u){return n.drain(u)};function o(u){var l=i6(u),f=l==="event"?"error":l,d={category:f,body:Lu(u)};if(Lm(r,f))return rs({status:"rate_limit",reason:Qd(r,f)});var m=function(){return t(d).then(function(c){var p=c.body,T=c.headers,g=c.reason,D=c.statusCode,v=Pm(D);return T&&(r=xm(r,T)),v==="success"?Oa({status:v,reason:g}):rs({status:v,reason:g||p||(v==="rate_limit"?Qd(r,f):"Unknown transport error")})})};return n.add(m)}return{send:o,flush:i}}function Qd(e,t){return"Too many "+t+" requests, backing off until: "+new Date(y0(e,t)).toISOString()}var uu="6.19.7",Zd,M6=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Zd=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=g0(this)||this;return Zd.apply(r,t)}},e.id="FunctionToString",e}(),N6=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],O6=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t(function(r){var i=n();if(i){var o=i.getIntegration(e);if(o){var u=i.getClient(),l=u?u.getOptions():{},f=D6(o._options,l);return P6(r,f)?null:r}}return r})},e.id="InboundFilters",e}();function D6(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),{allowUrls:tr(e.whitelistUrls||[],e.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:tr(e.blacklistUrls||[],e.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:tr(e.ignoreErrors||[],t.ignoreErrors||[],N6),ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function P6(e,t){return t.ignoreInternal&&U6(e)?(er&&tn.warn(`Event dropped due to being internal Sentry Error.
Event: `+Ia(e)),!0):L6(e,t.ignoreErrors)?(er&&tn.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Ia(e)),!0):x6(e,t.denyUrls)?(er&&tn.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Ia(e)+`.
Url: `+lu(e)),!0):F6(e,t.allowUrls)?!1:(er&&tn.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Ia(e)+`.
Url: `+lu(e)),!0)}function L6(e,t){return!t||!t.length?!1:k6(e).some(function(n){return t.some(function(r){return m0(n,r)})})}function x6(e,t){if(!t||!t.length)return!1;var n=lu(e);return n?t.some(function(r){return m0(n,r)}):!1}function F6(e,t){if(!t||!t.length)return!0;var n=lu(e);return n?t.some(function(r){return m0(n,r)}):!0}function k6(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=n===void 0?"":n,i=t.value,o=i===void 0?"":i;return[""+o,r+": "+o]}catch{return er&&tn.error("Cannot extract message for event "+Ia(e)),[]}return[]}function U6(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Jd(e){e===void 0&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function lu(e){try{if(e.stacktrace)return Jd(e.stacktrace.frames);var t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Jd(t):null}catch{return er&&tn.error("Cannot extract url for event "+Ia(e)),null}}var mo="?",B6=10,G6=20,j6=30,H6=40,V6=50;function ds(e,t,n,r){var i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var q6=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Y6=/\((\S*)(?::(\d+))(?::(\d+))\)/,$6=function(e){var t=q6.exec(e);if(t){var n=t[2]&&t[2].indexOf("eval")===0;if(n){var r=Y6.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}var i=Mr($m(t[1]||mo,t[2]),2),o=i[0],u=i[1];return ds(u,o,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},W6=[j6,$6],z6=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,K6=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,X6=function(e){var t,n=z6.exec(e);if(n){var r=n[3]&&n[3].indexOf(" > eval")>-1;if(r){var i=K6.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}var o=n[3],u=n[1]||mo;return t=Mr($m(u,o),2),u=t[0],o=t[1],ds(o,u,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},Q6=[V6,X6],Z6=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,J6=function(e){var t=Z6.exec(e);return t?ds(t[2],t[1]||mo,+t[3],t[4]?+t[4]:void 0):void 0},eI=[H6,J6],tI=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,nI=function(e){var t=tI.exec(e);return t?ds(t[2],t[3]||mo,+t[1]):void 0},rI=[B6,nI],iI=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,aI=function(e){var t=iI.exec(e);return t?ds(t[5],t[3]||t[4]||mo,+t[1],+t[2]):void 0},oI=[G6,aI],$m=function(e,t){var n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:mo,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function Wm(e){var t=A0(e),n={type:e&&e.name,value:cI(e)};return t.length&&(n.stacktrace={frames:t}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function sI(e,t,n){var r={exception:{values:[{type:Mu(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+NS(e)}]},extra:{__serialized__:Nm(e)}};if(t){var i=A0(t);i.length&&(r.stacktrace={frames:i})}return r}function Sl(e){return{exception:{values:[Wm(e)]}}}function A0(e){var t=e.stacktrace||e.stack||"",n=lI(e);try{return DS(rI,oI,W6,eI,Q6)(t,n)}catch{}return[]}var uI=/Minified React error #\d+;/i;function lI(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(uI.test(e.message))return 1}return 0}function cI(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function fI(e,t,n){var r=t&&t.syntheticException||void 0,i=S0(e,r,n);return ns(i),i.level=yi.Error,t&&t.event_id&&(i.event_id=t.event_id),Oa(i)}function dI(e,t,n,r){t===void 0&&(t=yi.Info);var i=n&&n.syntheticException||void 0,o=ac(e,i,r);return o.level=t,n&&n.event_id&&(o.event_id=n.event_id),Oa(o)}function S0(e,t,n,r){var i;if(Sm(e)&&e.error){var o=e;return Sl(o.error)}if(Fd(e)||dS(e)){var u=e;if("stack"in e)i=Sl(e);else{var l=u.name||(Fd(u)?"DOMError":"DOMException"),f=u.message?l+": "+u.message:l;i=ac(f,t,n),nc(i,f)}return"code"in u&&(i.tags=Tt(Tt({},i.tags),{"DOMException.code":""+u.code})),i}if(f0(e))return Sl(e);if(io(e)||Mu(e)){var d=e;return i=sI(d,t,r),ns(i,{synthetic:!0}),i}return i=ac(e,t,n),nc(i,""+e,void 0),ns(i,{synthetic:!0}),i}function ac(e,t,n){var r={message:e};if(n&&t){var i=A0(t);i.length&&(r.stacktrace={frames:i})}return r}var $r=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,ei=Vn(),xs;function I0(){if(xs)return xs;if(tc(ei.fetch))return xs=ei.fetch.bind(ei);var e=ei.document,t=ei.fetch;if(e&&typeof e.createElement=="function")try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){$r&&tn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return xs=t.bind(ei)}function hI(e,t){var n=Object.prototype.toString.call(ei&&ei.navigator)==="[object Navigator]",r=n&&typeof ei.navigator.sendBeacon=="function";if(r){var i=ei.navigator.sendBeacon.bind(ei.navigator);return i(e,t)}if(Ou()){var o=I0();return uS(o(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}function Il(e){var t=e;return t==="event"?"error":t}var wl=Vn(),zm=function(){function e(t){var n=this;this.options=t,this._buffer=Dm(30),this._rateLimits={},this._outcomes={},this._api=su(t.dsn,t._metadata,t.tunnel),this.url=Hm(this._api.dsn),this.options.sendClientReports&&wl.document&&wl.document.addEventListener("visibilitychange",function(){wl.document.visibilityState==="hidden"&&n._flushOutcomes()})}return e.prototype.sendEvent=function(t){return this._sendRequest(S6(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(b6(t,this._api),t)},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype.recordLostEvent=function(t,n){var r;if(this.options.sendClientReports){var i=Il(n)+":"+t;$r&&tn.log("Adding outcome: "+i),this._outcomes[i]=(r=this._outcomes[i],(r??0)+1)}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},!Object.keys(t).length){$r&&tn.log("No outcomes to flush");return}$r&&tn.log(`Flushing outcomes:
`+JSON.stringify(t,null,2));var n=Fu(this._api.dsn,this._api.tunnel),r=Object.keys(t).map(function(o){var u=Mr(o.split(":"),2),l=u[0],f=u[1];return{reason:f,category:l,quantity:t[o]}}),i=a6(r,this._api.tunnel&&fs(this._api.dsn));try{hI(n,Lu(i))}catch(o){$r&&tn.error(o)}}},e.prototype._handleResponse=function(t){var n=t.requestType,r=t.response,i=t.headers,o=t.resolve,u=t.reject,l=Pm(r.status);if(this._rateLimits=xm(this._rateLimits,i),this._isRateLimited(n)&&$r&&tn.warn("Too many "+n+" requests, backing off until: "+this._disabledUntil(n)),l==="success"){o({status:l});return}u(r)},e.prototype._disabledUntil=function(t){var n=Il(t);return new Date(y0(this._rateLimits,n))},e.prototype._isRateLimited=function(t){var n=Il(t);return Lm(this._rateLimits,n)},e}(),pI=function(e){cs(t,e);function t(n,r){r===void 0&&(r=I0());var i=e.call(this,n)||this;return i._fetch=r,i}return t.prototype._sendRequest=function(n,r){var i=this;if(this._isRateLimited(n.type))return this.recordLostEvent("ratelimit_backoff",n.type),Promise.reject({event:r,type:n.type,reason:"Transport for "+n.type+" requests locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429});var o={body:n.body,method:"POST",referrerPolicy:xS()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new ra(function(u,l){i._fetch(n.url,o).then(function(f){var d={"x-sentry-rate-limits":f.headers.get("X-Sentry-Rate-Limits"),"retry-after":f.headers.get("Retry-After")};i._handleResponse({requestType:n.type,response:f,headers:d,resolve:u,reject:l})}).catch(l)})}).then(void 0,function(u){throw u instanceof ar?i.recordLostEvent("queue_overflow",n.type):i.recordLostEvent("network_error",n.type),u})},t}(zm),mI=function(e){cs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._sendRequest=function(n,r){var i=this;return this._isRateLimited(n.type)?(this.recordLostEvent("ratelimit_backoff",n.type),Promise.reject({event:r,type:n.type,reason:"Transport for "+n.type+" requests locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new ra(function(o,u){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===4){var d={"x-sentry-rate-limits":l.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":l.getResponseHeader("Retry-After")};i._handleResponse({requestType:n.type,response:l,headers:d,resolve:o,reject:u})}},l.open("POST",n.url);for(var f in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,f)&&l.setRequestHeader(f,i.options.headers[f]);l.send(n.body)})}).then(void 0,function(o){throw o instanceof ar?i.recordLostEvent("queue_overflow",n.type):i.recordLostEvent("network_error",n.type),o})},t}(zm);function gI(e,t){t===void 0&&(t=I0());function n(r){var i=Tt({body:r.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return t(e.url,i).then(function(o){return o.text().then(function(u){return{body:u,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")},reason:o.statusText,statusCode:o.status}})})}return Ym({bufferSize:e.bufferSize},n)}var yI=4;function _I(e){function t(n){return new ra(function(r,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===yI){var l={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};r(l)}},o.open("POST",e.url);for(var u in e.headers)Object.prototype.hasOwnProperty.call(e.headers,u)&&o.setRequestHeader(u,e.headers[u]);o.send(n.body)})}return Ym({bufferSize:e.bufferSize},t)}var TI=function(e){cs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(n,r){return fI(n,r,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(n,r,i){return r===void 0&&(r=yi.Info),dI(n,r,i,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var n=Tt(Tt({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),r=su(n.dsn,n._metadata,n.tunnel),i=Fu(r.dsn,r.tunnel);if(this._options.transport)return new this._options.transport(n);if(Ou()){var o=Tt({},n.fetchParameters);return this._newTransport=gI({requestOptions:o,url:i}),new pI(n)}return this._newTransport=_I({url:i,headers:n.headers}),new mI(n)},t}(w6),Fs=Vn(),oc=0;function Km(){return oc>0}function vI(){oc+=1,setTimeout(function(){oc-=1})}function ao(e,t,n){if(t===void 0&&(t={}),typeof e!="function")return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(g0(e))return e}catch{return e}var i=function(){var l=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var f=l.map(function(d){return ao(d,t)});return e.apply(this,f)}catch(d){throw vI(),d6(function(m){m.addEventProcessor(function(c){return t.mechanism&&(nc(c,void 0,void 0),ns(c,t.mechanism)),c.extra=Tt(Tt({},c.extra),{arguments:l}),c}),f6(d)}),d}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch{}Rm(i,e),Nu(e,"__sentry_wrapped__",i);try{var u=Object.getOwnPropertyDescriptor(i,"name");u.configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch{}return i}function EI(e){if(e===void 0&&(e={}),!!Fs.document){if(!e.eventId){$r&&tn.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){$r&&tn.error("Missing dsn option in showReportDialog call");return}var t=Fs.document.createElement("script");t.async=!0,t.src=g6(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var n=Fs.document.head||Fs.document.body;n&&n.appendChild(t)}}var w0=function(){function e(t){this.name=e.id,this._installFunc={onerror:bI,onunhandledrejection:AI},this._options=Tt({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(wI(n),r(),this._installFunc[n]=void 0)}},e.id="GlobalHandlers",e}();function bI(){Yi("error",function(e){var t=Mr(Zm(),2),n=t[0],r=t[1];if(n.getIntegration(w0)){var i=e.msg,o=e.url,u=e.line,l=e.column,f=e.error;if(!(Km()||f&&f.__sentry_own_request__)){var d=f===void 0&&ro(i)?II(i,o,u,l):Xm(S0(f||i,void 0,r,!1),o,u,l);d.level=yi.Error,Qm(n,f,d,"onerror")}}})}function AI(){Yi("unhandledrejection",function(e){var t=Mr(Zm(),2),n=t[0],r=t[1];if(n.getIntegration(w0)){var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(Km()||i&&i.__sentry_own_request__)return!0;var o=d0(i)?SI(i):S0(i,void 0,r,!0);o.level=yi.Error,Qm(n,i,o,"onunhandledrejection")}})}function SI(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}}function II(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=Sm(e)?e.message:e,u="Error",l=o.match(i);l&&(u=l[1],o=l[2]);var f={exception:{values:[{type:u,value:o}]}};return Xm(f,t,n,r)}function Xm(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],u=o[0]=o[0]||{},l=u.stacktrace=u.stacktrace||{},f=l.frames=l.frames||[],d=isNaN(parseInt(r,10))?void 0:r,m=isNaN(parseInt(n,10))?void 0:n,c=ro(t)&&t.length>0?t:_S();return f.length===0&&f.push({colno:d,filename:c,function:"?",in_app:!0,lineno:m}),e}function wI(e){$r&&tn.log("Global Handler attached: "+e)}function Qm(e,t,n,r){ns(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Zm(){var e=cr(),t=e.getClient(),n=t&&t.getOptions().attachStacktrace;return[e,n]}var RI=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],CI=function(){function e(t){this.name=e.id,this._options=Tt({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=Vn();this._options.setTimeout&&vr(t,"setTimeout",eh),this._options.setInterval&&vr(t,"setInterval",eh),this._options.requestAnimationFrame&&vr(t,"requestAnimationFrame",MI),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&vr(XMLHttpRequest.prototype,"send",NI);var n=this._options.eventTarget;if(n){var r=Array.isArray(n)?n:RI;r.forEach(OI)}},e.id="TryCatch",e}();function eh(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=ao(r,{mechanism:{data:{function:Ji(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function MI(e){return function(t){return e.apply(this,[ao(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ji(e)},handled:!0,type:"instrument"}})])}}function NI(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(o){o in r&&typeof r[o]=="function"&&vr(r,o,function(u){var l={mechanism:{data:{function:o,handler:Ji(u)},handled:!0,type:"instrument"}},f=g0(u);return f&&(l.mechanism.data.handler=Ji(f)),ao(u,l)})}),e.apply(this,t)}}function OI(e){var t=Vn(),n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(vr(n,"addEventListener",function(r){return function(i,o,u){try{typeof o.handleEvent=="function"&&(o.handleEvent=ao(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:Ji(o),target:e},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[i,ao(o,{mechanism:{data:{function:"addEventListener",handler:Ji(o),target:e},handled:!0,type:"instrument"}}),u])}}),vr(n,"removeEventListener",function(r){return function(i,o,u){var l=o;try{var f=l&&l.__sentry_wrapped__;f&&r.call(this,i,f,u)}catch{}return r.call(this,i,l,u)}}))}var Jm=function(){function e(t){this.name=e.id,this._options=Tt({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&cr().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:Ia(t)},{event:t})},e.prototype.setupOnce=function(){this._options.console&&Yi("console",PI),this._options.dom&&Yi("dom",DI(this._options.dom)),this._options.xhr&&Yi("xhr",LI),this._options.fetch&&Yi("fetch",xI),this._options.history&&Yi("history",FI)},e.id="Breadcrumbs",e}();function DI(e){function t(n){var r,i=typeof e=="object"?e.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{r=n.event.target?Jl(n.event.target,i):Jl(n.event,i)}catch{r="<unknown>"}r.length!==0&&cr().addBreadcrumb({category:"ui."+n.name,message:r},{event:n.event,name:n.name,global:n.global})}return t}function PI(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:t6(e.level),message:Ud(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message="Assertion failed: "+(Ud(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1);else return;cr().addBreadcrumb(t,{input:e.args,level:e.level})}function LI(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;cr().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o});return}}function xI(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?cr().addBreadcrumb({category:"fetch",data:e.fetchData,level:yi.Error,type:"http"},{data:e.error,input:e.args}):cr().addBreadcrumb({category:"fetch",data:Tt(Tt({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function FI(e){var t=Vn(),n=e.from,r=e.to,i=bl(t.location.href),o=bl(n),u=bl(r);o.path||(o=i),i.protocol===u.protocol&&i.host===u.host&&(r=u.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),cr().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var kI="cause",UI=5,BI=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||kI,this._limit=t.limit||UI}return e.prototype.setupOnce=function(){_0(function(t,n){var r=cr().getIntegration(e);return r?GI(r._key,r._limit,t,n):t})},e.id="LinkedErrors",e}();function GI(e,t,n,r){if(!n.exception||!n.exception.values||!r||!na(r.originalException,Error))return n;var i=eg(t,r.originalException,e);return n.exception.values=tr(i,n.exception.values),n}function eg(e,t,n,r){if(r===void 0&&(r=[]),!na(t[n],Error)||r.length+1>=e)return r;var i=Wm(t[n]);return eg(e,t[n],n,tr([i],r))}var Ta=Vn(),jI=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){_0(function(t){if(cr().getIntegration(e)){if(!Ta.navigator&&!Ta.location&&!Ta.document)return t;var n=t.request&&t.request.url||Ta.location&&Ta.location.href,r=(Ta.document||{}).referrer,i=(Ta.navigator||{}).userAgent,o=Tt(Tt(Tt({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),u=Tt(Tt({},n&&{url:n}),{headers:o});return Tt(Tt({},t),{request:u})}return t})},e.id="UserAgent",e}(),HI=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t(function(r){var i=n().getIntegration(e);if(i){try{if(VI(r,i._previousEvent))return $r&&tn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=r}return i._previousEvent=r}return r})},e.id="Dedupe",e}();function VI(e,t){return t?!!(qI(e,t)||YI(e,t)):!1}function qI(e,t){var n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ng(e,t)||!tg(e,t))}function YI(e,t){var n=th(t),r=th(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ng(e,t)||!tg(e,t))}function tg(e,t){var n=nh(e),r=nh(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(var i=0;i<r.length;i++){var o=r[i],u=n[i];if(o.filename!==u.filename||o.lineno!==u.lineno||o.colno!==u.colno||o.function!==u.function)return!1}return!0}function ng(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function th(e){return e.exception&&e.exception.values&&e.exception.values[0]}function nh(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}else if(e.stacktrace)return e.stacktrace.frames}var $I=function(e){cs(t,e);function t(n){n===void 0&&(n={});var r=this;return n._metadata=n._metadata||{},n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:uu}],version:uu},r=e.call(this,TI,n)||this,r}return t.prototype.showReportDialog=function(n){n===void 0&&(n={});var r=Vn().document;if(r){if(!this._isEnabled()){$r&&tn.error("Trying to call showReportDialog with Sentry Client disabled");return}EI(Tt(Tt({},n),{dsn:n.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(n,r,i){return n.platform=n.platform||"javascript",e.prototype._prepareEvent.call(this,n,r,i)},t.prototype._sendEvent=function(n){var r=this.getIntegration(Jm);r&&r.addSentryBreadcrumb(n),e.prototype._sendEvent.call(this,n)},t}(v6),WI=[new O6,new M6,new CI,new Jm,new w0,new BI,new HI,new jI];function zI(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=WI),e.release===void 0){var t=Vn();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0),R6($I,e),e.autoSessionTracking&&KI()}function rh(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function KI(){var e=Vn(),t=e.document;if(typeof t>"u"){$r&&tn.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=cr();n.captureSession&&(rh(n),Yi("history",function(r){var i=r.from,o=r.to;i===void 0||i===o||rh(cr())}))}var rg=["activate","mount","update"],XI=/(?:^|[-_])(\w)/g,QI=function(e){return e.replace(XI,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")},ZI="<Root>",ih="<Anonymous>",JI=function(e,t){for(var n="";t;)t%2===1&&(n+=e),t>1&&(e+=e),t>>=1;return n},zo=function(e,t){if(!e)return ih;if(e.$root===e)return ZI;var n=e.$options,r=n.name||n._componentTag,i=n.__file;if(!r&&i){var o=i.match(/([^/\\]+)\.vue$/);o&&(r=o[1])}return(r?"<"+QI(r)+">":ih)+(i&&t!==!1?" at "+i:"")},e3=function(e){var t,n,r;if((!((t=e)===null||t===void 0)&&t._isVue||!((n=e)===null||n===void 0)&&n.__isVue)&&(!((r=e)===null||r===void 0)&&r.$parent)){for(var i=[],o=0;e;){if(i.length>0){var u=i[i.length-1];if(u.constructor===e.constructor){o+=1,e=e.$parent;continue}else o>0&&(i[i.length-1]=[u,o],o=0)}i.push(e),e=e.$parent}var l=i.map(function(f,d){return""+((d===0?"---> ":JI(" ",5+d*2))+(Array.isArray(f)?zo(f[0])+"... ("+f[1]+" recursive calls)":zo(f)))}).join(`
`);return`

found in

`+l}return`

(found in `+zo(e)+")"},t3=function(e,t){var n=e.config,r=n.errorHandler,i=n.warnHandler,o=n.silent;e.config.errorHandler=function(u,l,f){var d=zo(l,!1),m=l?e3(l):"",c={componentName:d,lifecycleHook:f,trace:m};if(l&&t.attachProps&&(c.propsData=l.$options.propsData||l.$props),setTimeout(function(){cr().withScope(function(g){g.setContext("vue",c),cr().captureException(u)})}),typeof r=="function"&&r.call(e,u,l,f),t.logErrors){var p=typeof console<"u",T="Error in "+f+': "'+(u&&u.toString())+'"';i?i.call(null,T,l,m):p&&!o&&console.error("[Vue warn]: "+T+m)}}},ig=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,ah="ui.vue",n3={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function oh(){var e;return(e=cr().getScope())===null||e===void 0?void 0:e.getTransaction()}function r3(e,t,n){e.$_sentryRootSpanTimer&&clearTimeout(e.$_sentryRootSpanTimer),e.$_sentryRootSpanTimer=setTimeout(function(){var r;!((r=e.$root)===null||r===void 0)&&r.$_sentryRootSpan&&(e.$root.$_sentryRootSpan.finish(t),e.$root.$_sentryRootSpan=void 0)},n)}var i3=function(e){var t,n,r=(e.hooks||[]).concat(rg).filter(function(d,m,c){return c.indexOf(d)===m}),i={},o=function(d){var m,c,p=n3[d];if(!p)return ig&&tn.warn("Unknown hook: "+d),"continue";var T=function(w){i[w]=function(){var A,N=this.$root===this;if(N){var H=oh();H&&(this.$_sentryRootSpan=this.$_sentryRootSpan||H.startChild({description:"Application Render",op:ah}))}var S=zo(this,!1),M=Array.isArray(e.trackComponents)?e.trackComponents.includes(S):e.trackComponents;if(!(!N&&!M))if(this.$_sentrySpans=this.$_sentrySpans||{},w==p[0]){var H=((A=this.$root)===null||A===void 0?void 0:A.$_sentryRootSpan)||oh();H&&(this.$_sentrySpans[d]=H.startChild({description:"Vue <"+S+">",op:ah+"."+d}))}else{var F=this.$_sentrySpans[d];if(!F)return;F.finish(),r3(this,ic(),e.timeout)}}};try{for(var g=(m=void 0,wi(p)),D=g.next();!D.done;D=g.next()){var v=D.value;T(v)}}catch(w){m={error:w}}finally{try{D&&!D.done&&(c=g.return)&&c.call(g)}finally{if(m)throw m.error}}};try{for(var u=wi(r),l=u.next();!l.done;l=u.next()){var f=l.value;o(f)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i},a3={Vue:Vn().Vue,attachProps:!0,logErrors:!1,hooks:rg,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:uu}],version:uu}}};function o3(e){e===void 0&&(e={});var t=Tt(Tt({},a3),e);if(zI(t),!t.Vue&&!t.app){ig&&tn.warn("Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).");return}if(t.app){var n=Array.isArray(t.app)?t.app:[t.app];n.forEach(function(r){return sh(r,t)})}else t.Vue&&sh(t.Vue,t)}var sh=function(e,t){t3(e,t),("tracesSampleRate"in t||"tracesSampler"in t)&&e.mixin(i3(Tt(Tt({},t),t.tracingOptions)))};const s3=nn({props:{imageUrl:{type:String},heading:{type:String,required:!0},body:{type:String},detail:{type:String},buttonText:{type:String},buttonClick:{type:Function}},components:{Button:nr},setup(e){const t=Kn(Xr);t.showBackground=!0,t.currentPage=-1;const n=jt(!1);return{expand:n,toggle:()=>{n.value=!n.value},...so(e)}}}),u3={class:"content"},l3=["src"],c3={class:"text-heading-large"},f3=["innerHTML"],d3=["innerHTML"];function h3(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",u3,[e.imageUrl?(dt(),_t("img",{key:0,src:e.imageUrl},null,8,l3)):Hn("",!0),Je("h1",c3,Wt(e.heading),1),Je("p",{class:"text-body",innerHTML:e.body},null,8,f3),Ii(Je("div",{class:"text-label text-link",onClick:t[0]||(t[0]=(...l)=>e.toggle&&e.toggle(...l))},"Show more details",512),[[Zi,!e.expand&&e.detail]]),Ii(Je("div",{class:"text-detail",innerHTML:e.detail},null,8,d3),[[Zi,e.expand]]),e.buttonText?(dt(),Er(u,{key:1,onClick:e.buttonClick},{default:qt(()=>[Lt(Wt(e.buttonText),1)]),_:1},8,["onClick"])):Hn("",!0)])}const Ha=cn(s3,[["render",h3],["__scopeId","data-v-c7ef6114"]]),p3={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ag={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Zn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},wr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Gi={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class vt{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const i=vt.getVersionPrecision(t),o=vt.getVersionPrecision(n);let u=Math.max(i,o),l=0;const f=vt.map([t,n],d=>{const m=u-vt.getVersionPrecision(d),c=d+new Array(m+1).join(".0");return vt.map(c.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(l=u-Math.min(i,o)),u-=1;u>=l;){if(f[0][u]>f[1][u])return 1;if(f[0][u]===f[1][u]){if(u===l)return 0;u-=1}else if(f[0][u]<f[1][u])return-1}}static map(t,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}static find(t,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,i=t.length;r<i;r+=1){const o=t[r];if(n(o,r))return o}}static assign(t,...n){const r=t;let i,o;if(Object.assign)return Object.assign(t,...n);for(i=0,o=n.length;i<o;i+=1){const u=n[i];typeof u=="object"&&u!==null&&Object.keys(u).forEach(f=>{r[f]=u[f]})}return t}static getBrowserAlias(t){return p3[t]}static getBrowserTypeByAlias(t){return ag[t]||""}}const Dn=/version\/(\d+(\.?_?\d+)+)/i,m3=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=vt.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=vt.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=vt.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=vt.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=vt.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=vt.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=vt.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=vt.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=vt.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=vt.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=vt.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=vt.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=vt.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=vt.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=vt.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=vt.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=vt.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=vt.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=vt.getFirstMatch(Dn,e)||vt.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=vt.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=vt.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=vt.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=vt.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=vt.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=vt.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=vt.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=vt.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=vt.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=vt.getFirstMatch(Dn,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?n:t;return{name:vt.getFirstMatch(i,e),version:vt.getSecondMatch(i,e)}}}],g3=[{test:[/Roku\/DVP/],describe(e){const t=vt.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:wr.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=vt.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:wr.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=vt.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=vt.getWindowsVersionName(t);return{name:wr.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:wr.iOS},n=vt.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=vt.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=vt.getMacOSVersionName(t),r={name:wr.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=vt.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:wr.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=vt.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=vt.getAndroidVersionName(t),r={name:wr.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=vt.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:wr.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=vt.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||vt.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||vt.getFirstMatch(/\bbb(\d+)/i,e);return{name:wr.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=vt.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:wr.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=vt.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:wr.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:wr.Linux}}},{test:[/CrOS/],describe(){return{name:wr.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=vt.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:wr.PlayStation4,version:t}}}],y3=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=vt.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:Zn.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Zn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Zn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Zn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Zn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Zn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Zn.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=vt.getFirstMatch(/(ipod|iphone)/i,e);return{type:Zn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Zn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Zn.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:Zn.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:Zn.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:Zn.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:Zn.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:Zn.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:Zn.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:Zn.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:Zn.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:Zn.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:Zn.tv}}}],_3=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Gi.Blink};const n=vt.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Gi.EdgeHTML,version:n}}},{test:[/trident/i],describe(e){const t={name:Gi.Trident},n=vt.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Gi.Presto},n=vt.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Gi.Gecko},n=vt.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Gi.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Gi.WebKit},n=vt.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class uh{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=vt.find(m3,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=vt.find(g3,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=vt.find(y3,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=vt.find(_3,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return vt.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const i={};let o=0;if(Object.keys(t).forEach(l=>{const f=t[l];typeof f=="string"?(i[l]=f,o+=1):typeof f=="object"&&(n[l]=f,r+=1)}),r>0){const l=Object.keys(n),f=vt.find(l,m=>this.isOS(m));if(f){const m=this.satisfies(n[f]);if(m!==void 0)return m}const d=vt.find(l,m=>this.isPlatform(m));if(d){const m=this.satisfies(n[d]);if(m!==void 0)return m}}if(o>0){const l=Object.keys(i),f=vt.find(l,d=>this.isBrowser(d,!0));if(f!==void 0)return this.compareVersion(i[f])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=vt.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(t){let n=[0],r=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(i=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(i=!0,r=t.substr(1)),n.indexOf(vt.compareVersions(o,r,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class R0{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new uh(t,n)}static parse(t){return new uh(t).getResult()}static get BROWSER_MAP(){return ag}static get ENGINE_MAP(){return Gi}static get OS_MAP(){return wr}static get PLATFORMS_MAP(){return Zn}}const T3=nn({components:{Spinner:fo},props:{onSpinnerMounted:{type:Function}},setup(e){const t=jt(null);return xa(()=>{e.onSpinnerMounted&&e.onSpinnerMounted(t.value)}),{spinner:t}}}),v3={class:"loading"},E3={ref:"spinner"},b3={class:"text-body"};function A3(e,t,n,r,i,o){const u=Kt("Spinner");return dt(),_t("div",v3,[Je("span",E3,[Ft(u)],512),Je("p",b3,[ai(e.$slots,"default",{},void 0,!0)])])}const ku=cn(T3,[["render",A3],["__scopeId","data-v-0a75ed3b"]]),S3=nn({components:{Loading:ku},setup(){const e=Ci(),t=Nr();return xa(async()=>{if(!e){t.push("/error/state");return}if(R0.getParser(window.navigator.userAgent).getPlatformType()!=="desktop"){t.push("/error/desktop-required");return}try{if(!e.token){const o=new Error("TokenMissing");throw o.error="error",o}const r=async()=>{e.user=await e.api.getUser()},i=async()=>{try{const o=await e.api.getAssessment();e.assessment=o}catch{}};await Promise.all([r(),i()]),t.push("/intro")}catch(r){switch(console.log(r),r.error){case"expired":t.push("/error/assessment-expired");break;case"error":t.push("/error/token-invalid");break;default:t.push("/error/server");break}}}),{}}}),I3={class:"content"};function w3(e,t,n,r,i,o){const u=Kt("Loading");return dt(),_t("div",I3,[Ft(u,null,{default:qt(()=>[Lt("Validating link...")]),_:1})])}const R3=cn(S3,[["render",w3]]),C3=nn({components:{Button:nr},setup(){const e=Nr(),t=Kn(Xr);t.currentPage=1,t.showBackground=!0;const n=()=>{e.push("/assessments")},r=Nn(()=>{var o,u,l,f;return(u=(o=t.assessment)==null?void 0:o.candidate)!=null&&u.first_name?`, ${(f=(l=t.assessment)==null?void 0:l.candidate)==null?void 0:f.first_name}`:""}),i=Nn(()=>cm(t));return{beginSetup:n,name:r,hasStarted:i,state:t}}}),M3={class:"content"},N3={key:0},O3={class:"text-heading-xlarge"},D3=Je("p",{class:"text-body"},"Let's take a moment to set up your Roblox Assessment.",-1),P3={key:1},L3={class:"text-heading-xlarge"},x3=Je("p",{class:"text-body"},"Let's pickup where you left off.",-1);function F3(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",M3,[e.hasStarted?(dt(),_t("div",P3,[Je("h1",L3,"Welcome Back"+Wt(e.name),1),x3,Ft(u,{onClick:e.beginSetup},{default:qt(()=>[Lt("Continue")]),_:1},8,["onClick"])])):(dt(),_t("div",N3,[Je("h1",O3,"Welcome"+Wt(e.name),1),D3,Ft(u,{onClick:e.beginSetup},{default:qt(()=>[Lt("Begin Setup")]),_:1},8,["onClick"])]))])}const k3=cn(C3,[["render",F3]]);function qs(e,t){if(e===null)return null;if(e instanceof xt||(e=xt.fromISO(e)),t==="datetime")return`${e.toFormat("h:mma ZZZZ")} on ${e.toFormat("cccc, MMMM d, yyyy")}`;if(t=="date")return`${e.toFormat("cccc, MMMM d, yyyy")}`}function U3(e){return{1:"One",2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven",8:"Eight",9:"Nine",10:"Ten"}[e]||e.toString()}function B3(e){return Ph()?(e_(e),!0):!1}function ti(e){return typeof e=="function"?e():Si(e)}const G3=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j3=Object.prototype.toString,H3=e=>j3.call(e)==="[object Object]",Da=()=>{};function og(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}function V3(e,t={}){let n,r,i=Da;const o=l=>{clearTimeout(l),i(),i=Da};return l=>{const f=ti(e),d=ti(t.maxWait);return n&&o(n),f<=0||d!==void 0&&d<=0?(r&&(o(r),r=null),Promise.resolve(l())):new Promise((m,c)=>{i=t.rejectOnCancel?c:m,d&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,m(l())},d)),n=setTimeout(()=>{r&&o(r),r=null,m(l())},f)})}}function q3(...e){let t=0,n,r=!0,i=Da,o,u,l,f,d;!gr(e[0])&&typeof e[0]=="object"?{delay:u,trailing:l=!0,leading:f=!0,rejectOnCancel:d=!1}=e[0]:[u,l=!0,f=!0,d=!1]=e;const m=()=>{n&&(clearTimeout(n),n=void 0,i(),i=Da)};return p=>{const T=ti(u),g=Date.now()-t,D=()=>o=p();return m(),T<=0?(t=Date.now(),D()):(g>T&&(f||!r)?(t=Date.now(),D()):l&&(o=new Promise((v,w)=>{i=d?w:v,n=setTimeout(()=>{t=Date.now(),r=!0,v(D()),m()},Math.max(0,T-g))})),!f&&!n&&(n=setTimeout(()=>r=!0,T)),r=!1,o)}}function Y3(e){return e||MT()}function $3(e,t=200,n={}){return og(V3(t,n),e)}function W3(e,t=200,n=!1,r=!0,i=!1){return og(q3(t,n,r,i),e)}function z3(e,t=!0,n){Y3()?xa(e,n):t?e():Sc(e)}function sg(e){var t;const n=ti(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ug=G3?window:void 0;function lh(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=ug):[t,n,r,i]=e,!t)return Da;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],u=()=>{o.forEach(m=>m()),o.length=0},l=(m,c,p,T)=>(m.addEventListener(c,p,T),()=>m.removeEventListener(c,p,T)),f=Ki(()=>[sg(t),ti(i)],([m,c])=>{if(u(),!m)return;const p=H3(c)?{...c}:c;o.push(...n.flatMap(T=>r.map(g=>l(m,T,g,p))))},{immediate:!0,flush:"post"}),d=()=>{f(),u()};return B3(d),d}const ch=1;function K3(e,t={}){const{throttle:n=0,idle:r=200,onStop:i=Da,onScroll:o=Da,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:f="auto",window:d=ug,onError:m=F=>{console.error(F)}}=t,c=jt(0),p=jt(0),T=Nn({get(){return c.value},set(F){D(F,void 0)}}),g=Nn({get(){return p.value},set(F){D(void 0,F)}});function D(F,ie){var Ee,Be,Le;if(!d)return;const X=ti(e);X&&((Le=X instanceof Document?d.document.body:X)==null||Le.scrollTo({top:(Ee=ti(ie))!=null?Ee:g.value,left:(Be=ti(F))!=null?Be:T.value,behavior:ti(f)}))}const v=jt(!1),w=Ma({left:!0,right:!1,top:!0,bottom:!1}),A=Ma({left:!1,right:!1,top:!1,bottom:!1}),N=F=>{v.value&&(v.value=!1,A.left=!1,A.right=!1,A.top=!1,A.bottom=!1,i(F))},H=$3(N,n+r),S=F=>{var ie;if(!d)return;const Ee=((ie=F==null?void 0:F.document)==null?void 0:ie.documentElement)||(F==null?void 0:F.documentElement)||sg(F),{display:Be,flexDirection:Le}=getComputedStyle(Ee),X=Ee.scrollLeft;A.left=X<c.value,A.right=X>c.value;const P=Math.abs(X)<=(u.left||0),J=Math.abs(X)+Ee.clientWidth>=Ee.scrollWidth-(u.right||0)-ch;Be==="flex"&&Le==="row-reverse"?(w.left=J,w.right=P):(w.left=P,w.right=J),c.value=X;let oe=Ee.scrollTop;F===d.document&&!oe&&(oe=d.document.body.scrollTop),A.top=oe<p.value,A.bottom=oe>p.value;const te=Math.abs(oe)<=(u.top||0),ve=Math.abs(oe)+Ee.clientHeight>=Ee.scrollHeight-(u.bottom||0)-ch;Be==="flex"&&Le==="column-reverse"?(w.top=ve,w.bottom=te):(w.top=te,w.bottom=ve),p.value=oe},M=F=>{var ie;if(!d)return;const Ee=(ie=F.target.documentElement)!=null?ie:F.target;S(Ee),v.value=!0,H(F),o(F)};return lh(e,"scroll",n?W3(M,n,!0,!1):M,l),z3(()=>{try{const F=ti(e);if(!F)return;S(F)}catch(F){m(F)}}),lh(e,"scrollend",N,l),{x:T,y:g,isScrolling:v,arrivedState:w,directions:A,measure(){const F=ti(e);d&&F&&S(F)}}}const go=e=>(fr("data-v-76e77b04"),e=e(),dr(),e),X3={class:"content"},Q3={key:0},Z3={class:"text-heading-large"},J3=go(()=>Je("p",{class:"text-body"}," Once you start an assessment, you must complete it before you can view or start another. Timed tasks won't start until you are ready. ",-1)),e2={key:1},t2={class:"text-heading-large"},n2=go(()=>Je("p",{class:"text-body"},[Lt(" Our records indicate that your assessments were completed on the following date. If you need further assistance, please visit our "),Je("a",{href:"https://support.at.robloxlabs.com"},"assessment support center"),Lt(". ")],-1)),r2={key:0,class:"scroll-overflow--top"},i2={class:"card"},a2=go(()=>Je("div",{class:"description"},[Je("div",{class:"text-body"},"Practice Test (Kaiju Cats)"),Je("div",{class:"text-detail"}," Roblox provides an optional practice test to familiarize yourself with how our assessments work. ")],-1)),o2={class:"actions"},s2=go(()=>Je("i",{class:"text-detail",style:{display:"block","text-align":"center"}},"Optional, Replayable",-1)),u2={class:"description"},l2={class:"text-body"},c2={class:"text-detail"},f2={key:0,class:"completed"},d2=["src"],h2={key:1,class:"expired"},p2=["src"],m2={key:2,class:"inprogess"},g2=["src"],y2={key:3},_2={class:"actions"},T2={key:0},v2=go(()=>Je("p",{class:"text-detail"},[Lt(" Roblox assessments must be completed within fourteen calendar days of receiving the invitation. Please visit our "),Je("a",{href:"https://support.at.robloxlabs.com"},"assessment support center"),Lt(" for further information. ")],-1)),E2=[v2],b2={key:1,class:"scroll-overflow--bottom"},A2=go(()=>Je("div",{class:"scroll-overflow__more"},"More Below",-1)),S2=[A2],I2=nn({__name:"Assessments",setup(e){const t=Nr(),n=Kn(Xr),r=jt(null),i=jt([]),o=jt(n.user&&n.user.assessments.length);n.currentPage=1,n.showBackground=!0;const u=()=>{if(i.value=[],n.user&&o.value)for(let v of n.user.assessments){let w={id:v.id,name:v.name,started_at:qs(v.started_at,"date"),finished_at:qs(v.finished_at,"date"),end_date:qs(v.end_date,"datetime"),expired:!1,can_extend:v.can_extend,tasks:`${U3(v.task_count)} task${v.task_count>1?"s":""}`};v.started_at&&!v.finished_at&&xt.fromISO(v.end_date)>xt.now()?r.value=v:v.finished_at?o.value-=1:xt.fromISO(v.end_date)<xt.now()&&(w.expired=!0),i.value.push(w)}};u();const l=async v=>{(!n.assessment||v.id!==n.assessment.assessment_id)&&(await n.api.updateUser({active_assessment_id:v.id}),n.assessment=await n.api.getAssessment()),t.push("/terms/rules")},f=async v=>{v.can_extend&&(await n.api.updateUser({extend_assessment_id:v.id}),n.user=await n.api.getUser(),n.assessment=void 0,u())};n.user&&n.user.assessments.length==1&&n.user.assessments[0].finished_at===null&&xt.fromISO(n.user.assessments[0].end_date)>xt.now()&&l(n.user.assessments[0]);function d(){window.open("https://www.roblox.com/games/13977123257/Kaiju-Cats","_blank")}const m=jt(null),{arrivedState:c}=K3(m),p=Nn(()=>c.top&&c.bottom),T=Nn(()=>!c.top),g=Nn(()=>!c.bottom),D=()=>n.user&&n.user.assessments.length>1;return(v,w)=>(dt(),_t("div",X3,[o.value&&o.value>0?(dt(),_t("div",Q3,[Je("h1",Z3,"Your assessment"+Wt(D()?"s":""),1),J3])):(dt(),_t("div",e2,[Je("h1",t2,"Assessment"+Wt(D()?"s":"")+" Complete",1),n2])),Je("div",{class:lr(["assessments",{"--has-scroll":!p.value}]),ref_key:"scrollContainer",ref:m},[T.value?(dt(),_t("div",r2)):Hn("",!0),Je("div",i2,[a2,Je("div",o2,[Ft(nr,{onClick:d},{default:qt(()=>[Lt("Practice")]),_:1}),s2])]),(dt(!0),_t(xn,null,zr(i.value,A=>(dt(),_t("div",{class:"card",key:A.id},[Je("div",u2,[Je("div",l2,Wt(A.name),1),Je("div",c2,[A.finished_at?(dt(),_t("div",f2,[Je("img",{src:"/assets/icon-task-completed.png"},null,8,d2),Lt("Completed on "+Wt(A.finished_at),1)])):A.expired?(dt(),_t("div",h2,[Je("img",{src:"/assets/icon-error.png"},null,8,p2),Lt("Expired on "+Wt(A.end_date),1)])):r.value!=null&&r.value.id==A.id?(dt(),_t("div",m2,[Je("img",{src:"/assets/icon-task-started.png"},null,8,g2),Lt("In progress, due "+Wt(A.end_date),1)])):(dt(),_t("div",y2,Wt(A.tasks)+" due by "+Wt(A.end_date),1))])]),Je("div",_2,[A.expired&&!A.can_extend?(dt(),_t("div",T2,E2)):A.expired&&A.can_extend?(dt(),Er(nr,{key:1,onClick:()=>f(A)},{default:qt(()=>[Lt("Extend")]),_:2},1032,["onClick"])):r.value&&r.value.id===A.id?(dt(),Er(nr,{key:2,onClick:()=>l(A)},{default:qt(()=>[Lt("Resume")]),_:2},1032,["onClick"])):!A.finished_at&&r.value===null?(dt(),Er(nr,{key:3,onClick:()=>l(A)},{default:qt(()=>[Lt("View")]),_:2},1032,["onClick"])):Hn("",!0)])]))),128)),g.value?(dt(),_t("div",b2,S2)):Hn("",!0)],2)]))}}),w2=cn(I2,[["__scopeId","data-v-76e77b04"]]);function R2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lg={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var u=r[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=n,i.c=r,i.d=function(o,u,l){i.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,u){if(1&u&&(o=i(o)),8&u||4&u&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&u&&typeof o!="string")for(var f in o)i.d(l,f,(function(d){return o[d]}).bind(null,f));return l},i.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(u,"a",u),u},i.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},i.p="/dist/",i(i.s=77)}([function(n,r,i){function o(l,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var u=new(function(){function l(){(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}var f,d;return f=l,(d=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime"}}])&&o(f.prototype,d),l}());r.a=u},function(n,r,i){function o(l,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var u=new(function(){function l(){(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}var f,d;return f=l,(d=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&o(f.prototype,d),l}());r.a=u},function(n,r,i){function o(w){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(w)}function u(w,A){return(u=Object.setPrototypeOf||function(N,H){return N.__proto__=H,N})(w,A)}function l(w){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,H=d(w);if(A){var S=d(this).constructor;N=Reflect.construct(H,arguments,S)}else N=H.apply(this,arguments);return f(this,N)}}function f(w,A){return!A||o(A)!=="object"&&typeof A!="function"?function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(w):A}function d(w){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(w)}function m(w){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(w)}function c(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function p(w,A){return(p=Object.setPrototypeOf||function(N,H){return N.__proto__=H,N})(w,A)}function T(w){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,H=D(w);if(A){var S=D(this).constructor;N=Reflect.construct(H,arguments,S)}else N=H.apply(this,arguments);return g(this,N)}}function g(w,A){return!A||m(A)!=="object"&&typeof A!="function"?function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(w):A}function D(w){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(w)}var v=new(function(w){(function(H,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(S&&S.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),S&&p(H,S)})(N,w);var A=T(N);function N(){return c(this,N),A.apply(this,arguments)}return N}(function(w){(function(H,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(S&&S.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),S&&u(H,S)})(N,w);var A=l(N);function N(){var H;return function(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}(this,N),(H=A.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",H.BUFFERING_COMPLETED="bufferingCompleted",H.BUFFER_CLEARED="bufferCleared",H.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",H.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",H.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",H.CURRENT_TRACK_CHANGED="currentTrackChanged",H.DATA_UPDATE_COMPLETED="dataUpdateCompleted",H.INBAND_EVENTS="inbandEvents",H.INITIAL_STREAM_SWITCH="initialStreamSwitch",H.INIT_FRAGMENT_LOADED="initFragmentLoaded",H.INIT_FRAGMENT_NEEDED="initFragmentNeeded",H.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",H.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",H.LOADING_COMPLETED="loadingCompleted",H.LOADING_PROGRESS="loadingProgress",H.LOADING_DATA_PROGRESS="loadingDataProgress",H.LOADING_ABANDONED="loadingAborted",H.MANIFEST_UPDATED="manifestUpdated",H.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",H.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",H.QUOTA_EXCEEDED="quotaExceeded",H.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",H.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",H.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",H.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",H.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",H.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",H.SOURCE_BUFFER_ERROR="sourceBufferError",H.STREAMS_COMPOSED="streamsComposed",H.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",H.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",H.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",H.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",H.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",H.URL_RESOLUTION_FAILED="urlResolutionFailed",H.VIDEO_CHUNK_RECEIVED="videoChunkReceived",H.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",H.XLINK_ELEMENT_LOADED="xlinkElementLoaded",H.XLINK_READY="xlinkReady",H.SEEK_TARGET="seekTarget",H.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",H.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",H.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",H}return N}(i(18).a)));r.a=v},function(n,r,i){var o=function(){var u,l=[],f={},d={};function m(g,D){for(var v in l){var w=l[v];if(w.context===g&&w.name===D)return w.instance}return null}function c(g,D){return D[g]}function p(g,D,v){g in v&&(v[g]=D)}function T(g,D,v){var w,A=g.__dashjs_factory_name,N=D[A];if(N){var H=N.instance;if(!N.override)return H.apply({context:D,factory:u},v);for(var S in w=g.apply({context:D},v),H=H.apply({context:D,factory:u,parent:w},v))w.hasOwnProperty(S)&&(w[S]=H[S])}else w=g.apply({context:D},v);return w.getClassName=function(){return A},w}return u={extend:function(g,D,v,w){!w[g]&&D&&(w[g]={instance:D,override:v})},getSingletonInstance:m,setSingletonInstance:function(g,D,v){for(var w in l){var A=l[w];if(A.context===g&&A.name===D)return void(l[w].instance=v)}l.push({name:D,context:g,instance:v})},deleteSingletonInstances:function(g){l=l.filter(function(D){return D.context!==g})},getSingletonFactory:function(g){var D=c(g.__dashjs_factory_name,f);return D||(D=function(v){var w;return v===void 0&&(v={}),{getInstance:function(){return w||(w=m(v,g.__dashjs_factory_name)),w||(w=T(g,v,arguments),l.push({name:g.__dashjs_factory_name,context:v,instance:w})),w}}},f[g.__dashjs_factory_name]=D),D},getSingletonFactoryByName:function(g){return c(g,f)},updateSingletonFactory:function(g,D){p(g,D,f)},getClassFactory:function(g){var D=c(g.__dashjs_factory_name,d);return D||(D=function(v){return v===void 0&&(v={}),{create:function(){return T(g,v,arguments)}}},d[g.__dashjs_factory_name]=D),D},getClassFactoryByName:function(g){return c(g,d)},updateClassFactory:function(g,D){p(g,D,d)}}}();r.a=o},function(n,r,i){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function u(c,p){return(u=Object.setPrototypeOf||function(T,g){return T.__proto__=g,T})(c,p)}function l(c){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=d(c);if(p){var D=d(this).constructor;T=Reflect.construct(g,arguments,D)}else T=g.apply(this,arguments);return f(this,T)}}function f(c,p){return!p||o(p)!=="object"&&typeof p!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(c):p}function d(c){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(c)}var m=new(function(c){(function(g,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(D&&D.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),D&&u(g,D)})(T,c);var p=l(T);function T(){var g;return function(D,v){if(!(D instanceof v))throw new TypeError("Cannot call a class as a function")}(this,T),(g=p.call(this)).AST_IN_FUTURE="astInFuture",g.BUFFER_EMPTY="bufferStalled",g.BUFFER_LOADED="bufferLoaded",g.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",g.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",g.DYNAMIC_TO_STATIC="dynamicToStatic",g.ERROR="error",g.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",g.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",g.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",g.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",g.LOG="log",g.MANIFEST_LOADED="manifestLoaded",g.METRICS_CHANGED="metricsChanged",g.METRIC_CHANGED="metricChanged",g.METRIC_ADDED="metricAdded",g.METRIC_UPDATED="metricUpdated",g.PERIOD_SWITCH_STARTED="periodSwitchStarted",g.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",g.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",g.QUALITY_CHANGE_RENDERED="qualityChangeRendered",g.TRACK_CHANGE_RENDERED="trackChangeRendered",g.STREAM_INITIALIZING="streamInitializing",g.STREAM_UPDATED="streamUpdated",g.STREAM_ACTIVATED="streamActivated",g.STREAM_DEACTIVATED="streamDeactivated",g.STREAM_INITIALIZED="streamInitialized",g.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",g.TEXT_TRACKS_ADDED="allTextTracksAdded",g.TEXT_TRACK_ADDED="textTrackAdded",g.TTML_PARSED="ttmlParsed",g.TTML_TO_PARSE="ttmlToParse",g.CAPTION_RENDERED="captionRendered",g.CAPTION_CONTAINER_RESIZE="captionContainerResize",g.CAN_PLAY="canPlay",g.CAN_PLAY_THROUGH="canPlayThrough",g.PLAYBACK_ENDED="playbackEnded",g.PLAYBACK_ERROR="playbackError",g.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",g.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",g.PLAYBACK_LOADED_DATA="playbackLoadedData",g.PLAYBACK_PAUSED="playbackPaused",g.PLAYBACK_PLAYING="playbackPlaying",g.PLAYBACK_PROGRESS="playbackProgress",g.PLAYBACK_RATE_CHANGED="playbackRateChanged",g.PLAYBACK_SEEKED="playbackSeeked",g.PLAYBACK_SEEKING="playbackSeeking",g.PLAYBACK_STALLED="playbackStalled",g.PLAYBACK_STARTED="playbackStarted",g.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",g.PLAYBACK_WAITING="playbackWaiting",g.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",g.EVENT_MODE_ON_START="eventModeOnStart",g.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",g.CONFORMANCE_VIOLATION="conformanceViolation",g.REPRESENTATION_SWITCH="representationSwitch",g.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",g}return T}(i(18).a));r.a=m},function(n,r,i){function o(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}i.d(r,"a",function(){return u}),i.d(r,"b",function(){return l});var u=function f(){o(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},l=function f(){o(this,f),this.s=null,this.d=null,this.b=[],this._t=null};u.GET="GET",u.HEAD="HEAD",u.MPD_TYPE="MPD",u.XLINK_EXPANSION_TYPE="XLinkExpansion",u.INIT_SEGMENT_TYPE="InitializationSegment",u.INDEX_SEGMENT_TYPE="IndexSegment",u.MEDIA_SEGMENT_TYPE="MediaSegment",u.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",u.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",u.DVB_REPORTING_TYPE="DVBReporting",u.LICENSE="license",u.OTHER_TYPE="other"},function(n,r,i){var o=i(7),u=i(2),l=i(3),f=1,d=2,m=3,c=4,p=5;function T(D){D=D||{};var v,w,A,N,H=this.context,S=Object(o.a)(H).getInstance(),M=D.settings,F=[];function ie(oe){return oe&&oe.bind?oe.bind(window.console):window.console.log.bind(window.console)}function Ee(){for(var oe=arguments.length,te=new Array(oe),ve=0;ve<oe;ve++)te[ve]=arguments[ve];J.apply(void 0,[f,this].concat(te))}function Be(){for(var oe=arguments.length,te=new Array(oe),ve=0;ve<oe;ve++)te[ve]=arguments[ve];J.apply(void 0,[d,this].concat(te))}function Le(){for(var oe=arguments.length,te=new Array(oe),ve=0;ve<oe;ve++)te[ve]=arguments[ve];J.apply(void 0,[m,this].concat(te))}function X(){for(var oe=arguments.length,te=new Array(oe),ve=0;ve<oe;ve++)te[ve]=arguments[ve];J.apply(void 0,[c,this].concat(te))}function P(){for(var oe=arguments.length,te=new Array(oe),ve=0;ve<oe;ve++)te[ve]=arguments[ve];J.apply(void 0,[p,this].concat(te))}function J(oe,te){var ve="",Ge=null;w&&(Ge=new Date().getTime(),ve+="["+(Ge-N)+"]"),A&&te&&te.getClassName&&(ve+="["+te.getClassName()+"]",te.getType&&(ve+="["+te.getType()+"]")),ve.length>0&&(ve+=" ");for(var Ke=arguments.length,We=new Array(Ke>2?Ke-2:0),$=2;$<Ke;$++)We[$-2]=arguments[$];Array.apply(null,We).forEach(function(K){ve+=K+" "}),F[oe]&&M.get().debug.logLevel>=oe&&F[oe](ve),M&&M.get().debug.dispatchEvent&&S.trigger(u.a.LOG,{message:ve,level:oe})}return v={getLogger:function(oe){return{fatal:Ee.bind(oe),error:Be.bind(oe),warn:Le.bind(oe),info:X.bind(oe),debug:P.bind(oe)}},setLogTimestampVisible:function(oe){w=oe},setCalleeNameVisible:function(oe){A=oe}},w=!0,A=!0,N=new Date().getTime(),typeof window<"u"&&window.console&&(F[f]=ie(window.console.error),F[d]=ie(window.console.error),F[m]=ie(window.console.warn),F[c]=ie(window.console.info),F[p]=ie(window.console.debug)),v}T.__dashjs_factory_name="Debug";var g=l.a.getSingletonFactory(T);g.LOG_LEVEL_NONE=0,g.LOG_LEVEL_FATAL=f,g.LOG_LEVEL_ERROR=d,g.LOG_LEVEL_WARNING=m,g.LOG_LEVEL_INFO=c,g.LOG_LEVEL_DEBUG=p,l.a.updateSingletonFactory(T.__dashjs_factory_name,g),r.a=g},function(n,r,i){var o=i(3),u=i(4);function l(){var d={};function m(c,p,T){var g=-1;return d[c]&&d[c].some(function(D,v){if(D&&D.callback===p&&(!T||T===D.scope))return g=v,!0}),g}return{on:function(c,p,T){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!c)throw new Error("event type cannot be null or undefined");if(!p||typeof p!="function")throw new Error("listener must be a function: "+p);var D=g.priority||0;if(!(m(c,p,T)>=0)){d[c]=d[c]||[];var v={callback:p,scope:T,priority:D};T&&T.getStreamId&&(v.streamId=T.getStreamId()),T&&T.getType&&(v.mediaType=T.getType()),g&&g.mode&&(v.mode=g.mode);var w=d[c].some(function(A,N){if(A&&D>A.priority)return d[c].splice(N,0,v),!0});w||d[c].push(v)}},off:function(c,p,T){if(c&&p&&d[c]){var g=m(c,p,T);g<0||(d[c][g]=null)}},trigger:function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(c&&d[c]){if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=c,T.streamId&&(p.streamId=T.streamId),T.mediaType&&(p.mediaType=T.mediaType),d[c].filter(function(g){return!!g&&(!T.streamId||!g.streamId||g.streamId===T.streamId)&&(!T.mediaType||!g.mediaType||g.mediaType===T.mediaType)&&!(T.mode&&g.mode&&g.mode!==T.mode||!g.mode&&T.mode&&T.mode===u.a.EVENT_MODE_ON_RECEIVE)}).forEach(function(g){return g&&g.callback.call(g.scope,p)})}},reset:function(){d={}}}}l.__dashjs_factory_name="EventBus";var f=o.a.getSingletonFactory(l);f.EVENT_PRIORITY_LOW=0,f.EVENT_PRIORITY_HIGH=5e3,o.a.updateSingletonFactory(l.__dashjs_factory_name,f),r.a=f},function(n,r,i){var o=i(3),u={DEFAULT:.5,STRONG:1,WEAK:0};function l(d,m,c){return{quality:d===void 0?-1:d,reason:m===void 0?null:m,priority:function(p){var T=u.DEFAULT;return p!==u.DEFAULT&&p!==u.STRONG&&p!==u.WEAK||(T=p),T}(c)}}l.__dashjs_factory_name="SwitchRequest";var f=o.a.getClassFactory(l);f.NO_CHANGE=-1,f.PRIORITY=u,o.a.updateClassFactory(l.__dashjs_factory_name,f),r.a=f},function(n,r,i){function o(l,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var u=new(function(){function l(){(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}var f,d;return f=l,(d=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&o(f.prototype,d),l}());r.a=u},function(n,r,i){r.a=function o(u,l,f){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this.code=u||null,this.message=l||null,this.data=f||null}},function(n,r,i){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function u(c,p){return(u=Object.setPrototypeOf||function(T,g){return T.__proto__=g,T})(c,p)}function l(c){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=d(c);if(p){var D=d(this).constructor;T=Reflect.construct(g,arguments,D)}else T=g.apply(this,arguments);return f(this,T)}}function f(c,p){return!p||o(p)!=="object"&&typeof p!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(c):p}function d(c){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(c)}var m=new(function(c){(function(g,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(D&&D.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),D&&u(g,D)})(T,c);var p=l(T);function T(){var g;return function(D,v){if(!(D instanceof v))throw new TypeError("Cannot call a class as a function")}(this,T),(g=p.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,g.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,g.SEGMENT_BASE_LOADER_ERROR_CODE=15,g.TIME_SYNC_FAILED_ERROR_CODE=16,g.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,g.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,g.APPEND_ERROR_CODE=20,g.REMOVE_ERROR_CODE=21,g.DATA_UPDATE_FAILED_ERROR_CODE=22,g.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,g.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,g.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,g.DOWNLOAD_ERROR_ID_SIDX_CODE=26,g.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,g.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,g.DOWNLOAD_ERROR_ID_XLINK_CODE=29,g.MANIFEST_ERROR_ID_PARSE_CODE=31,g.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,g.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,g.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",g.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",g.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",g.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",g.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",g.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",g.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",g.APPEND_ERROR_MESSAGE="chunk is not defined",g.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",g.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",g.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",g.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",g.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",g}return T}(i(28).a));r.a=m},function(n,r,i){i.d(r,"e",function(){return l}),i.d(r,"c",function(){return f}),i.d(r,"d",function(){return d}),i.d(r,"a",function(){return p}),i.d(r,"b",function(){return T});var o=i(32);function u(g,D){for(;g.length<D;)g="0"+g;return g}function l(g){return g&&g.split("$$").join("$")}function f(g,D){if(!D||!g||g.indexOf("$RepresentationID$")===-1)return g;var v=D.toString();return g.split("$RepresentationID$").join(v)}function d(g,D,v){var w,A,N,H,S,M,F=D.length,ie=2;if(!g)return g;for(;;){if((w=g.indexOf("$"+D))<0||(A=g.indexOf("$",w+F))<0)return g;if((N=g.indexOf("%0",w+F))>w&&N<A)switch(H=g.charAt(A-1),S=parseInt(g.substring(N+ie,A-1),10),H){case"d":case"i":case"u":M=u(v.toString(),S);break;case"x":M=u(v.toString(16),S);break;case"X":M=u(v.toString(16),S).toUpperCase();break;case"o":M=u(v.toString(8),S);break;default:return g}else M=v;g=g.substring(0,w)+M+g.substring(A+1)}}function m(g,D,v,w,A,N,H,S){var M,F=new o.a;return F.representation=g,F.duration=D,F.presentationStartTime=v,F.mediaStartTime=w,F.availabilityStartTime=A.calcAvailabilityStartTimeFromPresentationTime(N,g,H),F.availabilityEndTime=A.calcAvailabilityEndTimeFromPresentationTime(N+D,g,H),F.wallStartTime=A.calcWallTimeForSegment(F,H),F.replacementNumber=(M=S,F.representation.startNumber+M),F.index=S,F}function c(g,D,v,w){var A=D.adaptation.period;if(isFinite(A.duration)&&A.start+A.duration<=v.presentationStartTime)return!1;if(w){if(D.availabilityTimeOffset==="INF")return!0;var N=g.getClientReferenceTime();return v.availabilityStartTime.getTime()<=N&&(!isFinite(v.availabilityEndTime)||v.availabilityEndTime.getTime()>=N)}return!0}function p(g,D,v,w){var A,N,H;A=v.segmentDuration,isNaN(A)&&(A=v.adaptation.period.duration),N=parseFloat((v.adaptation.period.start+w*A).toFixed(5)),H=parseFloat((N+A).toFixed(5));var S=m(v,A,N,g.calcMediaTimeFromPresentationTime(N,v),g,H,D,w);return c(g,v,S,D)?S:null}function T(g,D,v,w,A,N,H,S,M,F){var ie,Ee,Be=w/N,Le=A/N;return ie=g.calcPresentationTimeFromMediaTime(Be,v),c(g,v,Ee=m(v,Le,ie,Be,g,ie+Le,D,M),D)?(Ee.replacementTime=F||w,H=d(H,"Number",Ee.replacementNumber),H=d(H,"Time",Ee.replacementTime),Ee.media=H,Ee.mediaRange=S,Ee):null}},function(n,r,i){var o=i(3);function u(){var m,c=/^[a-z][a-z0-9+\-_.]*:/i,p=/^https?:\/\//i,T=/^https:\/\//i,g=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,D=function(F,ie){try{return new window.URL(F,ie).toString()}catch{return F}},v=function(F,ie){var Ee=w;if(!ie||!H(F))return F;S(F)&&(Ee=A),M(F)&&(Ee=N);var Be=Ee(ie),Le=Be.charAt(Be.length-1)!=="/"&&F.charAt(0)!=="/"?"/":"";return[Be,F].join(Le)};function w(F){var ie=F.indexOf("/"),Ee=F.lastIndexOf("/");return ie!==-1?Ee===ie+1?F:(F.indexOf("?")!==-1&&(F=F.substring(0,F.indexOf("?"))),F.substring(0,Ee+1)):""}function A(F){var ie=F.match(g);return ie?ie[1]:""}function N(F){var ie=F.match(c);return ie?ie[0]:""}function H(F){return!c.test(F)}function S(F){return H(F)&&F.charAt(0)==="/"}function M(F){return F.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),m=D}catch{}finally{m=m||v}}(),{parseBaseUrl:w,parseOrigin:A,parseScheme:N,isRelative:H,isPathAbsolute:S,isSchemeRelative:M,isHTTPURL:function(F){return p.test(F)},isHTTPS:function(F){return T.test(F)},removeHostname:function(F){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(F)[2].substring(1)},resolve:function(F,ie){return m(F,ie)}}}u.__dashjs_factory_name="DefaultURLUtils";var l=o.a.getSingletonFactory(u);function f(){var m,c=[],p=this.context;function T(g,D,v){var w=function(A){var N;for(N=0;N<c.length;N++)if(c[N].regex.test(A))return c[N].utils;return m}(v||D);return w&&typeof w[g]=="function"?w[g](D,v):m[g](D,v)}return m=l(p).getInstance(),{registerUrlRegex:function(g,D){c.push({regex:g,utils:D})},parseBaseUrl:function(g){return T("parseBaseUrl",g)},parseOrigin:function(g){return T("parseOrigin",g)},parseScheme:function(g){return T("parseScheme",g)},isRelative:function(g){return T("isRelative",g)},isPathAbsolute:function(g){return T("isPathAbsolute",g)},isSchemeRelative:function(g){return T("isSchemeRelative",g)},isHTTPURL:function(g){return T("isHTTPURL",g)},isHTTPS:function(g){return T("isHTTPS",g)},removeHostname:function(g){return T("removeHostname",g)},resolve:function(g,D){return T("resolve",g,D)}}}f.__dashjs_factory_name="URLUtils";var d=o.a.getSingletonFactory(f);r.a=d},function(n,r,i){i.d(r,"b",function(){return l}),i.d(r,"a",function(){return f});var o=i(1);function u(d){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(d)}function l(d,m){if(u(d)!==m)throw o.a.BAD_ARGUMENT_ERROR}function f(d){if(!(d!==null&&!isNaN(d)&&d%1==0))throw o.a.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},function(n,r,i){var o=i(36),u=i.n(o);function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}function f(m,c){for(var p=0;p<c.length;p++){var T=c[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}var d=function(){function m(){(function(g,D){if(!(g instanceof D))throw new TypeError("Cannot call a class as a function")})(this,m)}var c,p,T;return c=m,T=[{key:"mixin",value:function(g,D,v){var w,A={};if(g)for(var N in D)D.hasOwnProperty(N)&&(w=D[N],N in g&&(g[N]===w||N in A&&A[N]===w)||(l(g[N])==="object"&&g[N]!==null?g[N]=m.mixin(g[N],w,v):g[N]=v(w)));return g}},{key:"clone",value:function(g){if(!g||l(g)!=="object")return g;var D;if(g instanceof Array){D=[];for(var v=0,w=g.length;v<w;++v)v in g&&D.push(m.clone(g[v]))}else D={};return m.mixin(D,g,m.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(g,D){try{if(!D||D.length===0)return g;var v=new URL(g);return D.forEach(function(w){w.key&&w.value&&v.searchParams.set(w.key,w.value)}),v.href}catch{return g}}},{key:"parseHttpHeaders",value:function(g){var D={};if(!g)return D;for(var v=g.trim().split(`\r
`),w=0,A=v.length;w<A;w++){var N=v[w],H=N.indexOf(": ");H>0&&(D[N.substring(0,H)]=N.substring(H+2))}return D}},{key:"generateUuid",value:function(){var g=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(D){var v=(g+16*Math.random())%16|0;return g=Math.floor(g/16),(D=="x"?v:3&v|8).toString(16)})}},{key:"generateHashCode",value:function(g){var D=0;if(g.length===0)return D;for(var v=0;v<g.length;v++)D=(D<<5)-D+g.charCodeAt(v),D|=0;return D}},{key:"getRelativeUrl",value:function(g,D){try{var v=new URL(g),w=new URL(D);if(v.protocol=w.protocol,v.origin!==w.origin)return D;var A=u.a.relative(v.pathname.substr(0,v.pathname.lastIndexOf("/")),w.pathname.substr(0,w.pathname.lastIndexOf("/"))),N=A.length===0?1:0;return A+=w.pathname.substr(w.pathname.lastIndexOf("/")+N,w.pathname.length-1),w.pathname.length<A.length?w.pathname:A}catch{return D}}}],(p=null)&&f(c.prototype,p),T&&f(c,T),m}();r.a=d},function(n,r,i){var o=i(3),u=i(15),l=i(6),f=i(1),d=i(5),m=i(7),c=i(2);function p(v){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function T(v,w,A){return w in v?Object.defineProperty(v,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):v[w]=A,v}function g(){var v,w,A=this.context,N=Object(m.a)(A).getInstance(),H={"streaming.delay.liveDelay":c.a.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":c.a.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":c.a.SETTING_UPDATED_CATCHUP_ENABLED},S={debug:{logLevel:l.a.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,eventControllerRefreshDelay:150,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0},liveCatchup:{maxDrift:NaN,playbackRate:NaN,playbackBufferMin:.5,enabled:null,latencyThreshold:60,mode:f.a.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:f.a.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:f.a.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:f.a.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:1e4,retryIntervals:(v={},T(v,d.a.MPD_TYPE,500),T(v,d.a.XLINK_EXPANSION_TYPE,500),T(v,d.a.MEDIA_SEGMENT_TYPE,1e3),T(v,d.a.INIT_SEGMENT_TYPE,1e3),T(v,d.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),T(v,d.a.INDEX_SEGMENT_TYPE,1e3),T(v,d.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),T(v,d.a.LICENSE,1e3),T(v,d.a.OTHER_TYPE,1e3),T(v,"lowLatencyReductionFactor",10),v),retryAttempts:(w={},T(w,d.a.MPD_TYPE,3),T(w,d.a.XLINK_EXPANSION_TYPE,1),T(w,d.a.MEDIA_SEGMENT_TYPE,3),T(w,d.a.INIT_SEGMENT_TYPE,3),T(w,d.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),T(w,d.a.INDEX_SEGMENT_TYPE,3),T(w,d.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),T(w,d.a.LICENSE,3),T(w,d.a.OTHER_TYPE,3),T(w,"lowLatencyMultiplyFactor",5),w),abr:{movingAverageMethod:f.a.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:f.a.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!1},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:f.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:f.a.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},M=u.a.clone(S);return{get:function(){return M},update:function(F){p(F)==="object"&&function ie(Ee,Be,Le){for(var X in Ee)Ee.hasOwnProperty(X)&&(Be.hasOwnProperty(X)?p(Ee[X])!=="object"||Ee[X]instanceof Array||Ee[X]===null?(Be[X]=u.a.clone(Ee[X]),H[Le+X]&&N.trigger(H[Le+X])):ie(Ee[X],Be[X],Le.slice()+X+"."):console.error("Settings parameter "+Le+X+" is not supported"))}(F,M,"")},reset:function(){M=u.a.clone(S)}}}g.__dashjs_factory_name="Settings";var D=o.a.getSingletonFactory(g);r.a=D},function(n,r,i){var o=i(5);function u(f,d){for(var m=0;m<d.length;m++){var c=d[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}var l=function(){function f(c){(function(p,T){if(!(p instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=c||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var d,m;return d=f,(m=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===o.a.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(c){this.type=c&&c.init?o.a.INIT_SEGMENT_TYPE:o.a.MEDIA_SEGMENT_TYPE,this.url=c&&c.url?c.url:null,this.range=c&&c.range?c.range.start+"-"+c.range.end:null,this.mediaType=c&&c.mediaType?c.mediaType:null}}])&&u(d.prototype,m),f}();l.ACTION_DOWNLOAD="download",l.ACTION_COMPLETE="complete",r.a=l},function(n,r,i){function o(l,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var u=function(){function l(){(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l)}var f,d;return f=l,(d=[{key:"extend",value:function(m,c){if(m){var p=!!c&&c.override,T=!!c&&c.publicOnly;for(var g in m)!m.hasOwnProperty(g)||this[g]&&!p||T&&m[g].indexOf("public_")===-1||(this[g]=m[g])}}}])&&o(f.prototype,d),l}();r.a=u},function(n,r,i){function o(c){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}function u(c,p){return(u=Object.setPrototypeOf||function(T,g){return T.__proto__=g,T})(c,p)}function l(c){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,g=d(c);if(p){var D=d(this).constructor;T=Reflect.construct(g,arguments,D)}else T=g.apply(this,arguments);return f(this,T)}}function f(c,p){return!p||o(p)!=="object"&&typeof p!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(c):p}function d(c){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(c)}var m=new(function(c){(function(g,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(D&&D.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),D&&u(g,D)})(T,c);var p=l(T);function T(){var g;return function(D,v){if(!(D instanceof v))throw new TypeError("Cannot call a class as a function")}(this,T),(g=p.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",g.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",g.CMCD_DATA_GENERATED="cmcdDataGenerated",g}return T}(i(18).a));r.a=m},function(n,r,i){var o=i(3),u=i(17);function l(d){var m,c,p,T,g=(d=d||{}).eventBus,D=d.events,v=d.dashMetrics,w=d.fragmentLoader,A=d.debug,N=d.streamInfo,H=d.type;function S(oe){var te;return!!oe&&(te=!1,p.some(function(ve){if(Ge=oe,Ke=ve,!isNaN(Ge.index)&&Ge.startTime===Ke.startTime&&Ge.adaptationIndex===Ke.adaptationIndex&&Ge.type===Ke.type||function(We,$){return isNaN(We.index)&&isNaN($.index)&&We.quality===$.quality}(oe,ve)||function(We,$){return We.action===u.a.ACTION_COMPLETE&&We.action===$.action}(oe,ve))return te=!0;var Ge,Ke}),te)}function M(oe){return isNaN(oe.duration)?.25:Math.min(oe.duration/8,.5)}function F(oe){p=p.filter(function(te){var ve=M(te);return isNaN(te.startTime)||oe!==void 0&&te.startTime>=oe-ve})}function ie(oe,te){te<=oe+.5||(p=p.filter(function(ve){var Ge=M(ve);return isNaN(ve.startTime)||ve.startTime>=te-Ge||isNaN(ve.duration)||ve.startTime+ve.duration<=oe+Ge}))}function Ee(oe,te,ve){for(var Ge=oe.length-1;Ge>=0;Ge--){var Ke=oe[Ge],We=Ke.startTime,$=We+Ke.duration;if(ve=isNaN(ve)?M(Ke):ve,!isNaN(We)&&!isNaN($)&&te+ve>=We&&te-ve<$||isNaN(We)&&isNaN(te))return Ke}return null}function Be(oe,te){v.addSchedulingInfo(oe,te),v.addRequestsQueue(oe.mediaType,T,p)}function Le(oe){oe.sender===w&&(T.splice(T.indexOf(oe.request),1),oe.response&&!oe.error&&p.push(oe.request),Be(oe.request,oe.error?"failed":"executed"),g.trigger(D.FRAGMENT_LOADING_COMPLETED,{request:oe.request,response:oe.response,error:oe.error,sender:this},{streamId:N.id,mediaType:H}))}function X(oe){oe.sender===w&&g.trigger(D.FRAGMENT_LOADING_PROGRESS,{request:oe.request,response:oe.response,error:oe.error,sender:this},{streamId:N.id,mediaType:H})}function P(oe){oe.sender===w&&g.trigger(D.FRAGMENT_LOADING_ABANDONED,{request:oe.request},{streamId:N.id,mediaType:H})}function J(){p=[],T=[]}return m={getStreamId:function(){return N.id},getType:function(){return H},getRequests:function(oe){var te=oe?oe.state instanceof Array?oe.state:[oe.state]:[],ve=[];return te.forEach(function(Ge){var Ke=function(We){var $;switch(We){case"loading":$=T;break;case"executed":$=p;break;default:$=[]}return $}(Ge);ve=ve.concat(function(We,$){return $.hasOwnProperty("time")?[Ee(We,$.time,$.threshold)]:We.filter(function(K){for(var Ue in $)if(Ue!=="state"&&$.hasOwnProperty(Ue)&&K[Ue]!=$[Ue])return!1;return!0})}(Ke,oe))}),ve},isFragmentLoaded:S,isFragmentLoadedOrPending:function(oe){var te,ve=!1,Ge=0;if(!(ve=S(oe)))for(Ge=0;Ge<T.length;Ge++)te=T[Ge],oe.url===te.url&&oe.startTime===te.startTime&&(ve=!0);return ve},removeExecutedRequestsBeforeTime:F,removeExecutedRequestsAfterTime:function(oe){p=p.filter(function(te){return isNaN(te.startTime)||oe!==void 0&&te.startTime<oe})},syncExecutedRequestsWithBufferedRange:function(oe,te){if(oe&&oe.length!==0){for(var ve=0,Ge=0,Ke=oe.length;Ge<Ke;Ge++)ie(ve,oe.start(Ge)),ve=oe.end(Ge);te>0&&ie(ve,te)}else F()},abortRequests:function(){c.debug("abort requests"),w.abort(),T=[]},executeRequest:function(oe){switch(oe.action){case u.a.ACTION_DOWNLOAD:Be(oe,"loading"),T.push(oe),function(te){g.trigger(D.FRAGMENT_LOADING_STARTED,{request:te},{streamId:N.id,mediaType:H}),w.load(te)}(oe);break;default:c.warn("Unknown request action.")}},reset:function(){g.off(D.LOADING_COMPLETED,Le,this),g.off(D.LOADING_DATA_PROGRESS,X,this),g.off(D.LOADING_ABANDONED,P,this),w&&w.reset(),J()},resetInitialSettings:J,addExecutedRequest:function(oe){p.push(oe)}},c=A.getLogger(m),J(),g.on(D.LOADING_COMPLETED,Le,m),g.on(D.LOADING_DATA_PROGRESS,X,m),g.on(D.LOADING_ABANDONED,P,m),m}l.__dashjs_factory_name="FragmentModel";var f=o.a.getClassFactory(l);f.FRAGMENT_MODEL_LOADING="loading",f.FRAGMENT_MODEL_EXECUTED="executed",f.FRAGMENT_MODEL_CANCELED="canceled",f.FRAGMENT_MODEL_FAILED="failed",o.a.updateClassFactory(l.__dashjs_factory_name,f),r.a=f},function(n,r,i){var o=i(3),u=i(46);function l(d){d=d||{};var m,c,p=this.context;return m=Object(u.a)(p).getInstance(),{load:function(T){if(!c){var g=m.getLoader(T&&T.request?T.request.url:null);c=g(p).create({errHandler:d.errHandler,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,dashMetrics:d.dashMetrics,boxParser:d.boxParser?d.boxParser:null,constants:d.constants?d.constants:null,dashConstants:d.dashConstants?d.dashConstants:null,urlUtils:d.urlUtils?d.urlUtils:null,requestTimeout:isNaN(d.requestTimeout)?0:d.requestTimeout,errors:d.errors})}c.load(T)},abort:function(){c&&c.abort()}}}l.__dashjs_factory_name="URLLoader";var f=o.a.getClassFactory(l);r.a=f},function(n,r,i){var o=i(6);function u(D,v){for(var w=0;w<v.length;w++){var A=v[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(D,A.key,A)}}var l=function(){function D(A){if(function(Ee,Be){if(!(Ee instanceof Be))throw new TypeError("Cannot call a class as a function")}(this,D),this.offset=A._offset,this.type=A.type,this.size=A.size,this.boxes=[],A.boxes)for(var N=0;N<A.boxes.length;N++)this.boxes.push(new D(A.boxes[N]));switch(this.isComplete=!0,A.type){case"sidx":if(this.timescale=A.timescale,this.earliest_presentation_time=A.earliest_presentation_time,this.first_offset=A.first_offset,this.references=A.references,A.references){this.references=[];for(var H=0;H<A.references.length;H++){var S={reference_type:A.references[H].reference_type,referenced_size:A.references[H].referenced_size,subsegment_duration:A.references[H].subsegment_duration};this.references.push(S)}}break;case"emsg":this.id=A.id,this.version=A.version===1?1:0,this.value=A.value,this.timescale=A.timescale,this.scheme_id_uri=A.scheme_id_uri,this.presentation_time_delta=A.version===1?A.presentation_time:A.presentation_time_delta,this.event_duration=A.event_duration,this.message_data=A.message_data;break;case"mdhd":this.timescale=A.timescale;break;case"mfhd":this.sequence_number=A.sequence_number;break;case"subs":this.entry_count=A.entry_count,this.entries=A.entries;break;case"tfhd":this.base_data_offset=A.base_data_offset,this.sample_description_index=A.sample_description_index,this.default_sample_duration=A.default_sample_duration,this.default_sample_size=A.default_sample_size,this.default_sample_flags=A.default_sample_flags,this.flags=A.flags;break;case"tfdt":this.version=A.version,this.baseMediaDecodeTime=A.baseMediaDecodeTime,this.flags=A.flags;break;case"trun":if(this.sample_count=A.sample_count,this.first_sample_flags=A.first_sample_flags,this.data_offset=A.data_offset,this.flags=A.flags,this.samples=A.samples,A.samples){this.samples=[];for(var M=0,F=A.samples.length;M<F;M++){var ie={sample_size:A.samples[M].sample_size,sample_duration:A.samples[M].sample_duration,sample_composition_time_offset:A.samples[M].sample_composition_time_offset};this.samples.push(ie)}}}}var v,w;return v=D,(w=[{key:"getChildBox",value:function(A){for(var N=0;N<this.boxes.length;N++)if(this.boxes[N].type===A)return this.boxes[N]}},{key:"getChildBoxes",value:function(A){for(var N=[],H=0;H<this.boxes.length;H++)this.boxes[H].type===A&&N.push(this.boxes[H]);return N}}])&&u(v.prototype,w),D}(),f=i(3);function d(){var D;function v(A){var N=[];if(!A||!D||typeof D.fetchAll!="function")return N;for(var H,S=D.fetchAll(A),M=0,F=S.length;M<F;M++)(H=w(S[M]))&&N.push(H);return N}function w(A){if(!A)return null;var N=new l(A);return A.hasOwnProperty("_incomplete")&&(N.isComplete=!A._incomplete),N}return{getBox:function(A){return A&&D&&D.boxes&&D.boxes.length!==0&&typeof D.fetch=="function"?w(D.fetch(A)):null},getBoxes:v,setData:function(A){D=A},getLastBox:function(){if(!D||!D.boxes||!D.boxes.length)return null;var A=v(D.boxes[D.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}d.__dashjs_factory_name="IsoFile";var m=f.a.getClassFactory(d),c=i(24),p=i.n(c),T=function D(v,w,A){(function(N,H){if(!(N instanceof H))throw new TypeError("Cannot call a class as a function")})(this,D),this.lastCompletedOffset=v,this.found=w,this.size=A};function g(){var D,v,w=this.context;function A(S){if(!S)return null;S.fileStart===void 0&&(S.fileStart=0);var M=p.a.parseBuffer(S),F=m(w).create();return F.setData(M),F}function N(S,M){return S[M+3]>>>0|S[M+2]<<8>>>0|S[M+1]<<16>>>0|S[M]<<24>>>0}function H(S,M){return String.fromCharCode(S[M++])+String.fromCharCode(S[M++])+String.fromCharCode(S[M++])+String.fromCharCode(S[M])}return v={parse:A,findLastTopIsoBoxCompleted:function(S,M,F){if(F===void 0&&(F=0),!M||F+8>=M.byteLength)return new T(0,!1);for(var ie,Ee=M instanceof ArrayBuffer?new Uint8Array(M):M,Be=0;F<Ee.byteLength;){var Le=N(Ee,F),X=H(Ee,F+4);if(Le===0)break;F+Le<=Ee.byteLength&&(S.indexOf(X)>=0?ie=new T(F,!0,Le):Be=F+Le),F+=Le}return ie||new T(Be,!1)},getMediaTimescaleFromMoov:function(S){var M=A(S),F=M?M.getBox("mdhd"):void 0;return F?F.timescale:NaN},getSamplesInfo:function(S){if(!S||S.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var M,F,ie,Ee,Be,Le,X,P,J,oe,te,ve,Ge,Ke,We,$,K=A(S),Ue=K.getBoxes("moof"),$e=K.getBoxes("mfhd");We=K.getBoxes("moof").length,Ke=$e[$e.length-1].sequence_number,F=0,Be=[];var ot=-1,He=-1;for(oe=0;oe<Ue.length;oe++){var q=Ue[oe],U=q.getChildBoxes("traf");for(P=0;P<U.length;P++){var x=U[P],h=x.getChildBox("tfhd"),y=x.getChildBox("tfdt");Ee=y.baseMediaDecodeTime;var _=x.getChildBoxes("trun"),E=x.getChildBoxes("subs");for(J=0;J<_.length;J++){var I=_[J];for(F=I.sample_count,Ge=(h.base_data_offset||0)+(I.data_offset||0),X=0;X<F;X++){M=(Le=I.samples[X]).sample_duration!==void 0?Le.sample_duration:h.default_sample_duration,ie=Le.sample_size!==void 0?Le.sample_size:h.default_sample_size;var L={dts:Ee,cts:Ee+(Le.sample_composition_time_offset!==void 0?Le.sample_composition_time_offset:0),duration:M,offset:q.offset+Ge,size:ie,subSizes:[ie]};if(E)for(te=0;te<E.length;te++){var Z=E[te];if(ot<Z.entry_count-1&&X>He&&(ot++,He+=Z.entries[ot].sample_delta),X==He){L.subSizes=[];var b=Z.entries[ot];for(ve=0;ve<b.subsample_count;ve++)L.subSizes.push(b.subsamples[ve].subsample_size)}}Be.push(L),Ge+=ie,Ee+=M}}$=Ee-y.baseMediaDecodeTime}}return{sampleList:Be,lastSequenceNumber:Ke,totalDuration:$,numSequences:We}},findInitRange:function(S){var M=null,F=A(S);if(!F)return M;var ie=F.getBox("ftyp"),Ee=F.getBox("moov");return D.debug("Searching for initialization."),Ee&&Ee.isComplete&&(M=(ie?ie.offset:Ee.offset)+"-"+(Ee.offset+Ee.size-1),D.debug("Found the initialization.  Range: "+M)),M},parsePayload:function(S,M,F){if(F===void 0&&(F=0),!M||F+8>=M.byteLength)return new T(0,!1);for(var ie,Ee=M instanceof ArrayBuffer?new Uint8Array(M):M,Be=0;F<Ee.byteLength;){var Le=N(Ee,F),X=H(Ee,F+4);if(Le===0)break;F+Le<=Ee.byteLength&&(S.indexOf(X)>=0?ie=new T(F,!0,Le):Be=F+Le),F+=Le}return ie||new T(Be,!1)}},D=Object(o.a)(w).getInstance().getLogger(v),v}g.__dashjs_factory_name="BoxParser",r.a=f.a.getSingletonFactory(g)},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */var o={parseBuffer:function(f){return new u(f).parse()},addBoxProcessor:function(f,d){typeof f=="string"&&typeof d=="function"&&(l.prototype._boxProcessors[f]=d)},createFile:function(){return new u},createBox:function(f,d,m){var c=l.create(f);return d&&d.append(c,m),c},createFullBox:function(f,d,m){var c=o.createBox(f,d,m);return c.version=0,c.flags=0,c},Utils:{}};o.Utils.dataViewToString=function(f,d){var m=d||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(m).decode(f);var c=[],p=0;if(m==="utf-8")for(;p<f.byteLength;){var T=f.getUint8(p++);T<128||(T<224?(T=(31&T)<<6,T|=63&f.getUint8(p++)):T<240?(T=(15&T)<<12,T|=(63&f.getUint8(p++))<<6,T|=63&f.getUint8(p++)):(T=(7&T)<<18,T|=(63&f.getUint8(p++))<<12,T|=(63&f.getUint8(p++))<<6,T|=63&f.getUint8(p++))),c.push(String.fromCharCode(T))}else for(;p<f.byteLength;)c.push(String.fromCharCode(f.getUint8(p++)));return c.join("")},o.Utils.utf8ToByteArray=function(f){var d,m;if(typeof TextEncoder<"u")d=new TextEncoder().encode(f);else for(d=[],m=0;m<f.length;++m){var c=f.charCodeAt(m);c<128?d.push(c):c<2048?(d.push(192|c>>6),d.push(128|63&c)):c<65536?(d.push(224|c>>12),d.push(128|63&c>>6),d.push(128|63&c)):(d.push(240|c>>18),d.push(128|63&c>>12),d.push(128|63&c>>6),d.push(128|63&c))}return d},o.Utils.appendBox=function(f,d,m){if(d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,m!==-1)if(m!=null){var c,p=-1;if(typeof m=="number")p=m;else{if(typeof m=="string")c=m;else{if(typeof m!="object"||!m.type)return void f.boxes.push(d);c=m.type}for(var T=0;T<f.boxes.length;T++)if(c===f.boxes[T].type){p=T+1;break}}f.boxes.splice(p,0,d)}else f.boxes.push(d)},r.parseBuffer=o.parseBuffer,r.addBoxProcessor=o.addBoxProcessor,r.createFile=o.createFile,r.createBox=o.createBox,r.createFullBox=o.createFullBox,r.Utils=o.Utils,o.Cursor=function(f){this.offset=f===void 0?0:f};var u=function(f){this._cursor=new o.Cursor,this.boxes=[],f&&(this._raw=new DataView(f))};u.prototype.fetch=function(f){var d=this.fetchAll(f,!0);return d.length?d[0]:null},u.prototype.fetchAll=function(f,d){var m=[];return u._sweep.call(this,f,m,d),m},u.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var f=l.parse(this);if(f.type===void 0)break;this.boxes.push(f)}return this},u._sweep=function(f,d,m){for(var c in this.type&&this.type==f&&d.push(this),this.boxes){if(d.length&&m)return;u._sweep.call(this.boxes[c],f,d,m)}},u.prototype.write=function(){var f,d=0;for(f=0;f<this.boxes.length;f++)d+=this.boxes[f].getLength(!1);var m=new Uint8Array(d);for(this._rawo=new DataView(m.buffer),this.bytes=m,this._cursor.offset=0,f=0;f<this.boxes.length;f++)this.boxes[f].write();return m.buffer},u.prototype.append=function(f,d){o.Utils.appendBox(this,f,d)};var l=function(){this._cursor=new o.Cursor};l.parse=function(f){var d=new l;return d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,d._parseBox(),f._cursor.offset=d._raw.byteOffset+d._raw.byteLength,d},l.create=function(f){var d=new l;return d.type=f,d.boxes=[],d},l.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],l.prototype._boxProcessors={},l.prototype._procField=function(f,d,m){this._parsing?this[f]=this._readField(d,m):this._writeField(d,m,this[f])},l.prototype._procFieldArray=function(f,d,m,c){var p;if(this._parsing)for(this[f]=[],p=0;p<d;p++)this[f][p]=this._readField(m,c);else for(p=0;p<this[f].length;p++)this._writeField(m,c,this[f][p])},l.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},l.prototype._procEntries=function(f,d,m){var c;if(this._parsing)for(this[f]=[],c=0;c<d;c++)this[f].push({}),m.call(this,this[f][c]);else for(c=0;c<d;c++)m.call(this,this[f][c])},l.prototype._procSubEntries=function(f,d,m,c){var p;if(this._parsing)for(f[d]=[],p=0;p<m;p++)f[d].push({}),c.call(this,f[d][p]);else for(p=0;p<m;p++)c.call(this,f[d][p])},l.prototype._procEntryField=function(f,d,m,c){this._parsing?f[d]=this._readField(m,c):this._writeField(m,c,f[d])},l.prototype._procSubBoxes=function(f,d){var m;if(this._parsing)for(this[f]=[],m=0;m<d;m++)this[f].push(l.parse(this));else for(m=0;m<d;m++)this._rawo?this[f][m].write():this.size+=this[f][m].getLength()},l.prototype._readField=function(f,d){switch(f){case"uint":return this._readUint(d);case"int":return this._readInt(d);case"template":return this._readTemplate(d);case"string":return d===-1?this._readTerminatedString():this._readString(d);case"data":return this._readData(d);case"utf8":return this._readUTF8String();default:return-1}},l.prototype._readInt=function(f){var d=null,m=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:d=this._raw.getInt8(m);break;case 16:d=this._raw.getInt16(m);break;case 32:d=this._raw.getInt32(m);break;case 64:var c=this._raw.getInt32(m),p=this._raw.getInt32(m+4);d=c*Math.pow(2,32)+p}return this._cursor.offset+=f>>3,d},l.prototype._readUint=function(f){var d,m,c=null,p=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:c=this._raw.getUint8(p);break;case 16:c=this._raw.getUint16(p);break;case 24:c=((d=this._raw.getUint16(p))<<8)+(m=this._raw.getUint8(p+2));break;case 32:c=this._raw.getUint32(p);break;case 64:d=this._raw.getUint32(p),m=this._raw.getUint32(p+4),c=d*Math.pow(2,32)+m}return this._cursor.offset+=f>>3,c},l.prototype._readString=function(f){for(var d="",m=0;m<f;m++){var c=this._readUint(8);d+=String.fromCharCode(c)}return d},l.prototype._readTemplate=function(f){return this._readUint(f/2)+this._readUint(f/2)/Math.pow(2,f/2)},l.prototype._readTerminatedString=function(){for(var f="";this._cursor.offset-this._offset<this._raw.byteLength;){var d=this._readUint(8);if(d===0)break;f+=String.fromCharCode(d)}return f},l.prototype._readData=function(f){var d=f>0?f:this._raw.byteLength-(this._cursor.offset-this._offset);if(d>0){var m=new Uint8Array(this._raw.buffer,this._cursor.offset,d);return this._cursor.offset+=d,m}return null},l.prototype._readUTF8String=function(){var f=this._raw.byteLength-(this._cursor.offset-this._offset),d=null;return f>0&&(d=new DataView(this._raw.buffer,this._cursor.offset,f),this._cursor.offset+=f),d&&o.Utils.dataViewToString(d)},l.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},l.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},l.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(l.parse(this))},l.prototype.append=function(f,d){o.Utils.appendBox(this,f,d)},l.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var f=0;f<this.boxes.length;f++)this.size+=this.boxes[f].getLength();return this._data&&this._writeData(this._data),this.size},l.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var f=0;f<this.boxes.length;f++)this.boxes[f].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},l.prototype._writeInt=function(f,d){if(this._rawo){var m=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setInt8(m,d);break;case 16:this._rawo.setInt16(m,d);break;case 32:this._rawo.setInt32(m,d);break;case 64:var c=Math.floor(d/Math.pow(2,32)),p=d-c*Math.pow(2,32);this._rawo.setUint32(m,c),this._rawo.setUint32(m+4,p)}this._cursor.offset+=f>>3}else this.size+=f>>3},l.prototype._writeUint=function(f,d){if(this._rawo){var m,c,p=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setUint8(p,d);break;case 16:this._rawo.setUint16(p,d);break;case 24:m=(16776960&d)>>8,c=255&d,this._rawo.setUint16(p,m),this._rawo.setUint8(p+2,c);break;case 32:this._rawo.setUint32(p,d);break;case 64:c=d-(m=Math.floor(d/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(p,m),this._rawo.setUint32(p+4,c)}this._cursor.offset+=f>>3}else this.size+=f>>3},l.prototype._writeString=function(f,d){for(var m=0;m<f;m++)this._writeUint(8,d.charCodeAt(m))},l.prototype._writeTerminatedString=function(f){if(f.length!==0){for(var d=0;d<f.length;d++)this._writeUint(8,f.charCodeAt(d));this._writeUint(8,0)}},l.prototype._writeTemplate=function(f,d){var m=Math.floor(d),c=(d-m)*Math.pow(2,f/2);this._writeUint(f/2,m),this._writeUint(f/2,c)},l.prototype._writeData=function(f){if(f)if(this._rawo){if(f instanceof Array){for(var d=this._cursor.offset-this._rawo.byteOffset,m=0;m<f.length;m++)this._rawo.setInt8(d+m,f[m]);this._cursor.offset+=f.length}f instanceof Uint8Array&&(this._root.bytes.set(f,this._cursor.offset),this._cursor.offset+=f.length)}else this.size+=f.length},l.prototype._writeUTF8String=function(f){var d=o.Utils.utf8ToByteArray(f);if(this._rawo)for(var m=new DataView(this._rawo.buffer,this._cursor.offset,d.length),c=0;c<d.length;c++)m.setUint8(c,d[c]);else this.size+=d.length},l.prototype._writeField=function(f,d,m){switch(f){case"uint":this._writeUint(d,m);break;case"int":this._writeInt(d,m);break;case"template":this._writeTemplate(d,m);break;case"string":d==-1?this._writeTerminatedString(m):this._writeString(d,m);break;case"data":this._writeData(m);break;case"utf8":this._writeUTF8String(m)}},l.prototype._boxProcessors.avc1=l.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},l.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},l.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"segment_duration","uint",this.version===1?64:32),this._procEntryField(f,"media_time","int",this.version===1?64:32),this._procEntryField(f,"media_rate_integer","int",16),this._procEntryField(f,"media_rate_fraction","int",16)})},l.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},l.prototype._boxProcessors.free=l.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},l.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},l.prototype._boxProcessors.ftyp=l.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var f=-1;this._parsing&&(f=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",f,"string",4)},l.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},l.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},l.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},l.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},l.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},l.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},l.prototype._boxProcessors.mp4a=l.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},l.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},l.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},l.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},l.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},l.prototype._boxProcessors.sdtp=function(){this._procFullBox();var f=-1;this._parsing&&(f=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",f,"uint",8)},l.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(f){this._parsing||(f.reference=(1&f.reference_type)<<31,f.reference|=2147483647&f.referenced_size,f.sap=(1&f.starts_with_SAP)<<31,f.sap|=(3&f.SAP_type)<<28,f.sap|=268435455&f.SAP_delta_time),this._procEntryField(f,"reference","uint",32),this._procEntryField(f,"subsegment_duration","uint",32),this._procEntryField(f,"sap","uint",32),this._parsing&&(f.reference_type=f.reference>>31&1,f.referenced_size=2147483647&f.reference,f.starts_with_SAP=f.sap>>31&1,f.SAP_type=f.sap>>28&7,f.SAP_delta_time=268435455&f.sap)})},l.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},l.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(f){this._procEntryField(f,"ranges_count","uint",32),this._procSubEntries(f,"ranges",f.ranges_count,function(d){this._procEntryField(d,"level","uint",8),this._procEntryField(d,"range_size","uint",24)})})},l.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},l.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_delta","uint",32),this._procEntryField(f,"subsample_count","uint",16),this._procSubEntries(f,"subsamples",f.subsample_count,function(d){this._procEntryField(d,"subsample_size","uint",this.version===1?32:16),this._procEntryField(d,"subsample_priority","uint",8),this._procEntryField(d,"discardable","uint",8),this._procEntryField(d,"codec_specific_parameters","uint",32)})})},l.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},l.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},l.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},l.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(f){this._procEntryField(f,"time","uint",this.version===1?64:32),this._procEntryField(f,"moof_offset","uint",this.version===1?64:32),this._procEntryField(f,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(f,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(f,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},l.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},l.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},l.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(f){256&this.flags&&this._procEntryField(f,"sample_duration","uint",32),512&this.flags&&this._procEntryField(f,"sample_size","uint",32),1024&this.flags&&this._procEntryField(f,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(f,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},l.prototype._boxProcessors["url "]=l.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},l.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},l.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},l.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},l.prototype._boxProcessors.vtte=function(){}},function(n,r){var i,o,u=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function d(A){if(i===setTimeout)return setTimeout(A,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(A,0);try{return i(A,0)}catch{try{return i.call(null,A,0)}catch{return i.call(this,A,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:l}catch{i=l}try{o=typeof clearTimeout=="function"?clearTimeout:f}catch{o=f}})();var m,c=[],p=!1,T=-1;function g(){p&&m&&(p=!1,m.length?c=m.concat(c):T=-1,c.length&&D())}function D(){if(!p){var A=d(g);p=!0;for(var N=c.length;N;){for(m=c,c=[];++T<N;)m&&m[T].run();T=-1,N=c.length}m=null,p=!1,function(H){if(o===clearTimeout)return clearTimeout(H);if((o===f||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(H);try{o(H)}catch{try{return o.call(null,H)}catch{return o.call(this,H)}}}(A)}}function v(A,N){this.fun=A,this.array=N}function w(){}u.nextTick=function(A){var N=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)N[H-1]=arguments[H];c.push(new v(A,N)),c.length!==1||p||d(D)},v.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=w,u.addListener=w,u.once=w,u.off=w,u.removeListener=w,u.removeAllListeners=w,u.emit=w,u.prependListener=w,u.prependOnceListener=w,u.listeners=function(A){return[]},u.binding=function(A){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(A){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(n,r,i){var o=i(3);function u(){return{modifyRequestURL:function(l){return l},modifyRequestHeader:function(l){return l}}}u.__dashjs_factory_name="RequestModifier",r.a=o.a.getSingletonFactory(u)},function(n,r,i){var o=i(3),u=i(8),l=i(1),f=i(9);function d(He){He=He||{};var q=this.context,U=He.dashMetrics;return{getMaxIndex:function(x){var h=Object(u.a)(q).create();if(!(x&&x.hasOwnProperty("getMediaInfo")&&x.hasOwnProperty("getMediaType")&&x.hasOwnProperty("useBufferOccupancyABR")&&x.hasOwnProperty("getAbrController")&&x.hasOwnProperty("getScheduleController")))return h;(function(){if(!U||!U.hasOwnProperty("getCurrentBufferState"))throw new Error(l.a.MISSING_CONFIG_ERROR)})();var y=x.getMediaInfo(),_=x.getMediaType(),E=U.getCurrentBufferState(_),I=x.getScheduleController(),L=x.getAbrController(),Z=x.getStreamInfo(),b=Z?Z.id:null,V=Z&&Z.manifestInfo?Z.manifestInfo.isDynamic:null,le=L.getThroughputHistory(),Ie=le.getSafeAverageThroughput(_,V),me=le.getAverageLatency(_),ke=x.useBufferOccupancyABR();return isNaN(Ie)||!E||ke||L.getAbandonmentStateFor(b,_)!==f.a.ABANDON_LOAD&&(E.state===f.a.BUFFER_LOADED||V)&&(h.quality=L.getQualityForBitrate(y,Ie,b,me),I.setTimeToLoadDelay(0),h.reason={throughput:Ie,latency:me}),h},reset:function(){}}}d.__dashjs_factory_name="ThroughputRule";var m=o.a.getClassFactory(d),c=i(7),p=i(2),T=i(6),g=i(4);function D(He){He=He||{};var q,U,x,h=this.context,y=Object(c.a)(h).getInstance(),_=He.dashMetrics;function E(){(x={})[l.a.VIDEO]={ignoreCount:2},x[l.a.AUDIO]={ignoreCount:2}}function I(){E()}function L(Z){isNaN(Z.startTime)||Z.mediaType!==l.a.AUDIO&&Z.mediaType!==l.a.VIDEO||x[Z.mediaType].ignoreCount>0&&x[Z.mediaType].ignoreCount--}return q={getMaxIndex:function(Z){var b=Object(u.a)(h).create();if(!Z||!Z.hasOwnProperty("getMediaType"))return b;(function(){if(!_||!_.hasOwnProperty("getCurrentBufferLevel")||!_.hasOwnProperty("getCurrentBufferState"))throw new Error(l.a.MISSING_CONFIG_ERROR)})();var V=Z.getMediaType(),le=_.getCurrentBufferState(V),Ie=Z.getRepresentationInfo().fragmentDuration,me=Z.getStreamInfo(),ke=me?me.id:null,ae=Z.getScheduleController(),Q=me&&me.manifestInfo&&me.manifestInfo.isDynamic;if(function(It,bt){return!It&&x[bt].ignoreCount>0}(ae.getPlaybackController().getLowLatencyModeEnabled(),V)||!Ie)return b;if(le&&le.state===f.a.BUFFER_EMPTY)U.debug("["+V+"] Switch to index 0; buffer is empty."),b.quality=0,b.reason="InsufficientBufferRule: Buffer is empty";else{var pe=Z.getMediaInfo(),De=Z.getAbrController(),Me=De.getThroughputHistory(),Te=_.getCurrentBufferLevel(V),tt=Me.getAverageThroughput(V,Q),ht=Me.getAverageLatency(V),St=tt*(Te/Ie)*.5;b.quality=De.getQualityForBitrate(pe,St,ke,ht),b.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return b},reset:function(){E(),y.off(g.a.PLAYBACK_SEEKING,I,q),y.off(p.a.BYTES_APPENDED_END_FRAGMENT,L,q)}},U=Object(T.a)(h).getInstance().getLogger(q),E(),y.on(g.a.PLAYBACK_SEEKING,I,q),y.on(p.a.BYTES_APPENDED_END_FRAGMENT,L,q),q}D.__dashjs_factory_name="InsufficientBufferRule";var v=o.a.getClassFactory(D);function w(He){He=He||{};var q,U,x,h,y,_=this.context,E=He.mediaPlayerModel,I=He.dashMetrics,L=He.settings;function Z(){x={},h={},y=[]}return q={shouldAbandon:function(b){var V=Object(u.a)(_).create(u.a.NO_CHANGE,{name:w.__dashjs_factory_name});if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("getCurrentRequest")&&b.hasOwnProperty("getRepresentationInfo")&&b.hasOwnProperty("getAbrController")))return V;var le,Ie,me=b.getMediaInfo(),ke=b.getMediaType(),ae=b.getStreamInfo(),Q=ae?ae.id:null,pe=b.getCurrentRequest();if(!isNaN(pe.index)){le=ke,Ie=pe.index,x[le]=x[le]||{},x[le][Ie]=x[le][Ie]||{};var De=E.getStableBufferTime();if(I.getCurrentBufferLevel(ke)>De)return V;var Me=x[ke][pe.index];if(Me===null||pe.firstByteDate===null||h.hasOwnProperty(Me.id))return V;if(Me.firstByteTime===void 0&&(y[ke]=[],Me.firstByteTime=pe.firstByteDate.getTime(),Me.segmentDuration=pe.duration,Me.bytesTotal=pe.bytesTotal,Me.id=pe.index),Me.bytesLoaded=pe.bytesLoaded,Me.elapsedTime=new Date().getTime()-Me.firstByteTime,Me.bytesLoaded>0&&Me.elapsedTime>0&&function(wt,Dt){y[wt]=y[wt]||[],y[wt].push(Dt)}(ke,Math.round(8*Me.bytesLoaded/Me.elapsedTime)),y[ke].length>=5&&Me.elapsedTime>500&&Me.bytesLoaded<Me.bytesTotal){var Te=y[ke].reduce(function(wt,Dt){return wt+Dt},0);if(Me.measuredBandwidthInKbps=Math.round(Te/y[ke].length),Me.estimatedTimeOfDownload=+(8*Me.bytesTotal/Me.measuredBandwidthInKbps/1e3).toFixed(2),Me.estimatedTimeOfDownload<1.8*Me.segmentDuration||b.getRepresentationInfo().quality===0)return V;if(!h.hasOwnProperty(Me.id)){var tt=b.getAbrController(),ht=Me.bytesTotal-Me.bytesLoaded,St=tt.getBitrateList(me),It=tt.getQualityForBitrate(me,Me.measuredBandwidthInKbps*L.get().streaming.abr.bandwidthSafetyFactor,Q),bt=tt.getMinAllowedIndexFor(ke,Q),Nt=bt!==void 0?Math.max(bt,It):It;ht>Me.bytesTotal*St[Nt].bitrate/St[tt.getQualityFor(ke,Q)].bitrate&&(V.quality=Nt,V.reason.throughput=Me.measuredBandwidthInKbps,V.reason.fragmentID=Me.id,h[Me.id]=Me,U.debug("["+ke+"] frag id",Me.id," is asking to abandon and switch to quality to ",Nt," measured bandwidth was",Me.measuredBandwidthInKbps),delete x[ke][Me.id])}}else Me.bytesLoaded===Me.bytesTotal&&delete x[ke][Me.id]}return V},reset:Z},U=Object(T.a)(_).getInstance().getLogger(q),Z(),q}w.__dashjs_factory_name="AbandonRequestsRule";var A=o.a.getClassFactory(w);function N(){var He,q,U=this.context;return He={getMaxIndex:function(x){var h=Object(u.a)(U).create();if(!x||!x.hasOwnProperty("getDroppedFramesHistory"))return h;var y=x.getDroppedFramesHistory(),_=x.getStreamInfo().id;if(y){var E=y.getFrameHistory(_);if(!E||E.length===0)return h;for(var I=0,L=0,Z=u.a.NO_CHANGE,b=1;b<E.length;b++)if(E[b]&&(I=E[b].droppedVideoFrames,(L=E[b].totalVideoFrames)>375&&I/L>.15)){Z=b-1,q.debug("index: "+Z+" Dropped Frames: "+I+" Total Frames: "+L);break}return Object(u.a)(U).create(Z,{droppedFrames:I})}return h}},q=Object(T.a)(U).getInstance().getLogger(He),He}N.__dashjs_factory_name="DroppedFramesRule";var H=o.a.getClassFactory(N);function S(){var He,q,U=this.context;return He={getMaxIndex:function(x){for(var h=x?x.getSwitchHistory():null,y=h?h.getSwitchRequests():[],_=0,E=0,I=0,L=Object(u.a)(U).create(),Z=0;Z<y.length;Z++)if(y[Z]!==void 0&&(_+=y[Z].drops,E+=y[Z].noDrops,I+=y[Z].dropSize,_+E>=6&&_/E>.075)){L.quality=Z>0&&y[Z].drops>0?Z-1:Z,L.reason={index:L.quality,drops:_,noDrops:E,dropSize:I},q.debug("Switch history rule index: "+L.quality+" samples: "+(_+E)+" drops: "+_);break}return L}},q=Object(T.a)(U).getInstance().getLogger(He),He}S.__dashjs_factory_name="SwitchHistoryRule";var M=o.a.getClassFactory(S),F=i(5);function ie(He){He=He||{};var q,U,x,h=this.context,y=He.dashMetrics,_=He.mediaPlayerModel,E=Object(c.a)(h).getInstance();function I(Te,tt,ht){var St=ht.reduce(function(Nt,wt,Dt){return wt>ht[Nt]?Dt:Nt},0);if(St===0)return null;var It=Math.max(Te,10+2*tt.length),bt=(ht[St]-1)/(It/10-1);return{gp:bt,Vp:10/bt}}function L(Te){var tt={},ht=Te.getMediaInfo().bitrateList.map(function(Nt){return Nt.bandwidth}),St=function(Nt){return Nt.map(function(wt){return Math.log(wt)})}(ht);St=St.map(function(Nt){return Nt-St[0]+1});var It=_.getStableBufferTime(),bt=I(It,ht,St);return bt?(tt.state=1,tt.bitrates=ht,tt.utilities=St,tt.stableBufferTime=It,tt.Vp=bt.Vp,tt.gp=bt.gp,tt.lastQuality=0,Z(tt)):tt.state=0,tt}function Z(Te){Te.placeholderBuffer=0,Te.mostAdvancedSegmentStart=NaN,Te.lastSegmentWasReplacement=!1,Te.lastSegmentStart=NaN,Te.lastSegmentDurationS=NaN,Te.lastSegmentRequestTimeMs=NaN,Te.lastSegmentFinishTimeMs=NaN}function b(Te,tt){var ht=_.getStableBufferTime();if(Te.stableBufferTime!==ht){var St=I(ht,Te.bitrates,Te.utilities);if(St.Vp!==Te.Vp||St.gp!==Te.gp){var It=y.getCurrentBufferLevel(tt),bt=It+Te.placeholderBuffer;bt-=10,bt*=St.Vp/Te.Vp,bt+=10,Te.stableBufferTime=ht,Te.Vp=St.Vp,Te.gp=St.gp,Te.placeholderBuffer=Math.max(0,bt-It)}}}function V(Te,tt){return Te.Vp*(Te.utilities[tt]+Te.gp)}function le(Te,tt){for(var ht=Te.bitrates[tt],St=Te.utilities[tt],It=0,bt=tt-1;bt>=0;--bt)if(Te.utilities[bt]<Te.utilities[tt]){var Nt=Te.bitrates[bt],wt=Te.utilities[bt],Dt=Te.Vp*(Te.gp+(ht*wt-Nt*St)/(ht-Nt));It=Math.max(It,Dt)}return It}function Ie(Te){var tt=Te.mediaType===l.a.AUDIO?[l.a.AUDIO]:x;for(var ht in tt)x.hasOwnProperty(ht)&&x[ht].state===2&&(x[ht].placeholderBuffer=0)}function me(){for(var Te in x)if(x.hasOwnProperty(Te)){var tt=x[Te];tt.state!==0&&(tt.state=1,Z(tt))}}function ke(Te){if(Te&&Te.chunk&&Te.chunk.mediaInfo){var tt=x[Te.chunk.mediaInfo.type];if(tt&&tt.state!==0){var ht=Te.chunk.start;isNaN(tt.mostAdvancedSegmentStart)||ht>tt.mostAdvancedSegmentStart?(tt.mostAdvancedSegmentStart=ht,tt.lastSegmentWasReplacement=!1):tt.lastSegmentWasReplacement=!0,tt.lastSegmentStart=ht,tt.lastSegmentDurationS=Te.chunk.duration,tt.lastQuality=Te.chunk.quality,Q(tt,Te.chunk.mediaInfo.type)}}}function ae(Te){if(Te&&Te.metric===f.a.HTTP_REQUEST&&Te.value&&Te.value.type===F.a.MEDIA_SEGMENT_TYPE&&Te.value.trace&&Te.value.trace.length){var tt=x[Te.mediaType];tt&&tt.state!==0&&(tt.lastSegmentRequestTimeMs=Te.value.trequest.getTime(),tt.lastSegmentFinishTimeMs=Te.value._tfinish.getTime(),Q(tt,Te.mediaType))}}function Q(Te,tt){if(!isNaN(Te.lastSegmentStart)&&!isNaN(Te.lastSegmentRequestTimeMs)&&!isNaN(Te.placeholderBuffer)){if(Te.placeholderBuffer*=.99,!isNaN(Te.lastSegmentFinishTimeMs)){var ht=y.getCurrentBufferLevel(tt)+.001*(Te.lastSegmentFinishTimeMs-Te.lastSegmentRequestTimeMs),St=V(Te,Te.lastQuality),It=Math.max(0,St-ht);Te.placeholderBuffer=Math.min(It,Te.placeholderBuffer)}Te.lastSegmentWasReplacement&&!isNaN(Te.lastSegmentDurationS)&&(Te.placeholderBuffer+=Te.lastSegmentDurationS),Te.lastSegmentStart=NaN,Te.lastSegmentRequestTimeMs=NaN}}function pe(Te){if(Te){var tt=x[Te.mediaType];tt&&tt.state!==0&&(tt.abrQuality=Te.newQuality)}}function De(Te){if(Te){var tt=x[Te.mediaType];if(tt&&tt.state!==0){var ht,St=y.getCurrentBufferLevel(Te.mediaType);ht=tt.abrQuality>0?le(tt,tt.abrQuality):10;var It=Math.max(0,ht-St);tt.placeholderBuffer=Math.min(tt.placeholderBuffer,It)}}}function Me(){x={}}return q={getMaxIndex:function(Te){var tt=Object(u.a)(h).create();if(!(Te&&Te.hasOwnProperty("getMediaInfo")&&Te.hasOwnProperty("getMediaType")&&Te.hasOwnProperty("getScheduleController")&&Te.hasOwnProperty("getStreamInfo")&&Te.hasOwnProperty("getAbrController")&&Te.hasOwnProperty("useBufferOccupancyABR")))return tt;var ht=Te.getMediaInfo(),St=Te.getMediaType(),It=Te.getScheduleController(),bt=Te.getStreamInfo(),Nt=Te.getAbrController(),wt=Nt.getThroughputHistory(),Dt=bt?bt.id:null,Rt=bt&&bt.manifestInfo&&bt.manifestInfo.isDynamic,en=Te.useBufferOccupancyABR();if(tt.reason=tt.reason||{},!en)return tt;It.setTimeToLoadDelay(0);var Ut=function(yn){var rr=yn.getMediaType(),un=x[rr];return un?un.state!==0&&b(un,rr):(un=L(yn),x[rr]=un),un}(Te);if(Ut.state===0)return tt;var sn,Mn=y.getCurrentBufferLevel(St),En=wt.getAverageThroughput(St,Rt),Xt=wt.getSafeAverageThroughput(St,Rt),Qt=wt.getAverageLatency(St);if(tt.reason.state=Ut.state,tt.reason.throughput=En,tt.reason.latency=Qt,isNaN(En))return tt;switch(Ut.state){case 1:sn=Nt.getQualityForBitrate(ht,Xt,Dt,Qt),tt.quality=sn,tt.reason.throughput=Xt,Ut.placeholderBuffer=Math.max(0,le(Ut,sn)-Mn),Ut.lastQuality=sn,!isNaN(Ut.lastSegmentDurationS)&&Mn>=Ut.lastSegmentDurationS&&(Ut.state=2);break;case 2:(function(yn,rr){var un=Date.now();if(isNaN(yn.lastSegmentFinishTimeMs)){if(!isNaN(yn.lastCallTimeMs)){var Qn=.001*(un-yn.lastCallTimeMs);yn.placeholderBuffer+=Math.max(0,Qn)}}else{var qn=.001*(un-yn.lastSegmentFinishTimeMs);yn.placeholderBuffer+=Math.max(0,qn)}yn.lastCallTimeMs=un,yn.lastSegmentStart=NaN,yn.lastSegmentRequestTimeMs=NaN,yn.lastSegmentFinishTimeMs=NaN,b(yn,rr)})(Ut,St),sn=function(yn,rr){for(var un=yn.bitrates.length,Qn=NaN,qn=NaN,wn=0;wn<un;++wn){var bn=(yn.Vp*(yn.utilities[wn]+yn.gp)-rr)/yn.bitrates[wn];(isNaN(qn)||bn>=qn)&&(qn=bn,Qn=wn)}return Qn}(Ut,Mn+Ut.placeholderBuffer);var Jn=Nt.getQualityForBitrate(ht,Xt,Dt,Qt);sn>Ut.lastQuality&&sn>Jn&&(sn=Math.max(Jn,Ut.lastQuality));var Xn=Math.max(0,Mn+Ut.placeholderBuffer-V(Ut,sn));Xn<=Ut.placeholderBuffer?(Ut.placeholderBuffer-=Xn,Xn=0):(Xn-=Ut.placeholderBuffer,Ut.placeholderBuffer=0,sn<Nt.getMaxAllowedIndexFor(St,Dt)?It.setTimeToLoadDelay(1e3*Xn):Xn=0),tt.quality=sn,tt.reason.throughput=En,tt.reason.latency=Qt,tt.reason.bufferLevel=Mn,tt.reason.placeholderBuffer=Ut.placeholderBuffer,tt.reason.delay=Xn,Ut.lastQuality=sn;break;default:U.debug("BOLA ABR rule invoked in bad state."),tt.quality=Nt.getQualityForBitrate(ht,Xt,Dt,Qt),tt.reason.state=Ut.state,tt.reason.throughput=Xt,tt.reason.latency=Qt,Ut.state=1,Z(Ut)}return tt},reset:function(){Me(),E.off(g.a.BUFFER_EMPTY,Ie,q),E.off(g.a.PLAYBACK_SEEKING,me,q),E.off(g.a.METRIC_ADDED,ae,q),E.off(g.a.QUALITY_CHANGE_REQUESTED,pe,q),E.off(g.a.FRAGMENT_LOADING_ABANDONED,De,q),E.off(p.a.MEDIA_FRAGMENT_LOADED,ke,q)}},U=Object(T.a)(h).getInstance().getLogger(q),Me(),E.on(g.a.BUFFER_EMPTY,Ie,q),E.on(g.a.PLAYBACK_SEEKING,me,q),E.on(g.a.METRIC_ADDED,ae,q),E.on(g.a.QUALITY_CHANGE_REQUESTED,pe,q),E.on(g.a.FRAGMENT_LOADING_ABANDONED,De,q),E.on(p.a.MEDIA_FRAGMENT_LOADED,ke,q),q}ie.__dashjs_factory_name="BolaRule";var Ee=o.a.getClassFactory(ie);function Be(He){He=He||{};var q,U,x,h,y=this.context,_=He.dashMetrics,E=Object(c.a)(y).getInstance();function I(ae){var Q={},pe=ae.getMediaInfo(),De=pe.bitrateList.map(function(Me){return Me.bandwidth/1e3});return Q.state=1,Q.bitrates=De,Q.lastQuality=0,function(Me){!Me||!Me.type||(x[Me.type]={},x[Me.type].w=[],x[Me.type].prev_w=[],x[Me.type].Q=0,x[Me.type].segment_request_start_s=0,x[Me.type].segment_download_finish_s=0,x[Me.type].B_target=1.5)}(pe),L(Q),Q}function L(ae){ae.placeholderBuffer=0,ae.mostAdvancedSegmentStart=NaN,ae.lastSegmentWasReplacement=!1,ae.lastSegmentStart=NaN,ae.lastSegmentDurationS=NaN,ae.lastSegmentRequestTimeMs=NaN,ae.lastSegmentFinishTimeMs=NaN}function Z(){for(var ae in U)if(U.hasOwnProperty(ae)){var Q=U[ae];Q.state!==0&&(Q.state=1,L(Q))}}function b(ae){if(ae&&ae.chunk&&ae.chunk.mediaInfo){var Q=U[ae.chunk.mediaInfo.type],pe=x[ae.chunk.mediaInfo.type];if(Q&&Q.state!==0){var De=ae.chunk.start;isNaN(Q.mostAdvancedSegmentStart)||De>Q.mostAdvancedSegmentStart?(Q.mostAdvancedSegmentStart=De,Q.lastSegmentWasReplacement=!1):Q.lastSegmentWasReplacement=!0,Q.lastSegmentStart=De,Q.lastSegmentDurationS=ae.chunk.duration,Q.lastQuality=ae.chunk.quality,le(Q,pe)}}}function V(ae){if(ae&&ae.metric===f.a.HTTP_REQUEST&&ae.value&&ae.value.type===F.a.MEDIA_SEGMENT_TYPE&&ae.value.trace&&ae.value.trace.length){var Q=U[ae.mediaType],pe=x[ae.mediaType];Q&&Q.state!==0&&(Q.lastSegmentRequestTimeMs=ae.value.trequest.getTime(),Q.lastSegmentFinishTimeMs=ae.value._tfinish.getTime(),le(Q,pe))}}function le(ae,Q){isNaN(ae.lastSegmentStart)||isNaN(ae.lastSegmentRequestTimeMs)||(Q.segment_request_start_s=.001*ae.lastSegmentRequestTimeMs,Q.segment_download_finish_s=.001*ae.lastSegmentFinishTimeMs,ae.lastSegmentStart=NaN,ae.lastSegmentRequestTimeMs=NaN)}function Ie(ae){if(ae&&ae.mediaType){var Q=U[ae.mediaType];Q&&Q.state!==0&&(Q.abrQuality=ae.newQuality)}}function me(ae,Q){if(ae.length!==Q.length)return-1;for(var pe=0,De=0;De<ae.length;De++)pe+=ae[De]*Q[De];return pe}function ke(){U={},x={}}return q={getMaxIndex:function(ae){var Q,pe=Object(u.a)(y).create(),De=Math.pow(4,.99),Me=Math.max(Math.pow(4,1),De*Math.sqrt(4)),Te=ae.getMediaInfo(),tt=ae.getMediaType(),ht=Te.bitrateList.map(function(Pn){return Pn.bandwidth}),St=ht.length,It=ae.getScheduleController(),bt=ae.getStreamInfo(),Nt=ae.getAbrController(),wt=Nt.getThroughputHistory(),Dt=bt&&bt.manifestInfo&&bt.manifestInfo.isDynamic,Rt=ae.useL2AABR(),en=_.getCurrentBufferLevel(tt,!0),Ut=wt.getSafeAverageThroughput(tt,Dt),sn=wt.getAverageThroughput(tt,Dt),Mn=wt.getAverageLatency(tt),En=ae.getVideoModel().getPlaybackRate();if(!(ae&&ae.hasOwnProperty("getMediaInfo")&&ae.hasOwnProperty("getMediaType")&&ae.hasOwnProperty("getScheduleController")&&ae.hasOwnProperty("getStreamInfo")&&ae.hasOwnProperty("getAbrController")&&ae.hasOwnProperty("useL2AABR"))||(pe.reason=pe.reason||{},!Rt||tt===l.a.AUDIO))return pe;It.setTimeToLoadDelay(0);var Xt=function(Pn){var _n=Pn.getMediaType(),Dr=U[_n];return Dr||(Dr=I(Pn),U[_n]=Dr),Dr}(ae);if(Xt.state===0)return pe;var Qt=x[tt];if(!Qt||(pe.reason.state=Xt.state,pe.reason.throughput=sn,pe.reason.latency=Mn,isNaN(sn)))return pe;switch(Xt.state){case 1:if(Q=Nt.getQualityForBitrate(Te,Ut,bt.id,Mn),pe.quality=Q,pe.reason.throughput=Ut,Xt.lastQuality=Q,!isNaN(Xt.lastSegmentDurationS)&&en>=Qt.B_target){Xt.state=2,Qt.Q=De;for(var Jn=0;Jn<St;++Jn)Jn===Xt.lastQuality?Qt.prev_w[Jn]=1:Qt.prev_w[Jn]=0}break;case 2:var Xn=[],yn=_.getCurrentHttpRequest(tt).trace.reduce(function(Pn,_n){return Pn+_n.d},0),rr=_.getCurrentHttpRequest(tt).trace.reduce(function(Pn,_n){return Pn+_n.b[0]},0),un=Math.round(8*rr/yn);un<1&&(un=1);for(var Qn=Xt.lastSegmentDurationS,qn=1,wn=0;wn<St;++wn)ht[wn]=ht[wn]/1e3,En*ht[wn]>un&&(qn=-1),Qt.w[wn]=Qt.prev_w[wn]+qn*(Qn/(2*Me))*((Qt.Q+De)*(En*ht[wn]/un));Qt.w=function(Pn){for(var _n=Pn.length,Dr=!1,Ni=[],li=0;li<_n;++li)Ni[li]=Pn[li];for(var Oi=Pn.sort(function(oa,Di){return Di-oa}),_i=0,ci=0,aa=[],yr=0;yr<_n-1;++yr)if((ci=((_i+=Oi[yr])-1)/(yr+1))>=Oi[yr+1]){Dr=!0;break}Dr||(ci=(_i+Oi[_n-1]-1)/_n);for(var Hr=0;Hr<_n;++Hr)aa[Hr]=Math.max(Ni[Hr]-ci,0);return aa}(Qt.w);for(var bn=0;bn<St;++bn)Xn[bn]=Qt.w[bn]-Qt.prev_w[bn],Qt.prev_w[bn]=Qt.w[bn];Qt.Q=Math.max(0,Qt.Q-Qn+Qn*En*((me(ht,Qt.prev_w)+me(ht,Xn))/un));for(var Or=[],ur=0;ur<St;++ur)Or[ur]=Math.abs(ht[ur]-me(Qt.w,ht));(Q=Or.indexOf(Math.min.apply(Math,Or)))>Xt.lastQuality&&ht[Xt.lastQuality+1]<=un&&(Q=Xt.lastQuality+1),ht[Q]>=un&&(Qt.Q=2*Math.max(De,Qt.Q)),pe.quality=Q,pe.reason.throughput=sn,pe.reason.latency=Mn,pe.reason.bufferLevel=en,Xt.lastQuality=pe.quality;break;default:h.debug("L2A ABR rule invoked in bad state."),pe.quality=Nt.getQualityForBitrate(Te,Ut,bt.id,Mn),pe.reason.state=Xt.state,pe.reason.throughput=Ut,pe.reason.latency=Mn,Xt.state=1,L(Xt)}return pe},reset:function(){ke(),E.off(p.a.PLAYBACK_SEEKING,Z,q),E.off(p.a.MEDIA_FRAGMENT_LOADED,b,q),E.off(p.a.METRIC_ADDED,V,q),E.off(p.a.QUALITY_CHANGE_REQUESTED,Ie,q)}},h=Object(T.a)(y).getInstance().getLogger(q),ke(),E.on(p.a.PLAYBACK_SEEKING,Z,q),E.on(p.a.MEDIA_FRAGMENT_LOADED,b,q),E.on(p.a.METRIC_ADDED,V,q),E.on(p.a.QUALITY_CHANGE_REQUESTED,Ie,q),q}Be.__dashjs_factory_name="L2ARule";var Le=o.a.getClassFactory(Be),X="manual_weight_selection",P="random_weight_selection",J="dynamic_weight_selection";function oe(){var He,q,U,x,h,y,_,E,I,L=this.context;function Z(){U=null,x=1,h=100,y=0,_=null,E=null,I=J}function b(){var ae=0;if(U)for(var Q=0;Q<U.length;Q++){var pe=U[Q];pe.state.throughput>ae&&(ae=pe.state.throughput)}return ae}function V(ae,Q,pe){var De=ae.map(function(Me,Te){return pe[Te]*Math.pow(Me-Q[Te],2)}).reduce(function(Me,Te){return Me+Te});return(De<0?-1:1)*Math.sqrt(Math.abs(De))}function le(ae,Q){return V([ae.state.throughput,ae.state.latency,ae.state.rebuffer,ae.state.switch],[Q.state.throughput,Q.state.latency,Q.state.rebuffer,Q.state.switch],[1,1,1,1])}function Ie(ae,Q,pe){for(var De=0;De<Q.length;De++){var Me=Q[De],Te=le(Me,ae);me(Me,pe,Math.exp(-1*Math.pow(Te,2)/(2*Math.pow(.1,2))))}}function me(ae,Q,pe){var De=ae.state,Me=[.01,.01,.01,.01];De.throughput=De.throughput+(Q[0]-De.throughput)*Me[0]*pe,De.latency=De.latency+(Q[1]-De.latency)*Me[1]*pe,De.rebuffer=De.rebuffer+(Q[2]-De.rebuffer)*Me[2]*pe,De.switch=De.switch+(Q[3]-De.switch)*Me[3]*pe}function ke(ae,Q,pe,De,Me,Te,tt){_||(_=E[E.length-1]);var ht=ae.findWeightVector(Q,pe,De,Me,Te,tt);ht!==null&&ht!==-1&&(_=ht)}return He={getNextQuality:function(ae,Q,pe,De,Me,Te,tt){var ht=pe,St=De,It=Q,bt=function(Qn){if(!U){U=[];var qn=Qn.bitrateList,wn=[];y=qn[0].bandwidth,qn.forEach(function(Pn){wn.push(Pn.bandwidth),Pn.bandwidth<y&&(y=Pn.bandwidth)}),ur=wn.map(function(Pn){return Math.pow(Pn,2)}).reduce(function(Pn,_n){return Pn+_n}),x=Math.sqrt(ur);for(var bn=0;bn<qn.length;bn++){var Or={qualityIndex:bn,bitrate:qn[bn].bandwidth,state:{throughput:qn[bn].bandwidth/x,latency:0,rebuffer:0,switch:0}};U.push(Or)}E=function(Pn){var _n=[],Dr=function(Vu){for(var Ao=[],ms=0;ms<Vu;ms++){var gs=[Math.random()*b(),Math.random(),Math.random(),Math.random()];Ao.push(gs)}return Ao}(Math.pow(Pn.length,2));_n.push(Dr[0]);for(var Ni=[1,1,1,1],li=1;li<Pn.length;li++){for(var Oi=null,_i=null,ci=0;ci<Dr.length;ci++){for(var aa=Dr[ci],yr=null,Hr=0;Hr<_n.length;Hr++){var oa=V(aa,_n[Hr],Ni);(yr===null||oa<yr)&&(yr=oa)}(_i===null||yr>_i)&&(Oi=aa,_i=yr)}_n.push(Oi)}for(var Di=null,vo=null,sa=0;sa<_n.length;sa++){for(var ua=0,la=0;la<_n.length;la++)sa!==la&&(ua+=V(_n[sa],_n[la],Ni));(Di===null||ua>Di)&&(Di=ua,vo=sa)}var ca=[];for(ca.push(_n[vo]),_n.splice(vo,1);_n.length>0;){for(var Eo=null,bo=null,fa=0;fa<_n.length;fa++){var ps=V(ca[0],_n[fa],Ni);(Eo===null||ps<Eo)&&(Eo=ps,bo=fa)}ca.push(_n[bo]),_n.splice(bo,1)}return ca}(U)}var ur;return U}(ae),Nt=Q/x;Nt>1&&(Nt=b()),pe/=h,q.debug("getNextQuality called throughput:".concat(Nt," latency:").concat(pe," bufferSize:").concat(De," currentQualityIndex:").concat(Te," playbackRate:").concat(Me));var wt=bt[Te],Dt=wt.bitrate*tt.getSegmentDuration()/It,Rt=Math.max(0,Dt-St);if(St-Dt<tt.getMinBuffer())return q.debug("Buffer is low for bitrate= ".concat(wt.bitrate," downloadTime=").concat(Dt," currentBuffer=").concat(St," rebuffer=").concat(Rt)),function(Qn,qn){var wn=0,bn=Qn;if(U)for(var Or=0;Or<U.length;Or++){var ur=U[Or];ur.bitrate<Qn.bitrate&&ur.bitrate>wn&&qn>ur.bitrate&&(wn=ur.bitrate,bn=ur)}return bn}(wt,It).qualityIndex;switch(I){case X:_=[.4,.4,.4,.4];break;case P:(function(Qn){_=function(qn,wn){for(var bn=[],Or=Math.sqrt(2/qn),ur=0;ur<wn;ur++)bn.push(Math.random()*Or);return _=bn}(Qn.length,4)})(bt);break;case J:ke(tt,bt,ht,St,Rt,It,Me);break;default:ke(tt,bt,ht,St,Rt,It,Me)}for(var en=null,Ut=null,sn=null,Mn=0;Mn<bt.length;Mn++){var En=bt[Mn],Xt=En.state,Qt=[Xt.throughput,Xt.latency,Xt.rebuffer,Xt.switch],Jn=_.slice(),Xn=tt.getNextBufferWithBitrate(En.bitrate,St,It),yn=Xn<tt.getMinBuffer();yn&&q.debug("Buffer is low for bitrate=".concat(En.bitrate," downloadTime=").concat(Dt," currentBuffer=").concat(St," nextBuffer=").concat(Xn)),(En.bitrate>Q-1e4||yn)&&En.bitrate!==y&&(Jn[0]=100);var rr=V(Qt,[Nt,0,0,0],Jn);(en===null||rr<en)&&(en=rr,Ut=En.qualityIndex,sn=En)}var un=Math.abs(wt.bitrate-sn.bitrate)/x;return Ie(wt,bt,[Nt,pe,Rt,un]),Ie(sn,bt,[Nt,0,0,un]),Ut},reset:function(){Z()}},q=Object(T.a)(L).getInstance().getLogger(He),Z(),He}oe.__dashjs_factory_name="LearningAbrController";var te=o.a.getClassFactory(oe),ve=function He(){(function(q,U){if(!(q instanceof U))throw new TypeError("Cannot call a class as a function")})(this,He),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0};function Ge(){var He,q,U,x,h;function y(){q=null,U=null,x=null,h=null}function _(I,L,Z,b){var V=new ve;return V.type=I,V.weights.bitrateReward=L||1,V.weights.bitrateSwitchPenalty=1,V.weights.rebufferPenalty=Z||1e3,V.weights.latencyPenalty=[],V.weights.latencyPenalty.push({threshold:1.1,penalty:.05*b}),V.weights.latencyPenalty.push({threshold:1e8,penalty:.1*Z}),V.weights.playbackSpeedPenalty=b||200,V}function E(I,L,Z,b,V){V.bitrateWSum+=V.weights.bitrateReward*I,V.lastBitrate&&(V.bitrateSwitchWSum+=V.weights.bitrateSwitchPenalty*Math.abs(I-V.lastBitrate)),V.lastBitrate=I,V.rebufferWSum+=V.weights.rebufferPenalty*L;for(var le=0;le<V.weights.latencyPenalty.length;le++){var Ie=V.weights.latencyPenalty[le];if(Z<=Ie.threshold){V.latencyWSum+=Ie.penalty*Z;break}}V.playbackSpeedWSum+=V.weights.playbackSpeedPenalty*Math.abs(1-b),V.totalQoe=V.bitrateWSum-V.bitrateSwitchWSum-V.rebufferWSum-V.latencyWSum-V.playbackSpeedWSum}return He={setupPerSegmentQoe:function(I,L,Z){q=_("segment",I,L,Z),U=I,x=L,h=Z},logSegmentMetrics:function(I,L,Z,b){q&&E(I,L,Z,b,q)},getPerSegmentQoe:function(){return q},calculateSingleUseQoe:function(I,L,Z,b){var V=null;return U&&x&&h&&(V=_("segment",U,x,h)),V?(E(I,L,Z,b,V),V.totalQoe):0},reset:function(){y()}},y(),He}Ge.__dashjs_factory_name="LoLpQoeEvaluator";var Ke=o.a.getClassFactory(Ge);function We(He){var q,U,x,h,y,_=He.targetLatency,E=He.bufferMin,I=He.segmentDuration,L=He.qoeEvaluator;function Z(){return I}function b(V,le){var Ie=Z();return le>Ie?V-Ie:V+Ie-le}return q={getMinBuffer:function(){return E},getSegmentDuration:Z,getNextBufferWithBitrate:function(V,le,Ie){return b(le,V*I/Ie)},getNextBuffer:b,findWeightVector:function(V,le,Ie,me,ke,ae){var Q=null,pe=null,De=null,Me=Math.abs(le-x);return V.forEach(function(Te){U.forEach(function(tt){tt[0];var ht=tt[1],St=tt[2],It=(tt[3],Te.bitrate*I/ke),bt=b(Ie,It),Nt=(St===0?10:1/St)*Math.max(1e-5,It-bt),wt=(ht===0?10:1/ht)*Te.state.latency,Dt=L.calculateSingleUseQoe(Te.bitrate,Nt,wt,ae);(Q===null||Dt>Q)&&function(Rt,en,Ut){return Rt>_+Ut?!1:en>=E}(le,bt,Me)&&(Q=Dt,pe=tt,De=Te.bitrate)})}),pe===null&&De===null&&(pe=-1),x=le,pe}},h=[.2,.4,.6,.8,1],y=4,U=function V(le,Ie,me){if(me===Ie)return le;for(var ke=le.length,ae=0;ae<ke;ae++)for(var Q=le.shift(),pe=0;pe<h.length;pe++)le.push(Q.concat(h[pe]));return V(le,Ie,me+1)}(h.map(function(V){return[V]}),y,1),x=0,q}We.__dashjs_factory_name="LoLpWeightSelector";var $=o.a.getClassFactory(We);function K(He){var q,U,x,h,y=(He=He||{}).dashMetrics,_=this.context;return U={getMaxIndex:function(E){try{var I=Object(u.a)(_).create(),L=E.getMediaInfo().type,Z=E.getAbrController(),b=E.getStreamInfo(),V=Z.getQualityFor(L,b.id),le=E.getMediaInfo(),Ie=y.getCurrentBufferState(L),me=E.getScheduleController(),ke=y.getCurrentBufferLevel(L,!0),ae=b&&b.manifestInfo?b.manifestInfo.isDynamic:null,Q=me.getPlaybackController(),pe=Q.getCurrentLiveLatency();if(!E.useLoLPABR()||L===l.a.AUDIO)return I;pe||(pe=0);var De=Q.getPlaybackRate(),Me=Z.getThroughputHistory().getSafeAverageThroughput(L,ae);if(q.debug("Throughput ".concat(Math.round(Me)," kbps")),isNaN(Me)||!Ie||Z.getAbandonmentStateFor(b.id,L)===f.a.ABANDON_LOAD)return I;for(var Te=le.bitrateList,tt=E.getRepresentationInfo().fragmentDuration,ht=Te[0].bandwidth/1e3,St=Te[Te.length-1].bandwidth/1e3,It=0;It<Te.length;It++){var bt=Te[It].bandwidth/1e3;bt>St?St=bt:bt<ht&&(ht=bt)}var Nt=Te[V].bandwidth/1e3,wt=y.getCurrentHttpRequest(L,!0),Dt=(wt.tresponse.getTime()-wt.trequest.getTime())/1e3,Rt=Dt>tt?Dt-tt:0;h.setupPerSegmentQoe(tt,St,ht),h.logSegmentMetrics(Nt,Rt,pe,De);var en=$(_).create({targetLatency:1.5,bufferMin:.3,segmentDuration:tt,qoeEvaluator:h});return I.quality=x.getNextQuality(le,1e3*Me,pe,ke,De,V,en),I.reason={throughput:Me,latency:pe},I.priority=u.a.PRIORITY.STRONG,me.setTimeToLoadDelay(0),I.quality!==V&&console.log("[TgcLearningRule]["+L+"] requesting switch to index: ",I.quality,"Average throughput",Math.round(Me),"kbps"),I}catch(Ut){throw Ut}},reset:function(){x.reset(),h.reset()}},q=Object(T.a)(_).getInstance().getLogger(U),x=te(_).create(),h=Ke(_).create(),U}K.__dashjs_factory_name="LoLPRule";var Ue=o.a.getClassFactory(K);function $e(He){He=He||{};var q,U,x=this.context,h=He.mediaPlayerModel,y=He.customParametersModel,_=He.dashMetrics,E=He.settings;function I(Z){return Z.filter(function(b){return b.quality>u.a.NO_CHANGE})}function L(Z){var b,V,le,Ie,me,ke={},ae=null;if(Z.length!==0){for(ke[u.a.PRIORITY.STRONG]={quality:u.a.NO_CHANGE,reason:null},ke[u.a.PRIORITY.WEAK]={quality:u.a.NO_CHANGE,reason:null},ke[u.a.PRIORITY.DEFAULT]={quality:u.a.NO_CHANGE,reason:null},b=0,V=Z.length;b<V;b+=1)(le=Z[b]).quality!==u.a.NO_CHANGE&&(ke[le.priority].quality===u.a.NO_CHANGE||ke[le.priority].quality>le.quality)&&(ke[le.priority].quality=le.quality,ke[le.priority].reason=le.reason||null);return ke[u.a.PRIORITY.WEAK].quality!==u.a.NO_CHANGE&&(ae=ke[u.a.PRIORITY.WEAK]),ke[u.a.PRIORITY.DEFAULT].quality!==u.a.NO_CHANGE&&(ae=ke[u.a.PRIORITY.DEFAULT]),ke[u.a.PRIORITY.STRONG].quality!==u.a.NO_CHANGE&&(ae=ke[u.a.PRIORITY.STRONG]),ae&&(Ie=ae.quality,me=ae.reason),Object(u.a)(x).create(Ie,me)}}return{initialize:function(){q=[],U=[],E.get().streaming.abr.useDefaultABRRules&&(E.get().streaming.abr.ABRStrategy===l.a.ABR_STRATEGY_L2A?q.push(Le(x).create({dashMetrics:_,settings:E})):E.get().streaming.abr.ABRStrategy===l.a.ABR_STRATEGY_LoLP?q.push(Ue(x).create({dashMetrics:_})):(q.push(Ee(x).create({dashMetrics:_,mediaPlayerModel:h,settings:E})),q.push(m(x).create({dashMetrics:_})),E.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&q.push(v(x).create({dashMetrics:_,settings:E})),E.get().streaming.abr.additionalAbrRules.switchHistoryRule&&q.push(M(x).create()),E.get().streaming.abr.additionalAbrRules.droppedFramesRule&&q.push(H(x).create()),E.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&U.push(A(x).create({dashMetrics:_,mediaPlayerModel:h,settings:E})))),y.getAbrCustomRules().forEach(function(Z){Z.type==="qualitySwitchRules"&&q.push(Z.rule(x).create()),Z.type==="abandonFragmentRules"&&U.push(Z.rule(x).create())})},reset:function(){[q,U].forEach(function(Z){Z&&Z.length&&Z.forEach(function(b){return b.reset&&b.reset()})}),q=[],U=[]},getMaxQuality:function(Z){return L(I(q.map(function(b){return b.getMaxIndex(Z)})))||Object(u.a)(x).create()},getMinSwitchRequest:L,shouldAbandonFragment:function(Z,b){return L(I(U.map(function(V){return V.shouldAbandon(Z,b)})))||Object(u.a)(x).create()},getQualitySwitchRules:function(){return q}}}$e.__dashjs_factory_name="ABRRulesCollection";var ot=o.a.getClassFactory($e);ot.QUALITY_SWITCH_RULES="qualitySwitchRules",ot.ABANDON_FRAGMENT_RULES="abandonFragmentRules",o.a.updateSingletonFactory($e.__dashjs_factory_name,ot),r.a=ot},function(n,r,i){function o(l,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var u=function(){function l(){(function(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l)}var f,d;return f=l,(d=[{key:"extend",value:function(m,c){if(m){var p=!!c&&c.override,T=!!c&&c.publicOnly;for(var g in m)!m.hasOwnProperty(g)||this[g]&&!p||T&&m[g].indexOf("public_")===-1||(this[g]=m[g])}}}])&&o(f.prototype,d),l}();r.a=u},function(n,r,i){var o=i(3);function u(f){var d=(f=f||{}).requestModifier;return{load:function(m){var c=new Date,p=m.request,T=new XMLHttpRequest;if(T.open(m.method,m.url,!0),p.responseType&&(T.responseType=p.responseType),p.range&&T.setRequestHeader("Range","bytes="+p.range),p.requestStartDate||(p.requestStartDate=c),d&&(T=d.modifyRequestHeader(T)),m.headers)for(var g in m.headers){var D=m.headers[g];D&&T.setRequestHeader(g,D)}T.withCredentials=m.withCredentials,T.onload=m.onload,T.onloadend=m.onend,T.onerror=m.onerror,T.onprogress=m.progress,T.onabort=m.onabort,T.ontimeout=m.ontimeout,T.timeout=m.timeout,T.send(),m.response=T},abort:function(m){var c=m.response;c.onloadend=c.onerror=c.onprogress=void 0,c.abort()}}}u.__dashjs_factory_name="XHRLoader";var l=o.a.getClassFactory(u);r.a=l},function(n,r,i){r.a=function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.schemeIdUri="",this.value=""}},function(n,r,i){var o=i(30),u=i(3),l=i(16),f=i(14),d=i(27),m=i(1);function c(){var p,T,g,D,v,w,A,N,H=this.context,S=Object(l.a)(H).getInstance();function M(){D=[],v=[],w=[],N=[],A=null,T=[]}function F(Le,X){var P=-1;Le.some(function(J,oe){if(J===X)return P=oe,!0}),P<0||Le.splice(P,1)}function ie(Le){var X;for(X=0;X<N.length;X++)if(N[X].rulename===Le)return X;return-1}function Ee(Le,X){Be(Le,X);var P=new o.a;P.schemeIdUri=Le,P.value=X,T.push(P)}function Be(Le,X){Object(f.b)(Le,"string"),Object(f.b)(X,"string"),T.forEach(function(P,J){P.schemeIdUri===Le&&P.value===X&&T.splice(J,1)})}return p={getCustomInitialTrackSelectionFunction:function(){return A},setCustomInitialTrackSelectionFunction:function(Le){A=Le},resetCustomInitialTrackSelectionFunction:function(){A=null},getLicenseResponseFilters:function(){return v},getLicenseRequestFilters:function(){return D},getCustomCapabilitiesFilters:function(){return w},registerCustomCapabilitiesFilter:function(Le){w.push(Le)},registerLicenseResponseFilter:function(Le){v.push(Le)},registerLicenseRequestFilter:function(Le){D.push(Le)},unregisterCustomCapabilitiesFilter:function(Le){F(w,Le)},unregisterLicenseResponseFilter:function(Le){F(v,Le)},unregisterLicenseRequestFilter:function(Le){F(D,Le)},addAbrCustomRule:function(Le,X,P){if(typeof Le!="string"||Le!==d.a.ABANDON_FRAGMENT_RULES&&Le!==d.a.QUALITY_SWITCH_RULES||typeof X!="string")throw m.a.BAD_ARGUMENT_ERROR;var J=ie(X);J===-1?N.push({type:Le,rulename:X,rule:P}):(N[J].type=Le,N[J].rule=P)},removeAllAbrCustomRule:function(){N=[]},removeAbrCustomRule:function(Le){if(Le){var X=ie(Le);X!==-1&&N.splice(X,1)}else N=[]},getAbrCustomRules:function(){return N},addUTCTimingSource:Ee,removeUTCTimingSource:Be,getUTCTimingSources:function(){return T},clearDefaultUTCTimingSources:function(){T=[]},restoreDefaultUTCTimingSources:function(){var Le=S.get().streaming.utcSynchronization.defaultTimingSource;Ee(Le.scheme,Le.value)},setXHRWithCredentialsForType:function Le(X,P){X?g[X]=!!P:Object.keys(g).forEach(function(J){Le(J,P)})},getXHRWithCredentialsForType:function(Le){var X=g[Le];return X===void 0?g.default:X},setConfig:function(){},reset:function(){M()}},g={default:!1},M(),p}c.__dashjs_factory_name="CustomParametersModel",r.a=u.a.getSingletonFactory(c)},function(n,r,i){r.a=function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},function(n,r,i){var o=i(1),u=i(0);function l(J,oe){for(var te=0;te<oe.length;te++){var ve=oe[te];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(J,ve.key,ve)}}var f=function(){function J(){(function(ve,Ge){if(!(ve instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,J),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}var oe,te;return oe=J,(te=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==u.a.BASE_URL&&this.segmentInfoType!==u.a.SEGMENT_BASE&&!this.indexRange}}])&&l(oe.prototype,te),J}(),d=function J(){(function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,J),this.period=null,this.index=-1,this.type=null},m=function J(){(function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,J),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};m.DEFAULT_ID="defaultId";var c=m,p=function J(){(function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,J),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},T=i(30),g=i(43),D=i(39),v=function J(){(function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,J),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},w=function J(){(function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,J),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},A=i(44),N=i(13),H=i(3),S=i(6),M=i(10),F=i(11),ie=i(34);function Ee(J,oe){var te;if(typeof Symbol>"u"||J[Symbol.iterator]==null){if(Array.isArray(J)||(te=Le(J))||oe&&J&&typeof J.length=="number"){te&&(J=te);var ve=0,Ge=function(){};return{s:Ge,n:function(){return ve>=J.length?{done:!0}:{done:!1,value:J[ve++]}},e:function(K){throw K},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ke,We=!0,$=!1;return{s:function(){te=J[Symbol.iterator]()},n:function(){var K=te.next();return We=K.done,K},e:function(K){$=!0,Ke=K},f:function(){try{We||te.return==null||te.return()}finally{if($)throw Ke}}}}function Be(J){return function(oe){if(Array.isArray(oe))return X(oe)}(J)||function(oe){if(typeof Symbol<"u"&&Symbol.iterator in Object(oe))return Array.from(oe)}(J)||Le(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Le(J,oe){if(J){if(typeof J=="string")return X(J,oe);var te=Object.prototype.toString.call(J).slice(8,-1);return te==="Object"&&J.constructor&&(te=J.constructor.name),te==="Map"||te==="Set"?Array.from(J):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?X(J,oe):void 0}}function X(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var te=0,ve=new Array(oe);te<oe;te++)ve[te]=J[te];return ve}function P(){var J,oe,te,ve,Ge=this.context,Ke=Object(N.a)(Ge).getInstance(),We=Number.isInteger||function(b){return typeof b=="number"&&isFinite(b)&&Math.floor(b)===b};function $(b,V){if(!b)throw new Error("adaptation is not defined");if(!V)throw new Error("type is not defined");if(b.Representation_asArray&&b.Representation_asArray.length){var le=_(b.Representation_asArray[0]);if(le&&le.length>0&&ie.a.indexOf(le[0].schemeIdUri)>=0)return V===o.a.IMAGE}if(b.ContentComponent_asArray&&b.ContentComponent_asArray.length>0){if(b.ContentComponent_asArray.length>1)return V===o.a.MUXED;if(b.ContentComponent_asArray[0].contentType===V)return!0}var Ie=V===o.a.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(V);if(b.Representation_asArray&&b.Representation_asArray.length){var me=b.Representation_asArray[0].codecs;if(Ie.test(me))return!0}if(b.hasOwnProperty(u.a.MIME_TYPE))return Ie.test(b.mimeType);if(b.Representation_asArray){for(var ke,ae=0;ae<b.Representation_asArray.length;ae++)if((ke=b.Representation_asArray[ae]).hasOwnProperty(u.a.MIME_TYPE))return Ie.test(ke.mimeType)}return!1}function K(b){if(!b)throw new Error("adaptation is not defined");if(b.hasOwnProperty(u.a.SEGMENT_TEMPLATE)||b.hasOwnProperty(u.a.SEGMENT_TIMELINE)||b.hasOwnProperty(u.a.SEGMENT_LIST)||b.hasOwnProperty(u.a.SEGMENT_BASE))return!0;if(b.Representation_asArray&&b.Representation_asArray.length>0){var V=b.Representation_asArray[0];if(V.hasOwnProperty(u.a.SEGMENT_TEMPLATE)||V.hasOwnProperty(u.a.SEGMENT_TIMELINE)||V.hasOwnProperty(u.a.SEGMENT_LIST)||V.hasOwnProperty(u.a.SEGMENT_BASE))return!0}return!1}function Ue(b){return $(b,o.a.AUDIO)}function $e(b){return $(b,o.a.VIDEO)}function ot(b){return $(b,o.a.TEXT)}function He(b){return $(b,o.a.IMAGE)}function q(){return function(b,V){return b.bandwidth-V.bandwidth}}function U(b){return b&&Array.isArray(b.Representation_asArray)&&b.Representation_asArray.sort(function(V,le){return V.bandwidth-le.bandwidth}),b}function x(b,V){return b&&b.Period_asArray&&We(V)&&b.Period_asArray[V]?b.Period_asArray[V].AdaptationSet_asArray:[]}function h(b){return b&&b.Period_asArray?b.Period_asArray:[]}function y(b){var V=!1;return b&&b.hasOwnProperty("type")&&(V=b.type===u.a.DYNAMIC),V}function _(b){return b&&b.EssentialProperty_asArray&&b.EssentialProperty_asArray.length?b.EssentialProperty_asArray.map(function(V){return{schemeIdUri:V.schemeIdUri,value:V.value}}):null}function E(b){if(!b||!b.S_asArray)return NaN;var V=b.S_asArray[0],le=b.S_asArray[1];return V.hasOwnProperty("d")?V.d:le.t-V.t}function I(b,V){if(!b)throw new Error("Period cannot be null or undefined");var le=c.DEFAULT_ID+"_"+V;return b.hasOwnProperty(u.a.ID)&&b.id.length>0&&b.id!=="__proto__"&&(le=b.id),le}function L(b,V){var le,Ie=[];if(!b)return Ie;for(le=0;le<b.length;le++){var me=new v;if(me.timescale=1,me.representation=V,!b[le].hasOwnProperty(o.a.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");me.schemeIdUri=b[le].schemeIdUri,b[le].hasOwnProperty(u.a.TIMESCALE)&&(me.timescale=b[le].timescale),b[le].hasOwnProperty(u.a.VALUE)&&(me.value=b[le].value),Ie.push(me)}return Ie}function Z(b){var V=[],le=b.BaseURL_asArray||[b.baseUri],Ie=!1;return le.some(function(me){if(me){var ke=new D.a,ae=me.__text||me;return Ke.isRelative(ae)&&(Ie=!0,b.baseUri&&(ae=Ke.resolve(ae,b.baseUri))),ke.url=ae,me.hasOwnProperty(u.a.SERVICE_LOCATION)&&me.serviceLocation.length?ke.serviceLocation=me.serviceLocation:ke.serviceLocation=ae,me.hasOwnProperty(u.a.DVB_PRIORITY)&&(ke.dvb_priority=me[u.a.DVB_PRIORITY]),me.hasOwnProperty(u.a.DVB_WEIGHT)&&(ke.dvb_weight=me[u.a.DVB_WEIGHT]),me.hasOwnProperty(u.a.AVAILABILITY_TIME_OFFSET)&&(ke.availabilityTimeOffset=me[u.a.AVAILABILITY_TIME_OFFSET]),me.hasOwnProperty(u.a.AVAILABILITY_TIME_COMPLETE)&&(ke.availabilityTimeComplete=me[u.a.AVAILABILITY_TIME_COMPLETE]!=="false"),V.push(ke),Ie}}),V}return J={getIsTypeOf:$,getIsText:ot,getIsFragmented:K,getProducerReferenceTimesForAdaptation:function(b){var V=b&&b.hasOwnProperty(u.a.PRODUCERREFERENCETIME_ASARRAY)?b[u.a.PRODUCERREFERENCETIME_ASARRAY]:[];(b&&b.hasOwnProperty(u.a.REPRESENTATION_ASARRAY)?b[u.a.REPRESENTATION_ASARRAY]:[]).forEach(function(Ie){Ie.hasOwnProperty(u.a.PRODUCERREFERENCETIME_ASARRAY)&&V.push.apply(V,Be(Ie[u.a.PRODUCERREFERENCETIME_ASARRAY]))});var le=[];return V.forEach(function(Ie){var me=new w;Ie.hasOwnProperty(u.a.ID)&&(me[u.a.ID]=Ie[u.a.ID],Ie.hasOwnProperty(u.a.WALL_CLOCK_TIME)&&(me[u.a.WALL_CLOCK_TIME]=Ie[u.a.WALL_CLOCK_TIME],Ie.hasOwnProperty(u.a.PRESENTATION_TIME)&&(me[u.a.PRESENTATION_TIME]=Ie[u.a.PRESENTATION_TIME],le.push(me))))}),le},getLanguageForAdaptation:function(b){var V="";return b&&b.hasOwnProperty(u.a.LANG)&&(V=b.lang.replace(/[^A-Za-z0-9-]/g,"")),V},getViewpointForAdaptation:function(b){return b&&b.hasOwnProperty(u.a.VIEWPOINT)?b.Viewpoint:null},getRolesForAdaptation:function(b){return b&&b.hasOwnProperty(u.a.ROLE_ASARRAY)?b.Role_asArray:[]},getAccessibilityForAdaptation:function(b){return b&&b.hasOwnProperty(u.a.ACCESSIBILITY_ASARRAY)?b.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(b){return b&&b.hasOwnProperty(u.a.AUDIOCHANNELCONFIGURATION_ASARRAY)?b.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(b){return b&&b.hasOwnProperty(u.a.AUDIOCHANNELCONFIGURATION_ASARRAY)?b.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(b,V,le){var Ie=x(V,le);return Ie.length>0&&We(b)?Ie[b]:null},getIndexForAdaptation:function(b,V,le){if(!b)return-1;for(var Ie=x(V,le),me=0;me<Ie.length;me++)if(Object(A.a)(Ge).getInstance().areEqual(Ie[me],b))return me;return-1},getAdaptationForId:function(b,V,le){var Ie,me,ke=x(V,le);for(Ie=0,me=ke.length;Ie<me;Ie++)if(ke[Ie].hasOwnProperty(u.a.ID)&&ke[Ie].id===b)return ke[Ie];return null},getAdaptationsForType:function(b,V,le){var Ie,me,ke=x(b,V),ae=[];for(Ie=0,me=ke.length;Ie<me;Ie++)$(ke[Ie],le)&&ae.push(U(ke[Ie]));return ae},getRealPeriods:h,getRealPeriodForIndex:function(b,V){var le=h(V);return le.length>0&&We(b)?le[b]:null},getCodec:function(b,V,le){var Ie=null;if(b&&b.Representation_asArray&&b.Representation_asArray.length>0){var me=We(V)&&V>=0&&V<b.Representation_asArray.length?b.Representation_asArray[V]:b.Representation_asArray[0];me&&(Ie=me.mimeType+';codecs="'+me.codecs+'"',le&&me.width!==void 0&&(Ie+=';width="'+me.width+'";height="'+me.height+'"'))}return Ie&&(Ie=Ie.replace(/\sprofiles=[^;]*/g,"")),Ie},getSelectionPriority:function(b){try{var V=b&&b.selectionPriority!==void 0?parseInt(b.selectionPriority):1;return isNaN(V)?1:V}catch{return 1}},getMimeType:function(b){return b&&b.Representation_asArray&&b.Representation_asArray.length>0?b.Representation_asArray[0].mimeType:null},getKID:function(b){return b&&b.hasOwnProperty(u.a.CENC_DEFAULT_KID)?b[u.a.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(b){if(!b||!Array.isArray(b.Label_asArray))return[];for(var V=[],le=0;le<b.Label_asArray.length;le++)V.push({lang:b.Label_asArray[le].lang,text:b.Label_asArray[le].__text||b.Label_asArray[le]});return V},getContentProtectionData:function(b){return b&&b.hasOwnProperty(u.a.CONTENTPROTECTION_ASARRAY)&&b.ContentProtection_asArray.length!==0?b.ContentProtection_asArray:null},getIsDynamic:y,getId:function(b){return b&&b[u.a.ID]||null},hasProfile:function(b,V){var le=!1;return b&&b.profiles&&b.profiles.length>0&&(le=b.profiles.indexOf(V)!==-1),le},getDuration:function(b){return b&&b.hasOwnProperty(u.a.MEDIA_PRESENTATION_DURATION)?b.mediaPresentationDuration:b&&b.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(b){return b&&b.bandwidth?b.bandwidth:NaN},getManifestUpdatePeriod:function(b){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=NaN;return b&&b.hasOwnProperty(u.a.MINIMUM_UPDATE_PERIOD)&&(le=b.minimumUpdatePeriod),isNaN(le)?le:Math.max(le-V,1)},getPublishTime:function(b){return b&&b.hasOwnProperty(u.a.PUBLISH_TIME)?new Date(b[u.a.PUBLISH_TIME]):null},getRepresentationCount:function(b){return b&&Array.isArray(b.Representation_asArray)?b.Representation_asArray.length:0},getBitrateListForAdaptation:function(b){var V=U(b);return(V&&Array.isArray(V.Representation_asArray)?V.Representation_asArray:[]).map(function(le){return{bandwidth:le.bandwidth,width:le.width||0,height:le.height||0,scanType:le.scanType||null,id:le.id||null}})},getRepresentationFor:function(b,V){return V&&V.Representation_asArray&&V.Representation_asArray.length>0&&We(b)?V.Representation_asArray[b]:null},getRepresentationsForAdaptation:function(b){var V,le,Ie,me,ke=[],ae=function(ht){if(ht&&ht.period&&We(ht.period.index)){var St=ht.period.mpd.manifest.Period_asArray[ht.period.index];if(St&&St.AdaptationSet_asArray&&We(ht.index))return U(St.AdaptationSet_asArray[ht.index])}}(b);if(ae&&ae.Representation_asArray){if(b&&b.period&&We(b.period.index)){var Q=Z(b.period.mpd.manifest);Q&&(le=Q[0])}for(var pe=0,De=ae.Representation_asArray.length;pe<De;++pe){var Me=ae.Representation_asArray[pe],Te=new f;if(Te.index=pe,Te.adaptation=b,Me.hasOwnProperty(u.a.ID)&&(Te.id=Me.id),Me.hasOwnProperty(u.a.CODECS)&&(Te.codecs=Me.codecs),Me.hasOwnProperty(u.a.MIME_TYPE)&&(Te.mimeType=Me[u.a.MIME_TYPE]),Me.hasOwnProperty(u.a.CODEC_PRIVATE_DATA)&&(Te.codecPrivateData=Me.codecPrivateData),Me.hasOwnProperty(u.a.BANDWITH)&&(Te.bandwidth=Me.bandwidth),Me.hasOwnProperty(u.a.WIDTH)&&(Te.width=Me.width),Me.hasOwnProperty(u.a.HEIGHT)&&(Te.height=Me.height),Me.hasOwnProperty(u.a.SCAN_TYPE)&&(Te.scanType=Me.scanType),Me.hasOwnProperty(u.a.MAX_PLAYOUT_RATE)&&(Te.maxPlayoutRate=Me.maxPlayoutRate),Me.hasOwnProperty(u.a.SEGMENT_BASE)?(V=Me.SegmentBase,Te.segmentInfoType=u.a.SEGMENT_BASE):Me.hasOwnProperty(u.a.SEGMENT_LIST)?(V=Me.SegmentList).hasOwnProperty(u.a.SEGMENT_TIMELINE)?Te.segmentInfoType=u.a.SEGMENT_TIMELINE:Te.segmentInfoType=u.a.SEGMENT_LIST:Me.hasOwnProperty(u.a.SEGMENT_TEMPLATE)?((V=Me.SegmentTemplate).hasOwnProperty(u.a.SEGMENT_TIMELINE)?Te.segmentInfoType=u.a.SEGMENT_TIMELINE:Te.segmentInfoType=u.a.SEGMENT_TEMPLATE,V.hasOwnProperty(u.a.INITIALIZATION_MINUS)&&(Te.initialization=V.initialization.split("$Bandwidth$").join(Me.bandwidth).split("$RepresentationID$").join(Me.id))):Te.segmentInfoType=u.a.BASE_URL,Te.essentialProperties=_(Me),V){if(V.hasOwnProperty(u.a.INITIALIZATION)){var tt=V.Initialization;tt.hasOwnProperty(u.a.SOURCE_URL)&&(Te.initialization=tt.sourceURL),tt.hasOwnProperty(u.a.RANGE)&&(Te.range=tt.range)}else ot(ae)&&K(ae)&&ae.mimeType&&ae.mimeType.indexOf("application/mp4")===-1&&(Te.range=0);V.hasOwnProperty(u.a.TIMESCALE)&&(Te.timescale=V.timescale),V.hasOwnProperty(u.a.DURATION)?Te.segmentDuration=V.duration/Te.timescale:Me.hasOwnProperty(u.a.SEGMENT_TEMPLATE)&&(V=Me.SegmentTemplate).hasOwnProperty(u.a.SEGMENT_TIMELINE)&&(Te.segmentDuration=E(V.SegmentTimeline)/Te.timescale),V.hasOwnProperty(u.a.MEDIA)&&(Te.media=V.media),V.hasOwnProperty(u.a.START_NUMBER)&&(Te.startNumber=V.startNumber),V.hasOwnProperty(u.a.INDEX_RANGE)&&(Te.indexRange=V.indexRange),V.hasOwnProperty(u.a.PRESENTATION_TIME_OFFSET)&&(Te.presentationTimeOffset=V.presentationTimeOffset/Te.timescale),V.hasOwnProperty(u.a.AVAILABILITY_TIME_OFFSET)?Te.availabilityTimeOffset=V.availabilityTimeOffset:le&&le.availabilityTimeOffset!==void 0&&(Te.availabilityTimeOffset=le.availabilityTimeOffset),V.hasOwnProperty(u.a.AVAILABILITY_TIME_COMPLETE)?Te.availabilityTimeComplete=V.availabilityTimeComplete!=="false":le&&le.availabilityTimeComplete!==void 0&&(Te.availabilityTimeComplete=le.availabilityTimeComplete)}Te.MSETimeOffset=(me=void 0,me=(Ie=Te).presentationTimeOffset,Ie.adaptation.period.start-me),Te.path=[b.period.index,b.index,pe],ke.push(Te)}}return ke},getAdaptationsForPeriod:function(b){var V,le,Ie,me=b&&We(b.index)?b.mpd.manifest.Period_asArray[b.index]:null,ke=[];if(me&&me.AdaptationSet_asArray)for(Ie=0;Ie<me.AdaptationSet_asArray.length;Ie++)le=me.AdaptationSet_asArray[Ie],V=new d,le.hasOwnProperty(u.a.ID)&&(V.id=le.id),V.index=Ie,V.period=b,$(le,o.a.MUXED)?V.type=o.a.MUXED:Ue(le)?V.type=o.a.AUDIO:$e(le)?V.type=o.a.VIDEO:ot(le)?V.type=o.a.TEXT:He(le)?V.type=o.a.IMAGE:oe.warn("Unknown Adaptation stream type"),ke.push(V);return ke},getRegularPeriods:function(b){var V,le,Ie=!!b&&y(b.manifest),me=[],ke=null,ae=null,Q=null,pe=null;for(le=0,V=b&&b.manifest&&b.manifest.Period_asArray?b.manifest.Period_asArray.length:0;le<V;le++)(ae=b.manifest.Period_asArray[le]).hasOwnProperty(u.a.START)?(pe=new c).start=ae.start:ke!==null&&ke.hasOwnProperty(u.a.DURATION)&&Q!==null?(pe=new c).start=parseFloat((Q.start+Q.duration).toFixed(5)):le!==0||Ie||((pe=new c).start=0),Q!==null&&isNaN(Q.duration)&&(pe!==null?Q.duration=parseFloat((pe.start-Q.start).toFixed(5)):oe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),pe!==null&&(pe.id=I(ae,le),pe.index=le,pe.mpd=b,ae.hasOwnProperty(u.a.DURATION)&&(pe.duration=ae.duration),Q&&(Q.nextPeriodId=pe.id),me.push(pe),ke=ae,Q=pe),ae=null,pe=null;return me.length===0||Q!==null&&isNaN(Q.duration)&&(Q.duration=parseFloat((function(De){(function(){if(!te||!te.hasOwnProperty("error"))throw new Error(o.a.MISSING_CONFIG_ERROR)})();var Me,Te=y(De.mpd.manifest);return De.mpd.manifest.mediaPresentationDuration?Me=De.mpd.manifest.mediaPresentationDuration:De.duration?Me=De.duration:Te?Me=Number.POSITIVE_INFINITY:te.error(new M.a(F.a.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",De)),Me}(Q)-Q.start).toFixed(5))),me},getMpd:function(b){var V=new p;return b&&(V.manifest=b,b.hasOwnProperty(u.a.AVAILABILITY_START_TIME)?V.availabilityStartTime=new Date(b.availabilityStartTime.getTime()):b.loadedTime&&(V.availabilityStartTime=new Date(b.loadedTime.getTime())),b.hasOwnProperty(u.a.AVAILABILITY_END_TIME)&&(V.availabilityEndTime=new Date(b.availabilityEndTime.getTime())),b.hasOwnProperty(u.a.MINIMUM_UPDATE_PERIOD)&&(V.minimumUpdatePeriod=b.minimumUpdatePeriod),b.hasOwnProperty(u.a.MEDIA_PRESENTATION_DURATION)&&(V.mediaPresentationDuration=b.mediaPresentationDuration),b.hasOwnProperty(u.a.SUGGESTED_PRESENTATION_DELAY)&&(V.suggestedPresentationDelay=b.suggestedPresentationDelay),b.hasOwnProperty(u.a.TIMESHIFT_BUFFER_DEPTH)&&(V.timeShiftBufferDepth=b.timeShiftBufferDepth),b.hasOwnProperty(u.a.MAX_SEGMENT_DURATION)&&(V.maxSegmentDuration=b.maxSegmentDuration),b.hasOwnProperty(u.a.PUBLISH_TIME)&&(V.publishTime=new Date(b.publishTime))),V},getEventsForPeriod:function(b){var V,le,Ie=b&&b.mpd&&b.mpd.manifest?b.mpd.manifest:null,me=Ie?Ie.Period_asArray:null,ke=me&&b&&We(b.index)?me[b.index].EventStream_asArray:null,ae=[];if(ke)for(V=0;V<ke.length;V++){var Q=new v;if(Q.period=b,Q.timescale=1,!ke[V].hasOwnProperty(o.a.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Q.schemeIdUri=ke[V][o.a.SCHEME_ID_URI],ke[V].hasOwnProperty(u.a.TIMESCALE)&&(Q.timescale=ke[V][u.a.TIMESCALE]),ke[V].hasOwnProperty(u.a.VALUE)&&(Q.value=ke[V][u.a.VALUE]),ke[V].hasOwnProperty(u.a.PRESENTATION_TIME_OFFSET)&&(Q.presentationTimeOffset=ke[V][u.a.PRESENTATION_TIME_OFFSET]),le=0;ke[V].Event_asArray&&le<ke[V].Event_asArray.length;le++){var pe=ke[V].Event_asArray[le],De=new g.a;De.presentationTime=0,De.eventStream=Q,pe.hasOwnProperty(u.a.PRESENTATION_TIME)&&(De.presentationTime=pe.presentationTime);var Me=Q.presentationTimeOffset?Q.presentationTimeOffset/Q.timescale:0;De.calculatedPresentationTime=De.presentationTime/Q.timescale+b.start-Me,pe.hasOwnProperty(u.a.DURATION)&&(De.duration=pe.duration/Q.timescale),pe.hasOwnProperty(u.a.ID)?De.id=pe.id:De.id=null,pe.Signal&&pe.Signal.Binary?De.messageData=ve.decodeArray(pe.Signal.Binary.toString()):De.messageData=pe.messageData||pe.__cdata||pe.__text,ae.push(De)}}return ae},getEssentialPropertiesForRepresentation:_,getEventStreamForAdaptationSet:function(b,V){var le,Ie,me;return b&&b.Period_asArray&&V&&V.period&&We(V.period.index)&&(Ie=b.Period_asArray[V.period.index])&&Ie.AdaptationSet_asArray&&We(V.index)&&(me=Ie.AdaptationSet_asArray[V.index])&&(le=me.InbandEventStream_asArray),L(le,null)},getEventStreamForRepresentation:function(b,V){var le,Ie,me,ke;return b&&b.Period_asArray&&V&&V.adaptation&&V.adaptation.period&&We(V.adaptation.period.index)&&(Ie=b.Period_asArray[V.adaptation.period.index])&&Ie.AdaptationSet_asArray&&We(V.adaptation.index)&&(me=Ie.AdaptationSet_asArray[V.adaptation.index])&&me.Representation_asArray&&We(V.index)&&(ke=me.Representation_asArray[V.index])&&(le=ke.InbandEventStream_asArray),L(le,V)},getUTCTimingSources:function(b){var V=y(b),le=!!b&&b.hasOwnProperty(u.a.AVAILABILITY_START_TIME),Ie=b?b.UTCTiming_asArray:null,me=[];return(V||le)&&Ie&&Ie.forEach(function(ke){var ae=new T.a;ke.hasOwnProperty(o.a.SCHEME_ID_URI)&&(ae.schemeIdUri=ke.schemeIdUri,ke.hasOwnProperty(u.a.VALUE)&&(ae.value=ke.value.toString(),me.push(ae)))}),me},getBaseURLsFromElement:Z,getRepresentationSortFunction:q,getLocation:function(b){if(b&&b.hasOwnProperty(o.a.LOCATION))return b.Location=b.Location_asArray[0],b.Location},getPatchLocation:function(b){if(b&&b.hasOwnProperty(u.a.PATCH_LOCATION))return b.PatchLocation=b.PatchLocation_asArray[0],b.PatchLocation},getSuggestedPresentationDelay:function(b){return b&&b.hasOwnProperty(u.a.SUGGESTED_PRESENTATION_DELAY)?b.suggestedPresentationDelay:null},getAvailabilityStartTime:function(b){return b&&b.hasOwnProperty(u.a.AVAILABILITY_START_TIME)&&b.availabilityStartTime!==null?b.availabilityStartTime.getTime():null},getServiceDescriptions:function(b){var V=[];if(b&&b.hasOwnProperty(u.a.SERVICE_DESCRIPTION)){var le,Ie=Ee(b.ServiceDescription_asArray);try{for(Ie.s();!(le=Ie.n()).done;){var me=le.value,ke=null,ae=null,Q=null,pe=null,De=null,Me=null;for(var Te in me)me.hasOwnProperty(Te)&&(Te===u.a.ID?ke=me[Te]:Te===u.a.SERVICE_DESCRIPTION_SCOPE?ae=me[Te].schemeIdUri:Te===u.a.SERVICE_DESCRIPTION_LATENCY?Q={target:parseInt(me[Te].target),max:parseInt(me[Te].max),min:parseInt(me[Te].min),referenceId:parseInt(me[Te].referenceId)}:Te===u.a.SERVICE_DESCRIPTION_PLAYBACK_RATE?pe={max:parseFloat(me[Te].max),min:parseFloat(me[Te].min)}:Te===u.a.SERVICE_DESCRIPTION_OPERATING_QUALITY?De={mediaType:me[Te].mediaType,max:parseInt(me[Te].max),min:parseInt(me[Te].min),target:parseInt(me[Te].target),type:me[Te].type,maxQualityDifference:parseInt(me[Te].maxQualityDifference)}:Te===u.a.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Me={mediaType:me[Te].mediaType,max:parseInt(me[Te].max),min:parseInt(me[Te].min),target:parseInt(me[Te].target)}));V.push({id:ke,schemeIdUri:ae,latency:Q,playbackRate:pe,operatingQuality:De,operatingBandwidth:Me})}}catch(tt){Ie.e(tt)}finally{Ie.f()}}return V},getSupplementalProperties:function(b){var V={};if(b&&b.hasOwnProperty(u.a.SUPPLEMENTAL_PROPERTY)){var le,Ie=Ee(b.SupplementalProperty_asArray);try{for(Ie.s();!(le=Ie.n()).done;){var me=le.value;me.hasOwnProperty(o.a.SCHEME_ID_URI)&&me.hasOwnProperty(u.a.VALUE)&&(V[me[o.a.SCHEME_ID_URI]]=me[u.a.VALUE])}}catch(ke){Ie.e(ke)}finally{Ie.f()}}return V},setConfig:function(b){b&&(b.errHandler&&(te=b.errHandler),b.BASE64&&(ve=b.BASE64))}},oe=Object(S.a)(Ge).getInstance().getLogger(J),J}P.__dashjs_factory_name="DashManifestModel",r.a=H.a.getSingletonFactory(P)},function(n,r,i){i.d(r,"a",function(){return D});var o=i(1),u=i(0),l=i(3),f=function w(){(function(A,N){if(!(A instanceof N))throw new TypeError("Cannot call a class as a function")})(this,w),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},d=i(13),m=i(12),c=i(22),p=i(29),T=i(37),g=i(38),D=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function v(w){var A,N,H,S,M,F,ie,Ee,Be=this.context,Le=w.adapter,X=w.baseURLController,P=w.streamInfo,J=w.timelineConverter,oe=w.debug,te=w.eventBus,ve=w.events,Ge=w.dashConstants,Ke=Object(d.a)(Be).getInstance();function We(K,Ue){var $e=new f;$e.id=K.id,$e.bitrate=K.bandwidth,$e.width=K.width,$e.height=K.height,$e.tilesHor=1,$e.tilesVert=1,K.essentialProperties&&K.essentialProperties.forEach(function(ot){if(D.indexOf(ot.schemeIdUri)>=0&&ot.value){var He=ot.value.split("x");He.length!==2||isNaN(He[0])||isNaN(He[1])||($e.tilesHor=parseInt(He[0],10),$e.tilesVert=parseInt(He[1],10))}}),Ue?F.updateSegmentData(K).then(function(ot){(function(He,q,U){var x=[],h=function(y,_){var E,I,L,Z,b=[],V=0;for(E=0,I=y.segments.length;E<I;E++)L=y.segments[E],(Z=Object(m.b)(J,Le.getIsDynamic(),_,L.startTime,L.duration,L.timescale,L.media,L.mediaRange,V))&&(b.push(Z),Z=null,V++);return b}(U,q);q.segments=h,He.segmentDuration=q.segments[0].duration,He.readThumbnail=function(y,_){var E=null;x.some(function(I){if(I.start<=y&&I.end>y)return E=I.url,!0}),E?_(E):q.segments.some(function(I){if(I.mediaStartTime<=y&&I.mediaStartTime+I.duration>y){var L=X.resolve(q.path);return ie.load({method:"get",url:L.url,request:{range:I.mediaRange,responseType:"arraybuffer"},onload:function(Z){var b=Ee.getSamplesInfo(Z.target.response),V=new Blob([Z.target.response.slice(b.sampleList[0].offset,b.sampleList[0].offset+b.sampleList[0].size)],{type:"image/jpeg"}),le=window.URL.createObjectURL(V);x.push({start:I.mediaStartTime,end:I.mediaStartTime+I.duration,url:le}),_&&_(le)}}),!0}})}})($e,K,ot)}):($e.startNumber=K.startNumber,$e.segmentDuration=K.segmentDuration,$e.timescale=K.timescale,$e.templateUrl=function(ot){var He=Ke.isRelative(ot.media)?Ke.resolve(ot.media,X.resolve(ot.path).url):ot.media;return He?Object(m.c)(He,ot.id):""}(K)),$e.tilesHor>0&&$e.tilesVert>0&&($e.widthPerTile=$e.width/$e.tilesHor,$e.heightPerTile=$e.height/$e.tilesVert,N.push($e))}function $(){N=[],S=-1,M=null}return A={getTracks:function(){return N},addTracks:function(){if(P&&Le&&(M=Le.getMediaInfoForType(P,o.a.IMAGE))){var K=Le.getVoRepresentations(M);K&&K.length>0&&K.forEach(function(Ue){(Ue.segmentInfoType===u.a.SEGMENT_TEMPLATE&&Ue.segmentDuration>0&&Ue.media||Ue.segmentInfoType===u.a.SEGMENT_TIMELINE)&&We(Ue),Ue.segmentInfoType===u.a.SEGMENT_BASE&&We(Ue,!0)}),N.length>0&&N.sort(function(Ue,$e){return Ue.bitrate-$e.bitrate})}},reset:$,setTrackByIndex:function(K){N&&N.length!==0&&(K>=N.length&&(K=N.length-1),S=K)},getCurrentTrack:function(){return S<0?null:N[S]},getCurrentTrackIndex:function(){return S},getThumbnailRequestForTime:function(K){for(var Ue,$e=Le.getVoRepresentations(M),ot=0;ot<$e.length;ot++)if(N[S].id===$e[ot].id){Ue=$e[ot];break}return H.getSegmentRequestForTime(M,Ue,K)}},$(),ie=Object(p.a)(Be).create({}),Ee=Object(c.a)(Be).getInstance(),F=Object(g.a)(Be).create({events:ve,eventBus:te,streamInfo:P,timelineConverter:J,dashConstants:Ge,dashMetrics:w.dashMetrics,segmentBaseController:w.segmentBaseController,type:o.a.IMAGE}),(H=Object(T.a)(Be).create({streamInfo:P,type:o.a.IMAGE,timelineConverter:J,segmentsController:F,baseURLController:X,debug:oe,eventBus:te,events:ve,dashConstants:Ge,urlUtils:Ke})).initialize(!!Le&&Le.getIsDynamic()),A}v.__dashjs_factory_name="ThumbnailTracks",r.b=l.a.getClassFactory(v)},function(n,r,i){var o=i(52),u=Object.keys||function(v){var w=[];for(var A in v)w.push(A);return w};n.exports=T;var l=i(47);l.inherits=i(40);var f=i(71),d=i(67);l.inherits(T,f);for(var m=u(d.prototype),c=0;c<m.length;c++){var p=m[c];T.prototype[p]||(T.prototype[p]=d.prototype[p])}function T(v){if(!(this instanceof T))return new T(v);f.call(this,v),d.call(this,v),v&&v.readable===!1&&(this.readable=!1),v&&v.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,v&&v.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||o.nextTick(D,this)}function D(v){v.end()}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),T.prototype._destroy=function(v,w){this.push(null),this.end(),o.nextTick(w,v)}},function(n,r,i){(function(o){function u(d,m){for(var c=0,p=d.length-1;p>=0;p--){var T=d[p];T==="."?d.splice(p,1):T===".."?(d.splice(p,1),c++):c&&(d.splice(p,1),c--)}if(m)for(;c--;c)d.unshift("..");return d}function l(d,m){if(d.filter)return d.filter(m);for(var c=[],p=0;p<d.length;p++)m(d[p],p,d)&&c.push(d[p]);return c}r.resolve=function(){for(var d="",m=!1,c=arguments.length-1;c>=-1&&!m;c--){var p=c>=0?arguments[c]:o.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(d=p+"/"+d,m=p.charAt(0)==="/")}return(m?"/":"")+(d=u(l(d.split("/"),function(T){return!!T}),!m).join("/"))||"."},r.normalize=function(d){var m=r.isAbsolute(d),c=f(d,-1)==="/";return(d=u(l(d.split("/"),function(p){return!!p}),!m).join("/"))||m||(d="."),d&&c&&(d+="/"),(m?"/":"")+d},r.isAbsolute=function(d){return d.charAt(0)==="/"},r.join=function(){var d=Array.prototype.slice.call(arguments,0);return r.normalize(l(d,function(m,c){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},r.relative=function(d,m){function c(A){for(var N=0;N<A.length&&A[N]==="";N++);for(var H=A.length-1;H>=0&&A[H]==="";H--);return N>H?[]:A.slice(N,H-N+1)}d=r.resolve(d).substr(1),m=r.resolve(m).substr(1);for(var p=c(d.split("/")),T=c(m.split("/")),g=Math.min(p.length,T.length),D=g,v=0;v<g;v++)if(p[v]!==T[v]){D=v;break}var w=[];for(v=D;v<p.length;v++)w.push("..");return(w=w.concat(T.slice(D))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(d){if(typeof d!="string"&&(d+=""),d.length===0)return".";for(var m=d.charCodeAt(0),c=m===47,p=-1,T=!0,g=d.length-1;g>=1;--g)if((m=d.charCodeAt(g))===47){if(!T){p=g;break}}else T=!1;return p===-1?c?"/":".":c&&p===1?"/":d.slice(0,p)},r.basename=function(d,m){var c=function(p){typeof p!="string"&&(p+="");var T,g=0,D=-1,v=!0;for(T=p.length-1;T>=0;--T)if(p.charCodeAt(T)===47){if(!v){g=T+1;break}}else D===-1&&(v=!1,D=T+1);return D===-1?"":p.slice(g,D)}(d);return m&&c.substr(-1*m.length)===m&&(c=c.substr(0,c.length-m.length)),c},r.extname=function(d){typeof d!="string"&&(d+="");for(var m=-1,c=0,p=-1,T=!0,g=0,D=d.length-1;D>=0;--D){var v=d.charCodeAt(D);if(v!==47)p===-1&&(T=!1,p=D+1),v===46?m===-1?m=D:g!==1&&(g=1):m!==-1&&(g=-1);else if(!T){c=D+1;break}}return m===-1||p===-1||g===0||g===1&&m===p-1&&m===c+1?"":d.slice(m,p)};var f="ab".substr(-1)==="b"?function(d,m,c){return d.substr(m,c)}:function(d,m,c){return m<0&&(m=d.length+m),d.substr(m,c)}}).call(this,i(25))},function(n,r,i){var o=i(17),u=i(5),l=i(3),f=i(4),d=i(12),m=i(0);function c(p){var T,g,D,v,w,A=(p=p||{}).eventBus,N=p.debug,H=p.urlUtils,S=p.type,M=p.streamInfo,F=p.segmentsController,ie=p.timelineConverter,Ee=p.baseURLController;function Be(){return S}function Le(){D=null}function X(te,ve,Ge){var Ke,We,$=Ee.resolve(Ge.path);return $&&ve!==$.url&&H.isRelative(ve)?(Ke=$.url,We=$.serviceLocation,ve&&(Ke=H.resolve(ve,Ke))):Ke=ve,!H.isRelative(Ke)&&(te.url=Ke,te.serviceLocation=We,!0)}function P(te,ve){if(ve==null)return null;var Ge=new o.a,Ke=ve.representation,We=Ke.adaptation.period.mpd.manifest.Period_asArray[Ke.adaptation.period.index].AdaptationSet_asArray[Ke.adaptation.index].Representation_asArray[Ke.index].bandwidth,$=ve.media;return $=Object(d.d)($,"Number",ve.replacementNumber),$=Object(d.d)($,"Time",ve.replacementTime),$=Object(d.d)($,"Bandwidth",We),$=Object(d.c)($,Ke.id),$=Object(d.e)($),Ge.mediaType=Be(),Ge.type=u.a.MEDIA_SEGMENT_TYPE,Ge.range=ve.mediaRange,Ge.startTime=ve.presentationStartTime,Ge.mediaStartTime=ve.mediaStartTime,Ge.duration=ve.duration,Ge.timescale=Ke.timescale,Ge.availabilityStartTime=ve.availabilityStartTime,Ge.availabilityEndTime=ve.availabilityEndTime,Ge.availabilityTimeComplete=Ke.availabilityTimeComplete,Ge.wallStartTime=ve.wallStartTime,Ge.quality=Ke.index,Ge.index=ve.index,Ge.mediaInfo=te,Ge.adaptationIndex=Ke.adaptation.index,Ge.representationId=Ke.id,X(Ge,$,Ke)?Ge:void 0}function J(te,ve,Ge){var Ke=null;if(!ve||!ve.segmentInfoType)return Ke;var We=F.getSegmentByTime(ve,Ge);return We&&(D=We,g.debug("Index for time "+Ge+" is "+We.index),Ke=P(te,We)),Ke}function oe(){g.debug("Dynamic stream complete"),w=!0}return T={initialize:function(te){v=te,w=!1,F.initialize(te)},getStreamId:function(){return M.id},getType:Be,getStreamInfo:function(){return M},getInitRequest:function(te,ve){return ve?function(Ge,Ke,We){var $=new o.a,K=Ke.adaptation.period,Ue=K.start;if($.mediaType=We,$.type=u.a.INIT_SEGMENT_TYPE,$.range=Ke.range,$.availabilityStartTime=ie.calcAvailabilityStartTimeFromPresentationTime(Ue,Ke,v),$.availabilityEndTime=ie.calcAvailabilityEndTimeFromPresentationTime(Ue+K.duration,Ke,v),$.quality=Ke.index,$.mediaInfo=Ge,$.representationId=Ke.id,X($,Ke.initialization,Ke))return $.url=Object(d.d)($.url,"Bandwidth",Ke.bandwidth),$}(te,ve,Be()):null},getSegmentRequestForTime:J,getCurrentIndex:function(){return D?D.index:-1},getNextSegmentRequest:function(te,ve){var Ge=null;if(!ve||!ve.segmentInfoType)return null;var Ke=D?D.index+1:0,We=F.getSegmentByIndex(ve,Ke,D?D.mediaStartTime:-1);if(We)Ge=P(te,We),D=We;else{if(v&&!w)return g.debug(Be()+" No segment found at index: "+Ke+". Wait for next loop"),null;w=!0}return Ge},isLastSegmentRequested:function(te,ve){return!te||!D?!1:w?!0:!isFinite(te.adaptation.period.duration)||D.presentationStartTime+D.duration>ve?!1:te.mediaFinishedInformation&&!isNaN(te.mediaFinishedInformation.numberOfSegments)&&!isNaN(D.index)&&D.index>=te.mediaFinishedInformation.numberOfSegments-1&&(!v||te.segmentInfoType===m.a.SEGMENT_TEMPLATE||v&&te.segmentInfoType===m.a.SEGMENT_LIST&&te.adaptation.period.nextPeriodId)?!0:!!(v&&te.adaptation.period.nextPeriodId&&te.segmentInfoType===m.a.SEGMENT_TIMELINE&&te.mediaFinishedInformation&&!isNaN(te.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&D&&!isNaN(D.mediaStartTime)&&!isNaN(D.duration)&&D.mediaStartTime+D.duration>=te.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function(){Le(),A.off(f.a.DYNAMIC_TO_STATIC,oe,T)},getNextSegmentRequestIdempotent:function(te,ve){var Ge=D?D.index+1:0,Ke=F.getSegmentByIndex(ve,Ge,D?D.mediaStartTime:-1);return Ke?P(te,Ke):null},getValidTimeCloseToTargetTime:function(te,ve,Ge,Ke){try{if(isNaN(te)||!ve||!Ge)return NaN;if(te<0&&(te=0),isNaN(Ke)&&(Ke=.5),J(ve,Ge,te))return te;for(var We=Ge.adaptation.period.start,$=Ge.adaptation.period.start+Ge.adaptation.period.duration,K=Math.min(te+Ke,$),Ue=Math.max(te-Ke,We),$e=NaN,ot=null;K<=$||Ue>=We;){var He=null,q=null;if(K<=$&&(He=J(ve,Ge,K)),Ue>=We&&(q=J(ve,Ge,Ue)),q){$e=Ue,ot=q;break}if(He){$e=K,ot=He;break}K+=Ke,Ue-=Ke}if(ot){var U=ot.startTime+ot.duration;return te>=ot.startTime&&U-te>Ke?te:te<ot.startTime?ot.startTime:Math.min(U-Ke,$e)}return $e}catch{return NaN}},getValidTimeAheadOfTargetTime:function(te,ve,Ge,Ke){try{if(isNaN(te)||!ve||!Ge)return NaN;if(te<0&&(te=0),isNaN(Ke)&&(Ke=.5),J(ve,Ge,te))return te;if(Ge.adaptation.period.start+Ge.adaptation.period.duration<te)return NaN;for(var We=Math.min(Ge.adaptation.period.start+Ge.adaptation.period.duration,te+30),$=Math.min(te+Ke,We),K=NaN,Ue=null;$<=We;){var $e=null;if($<=We&&($e=J(ve,Ge,$)),$e){K=$,Ue=$e;break}$+=Ke}if(Ue){var ot=Ue.startTime+Ue.duration;return te>=Ue.startTime&&ot-te>Ke?te:te<Ue.startTime?Ue.startTime:Math.min(ot-Ke,K)}return K}catch{return NaN}}},g=N.getLogger(T),Le(),A.on(f.a.DYNAMIC_TO_STATIC,oe,T),T}c.__dashjs_factory_name="DashHandler",r.a=l.a.getClassFactory(c)},function(n,r,i){var o=i(3),u=i(1),l=i(12);function f(A,N){var H=(A=A||{}).timelineConverter,S=A.dashMetrics;function M(){if(!H)throw new Error(u.a.MISSING_CONFIG_ERROR)}function F(Ee,Be){var Le,X,P,J,oe,te,ve,Ge=Ee.adaptation.period.mpd.manifest.Period_asArray[Ee.adaptation.period.index].AdaptationSet_asArray[Ee.adaptation.index].Representation_asArray[Ee.index].SegmentTemplate||Ee.adaptation.period.mpd.manifest.Period_asArray[Ee.adaptation.period.index].AdaptationSet_asArray[Ee.adaptation.index].Representation_asArray[Ee.index].SegmentList,Ke=Ge.SegmentTimeline,We=Ge.SegmentURL_asArray,$=0,K=0,Ue=-1;ve=Ee.timescale;var $e=!1;for(P=0,J=(Le=Ke.S_asArray).length;P<J&&!$e;P++)for(te=0,(X=Le[P]).hasOwnProperty("r")&&(te=X.r),X.hasOwnProperty("t")&&(K=($=X.t)/ve),te<0&&(te=ie(Ee,Le[P+1],X,ve,K)),oe=0;oe<=te&&!$e;oe++)($e=Be($,K,Ge,We,X,ve,++Ue,P))&&(Ee.segmentDuration=X.d/ve),K=($+=X.d)/ve}function ie(Ee,Be,Le,X,P){var J;if(Be&&Be.hasOwnProperty("t"))J=Be.t/X;else try{var oe=0;if(isNaN(Ee.adaptation.period.start)||isNaN(Ee.adaptation.period.duration)||!isFinite(Ee.adaptation.period.duration)){var te=S.getCurrentDVRInfo();oe=isNaN(te.end)?0:te.end}else oe=Ee.adaptation.period.start+Ee.adaptation.period.duration;J=H.calcMediaTimeFromPresentationTime(oe,Ee),Ee.segmentDuration=Le.d/X}catch{J=0}return Math.max(Math.ceil((J-P)/(Le.d/X))-1,0)}return{getSegmentByIndex:function(Ee,Be,Le){if(M(),!Ee)return null;var X=null,P=!1;return F(Ee,function(J,oe,te,ve,Ge,Ke,We,$){if(P||Le<0){var K=te.media,Ue=Ge.mediaRange;return ve&&(K=ve[$].media||"",Ue=ve[$].mediaRange),X=Object(l.b)(H,N,Ee,J,Ge.d,Ke,K,Ue,We,Ge.tManifest),!0}return oe>=Le-.5*Ge.d/Ke&&(P=!0),!1}),X},getSegmentByTime:function(Ee,Be){if(M(),!Ee)return null;Be===void 0&&(Be=null);var Le=null,X=H.calcMediaTimeFromPresentationTime(Be,Ee);return F(Ee,function(P,J,oe,te,ve,Ge,Ke,We){if(X<J+ve.d/Ge&&X>=J){var $=oe.media,K=ve.mediaRange;return te&&($=te[We].media||"",K=te[We].mediaRange),Le=Object(l.b)(H,N,Ee,P,ve.d,Ge,$,K,Ke,ve.tManifest),!0}return!1}),Le},getMediaFinishedInformation:function(Ee){if(!Ee)return 0;var Be,Le,X,P,J,oe,te,ve=(Ee.adaptation.period.mpd.manifest.Period_asArray[Ee.adaptation.period.index].AdaptationSet_asArray[Ee.adaptation.index].Representation_asArray[Ee.index].SegmentTemplate||Ee.adaptation.period.mpd.manifest.Period_asArray[Ee.adaptation.period.index].AdaptationSet_asArray[Ee.adaptation.index].Representation_asArray[Ee.index].SegmentList).SegmentTimeline,Ge=0,Ke=0,We=0;for(te=Ee.timescale,P=(Be=ve.S_asArray).length,X=0;X<P;X++)for(oe=0,(Le=Be[X]).hasOwnProperty("r")&&(oe=Le.r),Le.hasOwnProperty("t")&&(Ke=(Ge=Le.t)/te),oe<0&&(oe=ie(Ee,Be[X+1],Le,te,Ke)),J=0;J<=oe;J++)We++,Ke=(Ge+=Le.d)/te;return{numberOfSegments:We,mediaTimeOfLastSignaledSegment:Ke}}}}f.__dashjs_factory_name="TimelineSegmentsGetter";var d=o.a.getClassFactory(f);function m(A,N){var H=(A=A||{}).timelineConverter;function S(){if(!H||!H.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.a.MISSING_CONFIG_ERROR)}function M(F,ie){if(S(),!F)return null;var Ee=F.adaptation.period.mpd.manifest.Period_asArray[F.adaptation.period.index].AdaptationSet_asArray[F.adaptation.index].Representation_asArray[F.index].SegmentTemplate;ie=Math.max(ie,0);var Be=Object(l.a)(H,N,F,ie);if(Be){Be.replacementTime=Math.round((ie-1)*F.segmentDuration*F.timescale,10);var Le=Ee.media;Le=Object(l.d)(Le,"Number",Be.replacementNumber),Le=Object(l.d)(Le,"Time",Be.replacementTime),Be.media=Le}return Be}return{getSegmentByIndex:M,getSegmentByTime:function(F,ie){if(S(),!F)return null;var Ee=F.segmentDuration;if(isNaN(Ee))return null;var Be=H.calcPeriodRelativeTimeFromMpdRelativeTime(F,ie);return M(F,Math.floor(Be/Ee))},getMediaFinishedInformation:function(F){var ie={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!F)return ie;var Ee=F.segmentDuration;return isNaN(Ee)?ie.numberOfSegments=1:ie.numberOfSegments=Math.ceil(F.adaptation.period.duration/Ee),ie}}}m.__dashjs_factory_name="TemplateSegmentsGetter";var c=o.a.getClassFactory(m);function p(A,N){var H=(A=A||{}).timelineConverter;function S(){if(!H||!H.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.a.MISSING_CONFIG_ERROR)}function M(F,ie){if(S(),!F)return null;var Ee=F.adaptation.period.mpd.manifest.Period_asArray[F.adaptation.period.index].AdaptationSet_asArray[F.adaptation.index].Representation_asArray[F.index].SegmentList,Be=Ee.SegmentURL_asArray.length,Le=F&&!isNaN(F.startNumber)?F.startNumber:1,X=Math.max(Le-1,0),P=Math.max(ie-X,0),J=null;if(P<Be){var oe=Ee.SegmentURL_asArray[P];(J=Object(l.a)(H,N,F,ie))&&(J.replacementTime=(Le+ie-1)*F.segmentDuration,J.media=oe.media?oe.media:"",J.mediaRange=oe.mediaRange,J.indexRange=oe.indexRange)}return J}return{getSegmentByIndex:M,getSegmentByTime:function(F,ie){if(S(),!F)return null;var Ee=F.segmentDuration;if(isNaN(Ee))return null;var Be=H.calcPeriodRelativeTimeFromMpdRelativeTime(F,ie);return M(F,Math.floor(Be/Ee))},getMediaFinishedInformation:function(F){var ie={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!F)return ie;var Ee=F.adaptation.period.mpd.manifest.Period_asArray[F.adaptation.period.index].AdaptationSet_asArray[F.adaptation.index].Representation_asArray[F.index].SegmentList,Be=F&&!isNaN(F.startNumber)?F.startNumber:1,Le=Math.max(Be-1,0);return ie.numberOfSegments=Le+Ee.SegmentURL_asArray.length,ie}}}p.__dashjs_factory_name="ListSegmentsGetter";var T=o.a.getClassFactory(p);function g(A){var N=(A=A||{}).timelineConverter;function H(){if(!N||!N.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.a.MISSING_CONFIG_ERROR)}function S(M,F){if(H(),!M)return null;var ie,Ee=M.segments?M.segments.length:-1;if(F<Ee&&(ie=M.segments[F])&&ie.index===F)return ie;for(var Be=0;Be<Ee;Be++)if((ie=M.segments[Be])&&ie.index===F)return ie;return null}return{getSegmentByIndex:S,getSegmentByTime:function(M,F){return H(),S(M,function(ie,Ee){if(!ie)return-1;var Be,Le,X,P,J,oe=ie.segments,te=oe?oe.length:null,ve=-1;if(oe&&te>0){for(J=0;J<te;J++)if(Le=oe[J],X=Le.presentationStartTime,P=Le.duration,Ee+(Be=P/2)>=X&&Ee-Be<X+P){ve=Le.index;break}}return ve}(M,F))},getMediaFinishedInformation:function(M){var F={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return M&&M.segments&&(F.numberOfSegments=M.segments.length),F}}}g.__dashjs_factory_name="SegmentBaseGetter";var D=o.a.getClassFactory(g);function v(A){A=A||{};var N,H,S=this.context,M=A.dashConstants,F=A.type,ie=A.segmentBaseController;function Ee(Be){return Be?Be.segments?H[M.SEGMENT_BASE]:H[Be.segmentInfoType]:null}return N={initialize:function(Be){H[M.SEGMENT_TIMELINE]=d(S).create(A,Be),H[M.SEGMENT_TEMPLATE]=c(S).create(A,Be),H[M.SEGMENT_LIST]=T(S).create(A,Be),H[M.SEGMENT_BASE]=D(S).create(A,Be)},updateInitData:function(Be,Le){return Le?Promise.resolve():ie.getSegmentBaseInitSegment({representation:Be,mediaType:F})},updateSegmentData:function(Be,Le){return Le?Promise.resolve():ie.getSegmentList({mimeType:Be.mimeType,representation:Be,mediaType:F})},getSegmentByIndex:function(Be,Le,X){var P=Ee(Be);return P?P.getSegmentByIndex(Be,Le,X):null},getSegmentByTime:function(Be,Le){var X=Ee(Be);return X?X.getSegmentByTime(Be,Le):null},getMediaFinishedInformation:function(Be){var Le=Ee(Be);return Le?Le.getMediaFinishedInformation(Be):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},H={},N}v.__dashjs_factory_name="SegmentsController";var w=o.a.getClassFactory(v);r.a=w},function(n,r,i){var o=function u(l,f,d,m){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this.url=l||"",this.serviceLocation=f||l||"",this.dvb_priority=d||1,this.dvb_weight=m||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};o.DEFAULT_DVB_PRIORITY=1,o.DEFAULT_DVB_WEIGHT=1,r.a=o},function(n,r){typeof Object.create=="function"?n.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,o){i.super_=o;var u=function(){};u.prototype=o.prototype,i.prototype=new u,i.prototype.constructor=i}},function(n,r,i){(function(o){var u={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},l=function(S){var M=S;return u.hasOwnProperty(S)&&(M=u[S]),String.fromCharCode(M)},f={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],T={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(S){this.time=S},log:function(S,M){var F=this.verboseFilter[S];this.verboseLevel>=F&&console.log(this.time+" ["+S+"] "+M)}},g=function(S){for(var M=[],F=0;F<S.length;F++)M.push(S[F].toString(16));return M},D=function(S,M,F,ie,Ee){this.foreground=S||"white",this.underline=M||!1,this.italics=F||!1,this.background=ie||"black",this.flash=Ee||!1};D.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(S){for(var M=["foreground","underline","italics","background","flash"],F=0;F<M.length;F++){var ie=M[F];S.hasOwnProperty(ie)&&(this[ie]=S[ie])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash},copy:function(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var v=function(S,M,F,ie,Ee,Be){this.uchar=S||" ",this.penState=new D(M,F,ie,Ee,Be)};v.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(S,M){this.uchar=S,this.penState.copy(M)},setPenState:function(S){this.penState.copy(S)},equals:function(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)},copy:function(S){this.uchar=S.uchar,this.penState.copy(S.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var w=function(){this.chars=[];for(var S=0;S<32;S++)this.chars.push(new v);this.pos=0,this.currPenState=new D};w.prototype={equals:function(S){for(var M=!0,F=0;F<32;F++)if(!this.chars[F].equals(S.chars[F])){M=!1;break}return M},copy:function(S){for(var M=0;M<32;M++)this.chars[M].copy(S.chars[M])},isEmpty:function(){for(var S=!0,M=0;M<32;M++)if(!this.chars[M].isEmpty()){S=!1;break}return S},setCursor:function(S){this.pos!==S&&(this.pos=S),this.pos<0?(T.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(T.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(S){var M=this.pos+S;if(S>1)for(var F=this.pos+1;F<M+1;F++)this.chars[F].setPenState(this.currPenState);this.setCursor(M)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(S){S>=144&&this.backSpace();var M=l(S);this.pos>=32?T.log("ERROR","Cannot insert "+S.toString(16)+" ("+M+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(M,this.currPenState),this.moveCursor(1))},clearFromPos:function(S){var M;for(M=S;M<32;M++)this.chars[M].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var S=[],M=!0,F=0;F<32;F++){var ie=this.chars[F].uchar;ie!==" "&&(M=!1),S.push(ie)}return M?"":S.join("")},setPenStyles:function(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}};var A=function(){this.rows=[];for(var S=0;S<15;S++)this.rows.push(new w);this.currRow=14,this.nrRollUpRows=null,this.reset()};A.prototype={reset:function(){for(var S=0;S<15;S++)this.rows[S].clear();this.currRow=14},equals:function(S){for(var M=!0,F=0;F<15;F++)if(!this.rows[F].equals(S.rows[F])){M=!1;break}return M},copy:function(S){for(var M=0;M<15;M++)this.rows[M].copy(S.rows[M])},isEmpty:function(){for(var S=!0,M=0;M<15;M++)if(!this.rows[M].isEmpty()){S=!1;break}return S},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(S){this.rows[this.currRow].insertChar(S)},setPen:function(S){this.rows[this.currRow].setPenStyles(S)},moveCursor:function(S){this.rows[this.currRow].moveCursor(S)},setCursor:function(S){T.log("INFO","setCursor: "+S),this.rows[this.currRow].setCursor(S)},setPAC:function(S){T.log("INFO","pacData = "+JSON.stringify(S));var M=S.row-1;this.nrRollUpRows&&M<this.nrRollUpRows-1&&(M=this.nrRollUpRows-1),this.currRow=M;var F=this.rows[this.currRow];if(S.indent!==null){var ie=S.indent,Ee=Math.max(ie-1,0);F.setCursor(S.indent),S.color=F.chars[Ee].penState.foreground}var Be={foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1};this.setPen(Be)},setBkgData:function(S){T.log("INFO","bkgData = "+JSON.stringify(S)),this.backSpace(),this.setPen(S),this.insertChar(32)},setRollUpRows:function(S){this.nrRollUpRows=S},rollUp:function(){if(this.nrRollUpRows!==null){T.log("TEXT",this.getDisplayText());var S=this.currRow+1-this.nrRollUpRows,M=this.rows.splice(S,1)[0];M.clear(),this.rows.splice(this.currRow,0,M),T.log("INFO","Rolling up")}else T.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(S){S=S||!1;for(var M=[],F="",ie=-1,Ee=0;Ee<15;Ee++){var Be=this.rows[Ee].getTextString();Be&&(ie=Ee+1,S?M.push("Row "+ie+': "'+Be+'"'):M.push(Be.trim()))}return M.length>0&&(F=S?"["+M.join(" | ")+"]":M.join(`
`)),F},getTextAndFormat:function(){return this.rows}};var N=function(S,M){this.chNr=S,this.outputFilter=M,this.mode=null,this.verbose=0,this.displayedMemory=new A,this.nonDisplayedMemory=new A,this.lastOutputScreen=new A,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};N.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(S){this.outputFilter=S},setPAC:function(S){this.writeScreen.setPAC(S)},setBkgData:function(S){this.writeScreen.setBkgData(S)},setMode:function(S){S!==this.mode&&(this.mode=S,T.log("INFO","MODE="+S),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=S)},insertChars:function(S){for(var M=0;M<S.length;M++)this.writeScreen.insertChar(S[M]);var F=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";T.log("INFO",F+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(T.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){T.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){T.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){T.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(S){T.log("INFO","RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)},cc_FON:function(){T.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){T.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){T.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){T.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){T.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){T.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){T.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(T.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,T.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(S){T.log("INFO","TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)},cc_MIDROW:function(S){var M={flash:!1};if(M.underline=S%2==1,M.italics=S>=46,M.italics)M.foreground="white";else{var F=Math.floor(S/2)-16;M.foreground=["white","green","blue","cyan","red","yellow","magenta"][F]}T.log("INFO","MIDROW: "+JSON.stringify(M)),this.writeScreen.setPen(M)},outputDataUpdate:function(){var S=T.time;S!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(S,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:S):this.cueStartTime=S,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}};var H=function(S,M,F){this.field=S||1,this.outputs=[M,F],this.channels=[new N(1,M),new N(2,F)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};H.prototype={getHandler:function(S){return this.channels[S].getHandler()},setHandler:function(S,M){this.channels[S].setHandler(M)},addData:function(S,M){var F,ie,Ee,Be=!1;this.lastTime=S,T.setTime(S);for(var Le=0;Le<M.length;Le+=2)ie=127&M[Le],Ee=127&M[Le+1],ie>=16&&ie<=31&&ie===this.lastCmdA&&Ee===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,T.log("DEBUG","Repeated command ("+g([ie,Ee])+") is dropped")):ie!==0||Ee!==0?(T.log("DATA","["+g([M[Le],M[Le+1]])+"] -> ("+g([ie,Ee])+")"),(F=this.parseCmd(ie,Ee))||(F=this.parseMidrow(ie,Ee)),F||(F=this.parsePAC(ie,Ee)),F||(F=this.parseBackgroundAttributes(ie,Ee)),!F&&(Be=this.parseChars(ie,Ee))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Be):T.log("WARNING","No channel found yet. TEXT-MODE?")),F?this.dataCounters.cmd+=2:Be?this.dataCounters.char+=2:(this.dataCounters.other+=2,T.log("WARNING","Couldn't parse cleaned data "+g([ie,Ee])+" orig: "+g([M[Le],M[Le+1]])))):this.dataCounters.padding+=2},parseCmd:function(S,M){var F=null;if(!((S===20||S===21||S===28||S===29)&&32<=M&&M<=47)&&!((S===23||S===31)&&33<=M&&M<=35))return!1;F=S===20||S===21||S===23?1:2;var ie=this.channels[F-1];return S===20||S===21||S===28||S===29?M===32?ie.cc_RCL():M===33?ie.cc_BS():M===34?ie.cc_AOF():M===35?ie.cc_AON():M===36?ie.cc_DER():M===37?ie.cc_RU(2):M===38?ie.cc_RU(3):M===39?ie.cc_RU(4):M===40?ie.cc_FON():M===41?ie.cc_RDC():M===42?ie.cc_TR():M===43?ie.cc_RTD():M===44?ie.cc_EDM():M===45?ie.cc_CR():M===46?ie.cc_ENM():M===47&&ie.cc_EOC():ie.cc_TO(M-32),this.lastCmdA=S,this.lastCmdB=M,this.currChNr=F,!0},parseMidrow:function(S,M){var F=null;if((S===17||S===25)&&32<=M&&M<=47){if((F=S===17?1:2)!==this.currChNr)return T.log("ERROR","Mismatch channel in midrow parsing"),!1;var ie=this.channels[F-1];return ie.insertChars([32]),ie.cc_MIDROW(M),T.log("DEBUG","MIDROW ("+g([S,M])+")"),this.lastCmdA=S,this.lastCmdB=M,!0}return!1},parsePAC:function(S,M){var F,ie=null;if(!((17<=S&&S<=23||25<=S&&S<=31)&&64<=M&&M<=127)&&!((S===16||S===24)&&64<=M&&M<=95))return!1;F=S<=23?1:2,ie=64<=M&&M<=95?F===1?f[S]:m[S]:F===1?d[S]:c[S];var Ee=this.interpretPAC(ie,M);return this.channels[F-1].setPAC(Ee),this.lastCmdA=S,this.lastCmdB=M,this.currChNr=F,!0},interpretPAC:function(S,M){var F=M,ie={color:null,italics:!1,indent:null,underline:!1,row:S};return F=M>95?M-96:M-64,ie.underline=(1&F)==1,F<=13?ie.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(F/2)]:F<=15?(ie.italics=!0,ie.color="white"):ie.indent=4*Math.floor((F-16)/2),ie},parseChars:function(S,M){var F=null,ie=null,Ee=null;if(S>=25?(F=2,Ee=S-8):(F=1,Ee=S),17<=Ee&&Ee<=19){var Be=M;Be=Ee===17?M+80:Ee===18?M+112:M+144,T.log("INFO","Special char '"+l(Be)+"' in channel "+F),ie=[Be],this.lastCmdA=S,this.lastCmdB=M}else 32<=S&&S<=127&&(ie=M===0?[S]:[S,M],this.lastCmdA=null,this.lastCmdB=null);if(ie){var Le=g(ie);T.log("DEBUG","Char codes =  "+Le.join(","))}return ie},parseBackgroundAttributes:function(S,M){var F,ie,Ee;return((S===16||S===24)&&32<=M&&M<=47||(S===23||S===31)&&45<=M&&M<=47)&&(F={},S===16||S===24?(ie=Math.floor((M-32)/2),F.background=p[ie],M%2==1&&(F.background=F.background+"_semi")):M===45?F.background="transparent":(F.foreground="black",M===47&&(F.underline=!0)),Ee=S<24?1:2,this.channels[Ee-1].setBkgData(F),this.lastCmdA=S,this.lastCmdB=M,!0)},reset:function(){for(var S=0;S<this.channels.length;S++)this.channels[S]&&this.channels[S].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(S){for(var M=0;M<this.channels.length;M++)this.channels[M]&&this.channels[M].cueSplitAtTime(S)}},o.logger=T,o.PenState=D,o.CaptionScreen=A,o.Cea608Parser=H,o.findCea608Nalus=function(S,M,F){for(var ie=0,Ee=M,Be=[],Le=function(te,ve,Ge,Ke){if(te!==4||ve<8)return null;var We=Ge.getUint8(Ke),$=Ge.getUint16(Ke+1),K=Ge.getUint32(Ke+3),Ue=Ge.getUint8(Ke+7);return We==181&&$==49&&K==1195456820&&Ue==3};Ee<M+F;){if(ie=S.getUint32(Ee),(31&S.getUint8(Ee+4))===6)for(var X=Ee+5,P=-1;X<Ee+4+ie-1;){P=0;for(var J=255;J===255;)P+=J=S.getUint8(X),X++;var oe=0;for(J=255;J===255;)oe+=J=S.getUint8(X),X++;Le(P,oe,S,X)&&Be.push([X,oe]),X+=oe}Ee+=ie+4}return Be},o.extractCea608DataFromRange=function(S,M){var F=M[0],ie=[[],[]];F+=8;var Ee=31&S.getUint8(F);F+=2;for(var Be=0;Be<Ee;Be++){var Le=S.getUint8(F),X=4&Le,P=3&Le;F++;var J=S.getUint8(F);F++;var oe=S.getUint8(F);F++,X&&(127&J)+(127&oe)!=0&&(P===0?(ie[0].push(J),ie[0].push(oe)):P===1&&(ie[1].push(J),ie[1].push(oe)))}return ie}})(r)},function(n,r,i){var o=i(7),u=i(4),l=i(19),f=i(3),d=i(16),m=i(1),c=i(5),p=i(33),T=i(15);function g(P,J){var oe;if(typeof Symbol>"u"||P[Symbol.iterator]==null){if(Array.isArray(P)||(oe=function($,K){if($){if(typeof $=="string")return D($,K);var Ue=Object.prototype.toString.call($).slice(8,-1);if(Ue==="Object"&&$.constructor&&(Ue=$.constructor.name),Ue==="Map"||Ue==="Set")return Array.from($);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return D($,K)}}(P))||J&&P&&typeof P.length=="number"){oe&&(P=oe);var te=0,ve=function(){};return{s:ve,n:function(){return te>=P.length?{done:!0}:{done:!1,value:P[te++]}},e:function($){throw $},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ge,Ke=!0,We=!1;return{s:function(){oe=P[Symbol.iterator]()},n:function(){var $=oe.next();return Ke=$.done,$},e:function($){We=!0,Ge=$},f:function(){try{Ke||oe.return==null||oe.return()}finally{if(We)throw Ge}}}}function D(P,J){(J==null||J>P.length)&&(J=P.length);for(var oe=0,te=new Array(J);oe<J;oe++)te[oe]=P[oe];return te}var v="m",w="a",A="v",N="i",H="c",S="tt",M="k",F="o",ie="d",Ee="s",Be="v",Le="l";function X(){var P,J,oe,te,ve,Ge,Ke,We,$,K,Ue=this.context,$e=Object(o.a)(Ue).getInstance(),ot=Object(d.a)(Ue).getInstance();function He(){oe={pr:1,nor:null,st:null,sf:null,sid:"".concat(T.a.generateUuid()),cid:null},$={},We={},K={},U()}function q(){U()}function U(){if(Ge){var le=Ge.getStreamController();if(le&&typeof le.getActiveStream=="function"){var Ie=le.getActiveStream();Ie&&(Ke=Ie.getProcessors())}}}function x(le,Ie){var me,ke={},ae=g(Ie);try{for(ae.s();!(me=ae.n()).done;){var Q=me.value;le[Q]&&(ke[Q]=le[Q])}}catch(pe){ae.e(pe)}finally{ae.f()}return ke}function h(le){var Ie=ot.get().streaming.cmcd.enabledKeys;return le.filter(function(me){return Ie.includes(me)})}function y(le){try{return le.type===c.a.MPD_TYPE?((Ie=_()).ot=v,Ie):le.type===c.a.MEDIA_SEGMENT_TYPE?(function(me){K.hasOwnProperty(me)||(K[me]=!1),We.hasOwnProperty(me)||(We[me]=!1),$.hasOwnProperty(me)||($[me]=!1)}(le.mediaType),function(me){var ke,ae=_(),Q=function(bt){try{var Nt=bt.quality,wt=bt.mediaInfo.bitrateList;return parseInt(wt[Nt].bandwidth/1e3)}catch{return null}}(me),pe=function(bt){try{return isNaN(bt.duration)?null:Math.round(1e3*bt.duration)}catch{return null}}(me),De=function(bt){try{return 100*parseInt(te.getThroughputHistory().getSafeAverageThroughput(bt)/100)}catch{return null}}(me.mediaType),Me=function(bt){try{var Nt=oe.pr,wt=ve.getCurrentBufferLevel(bt);return isNaN(Nt)||isNaN(wt)?null:100*parseInt(wt/Nt*10)}catch{return null}}(me.mediaType),Te=E(me.mediaType),tt=function(bt){try{var Nt=te.getTopBitrateInfoFor(bt);return Math.round(Nt.bitrate/1e3)}catch{return null}}(me.mediaType),ht=oe.pr,St=function(bt){if(!(!Ke||Ke.length===0)){var Nt,wt=g(Ke);try{for(wt.s();!(Nt=wt.n()).done;){var Dt=Nt.value;if(Dt.getType()===bt)return Dt.probeNextRequest()}}catch(Rt){wt.e(Rt)}finally{wt.f()}}}(me.mediaType);me.mediaType===m.a.VIDEO&&(ke=A),me.mediaType===m.a.AUDIO&&(ke=w),me.mediaType===m.a.TEXT&&(ke=me.mediaInfo.mimeType==="application/mp4"?S:H);var It=ot.get().streaming.cmcd.rtp;return It||(It=function(bt){var Nt=Ge.getPlaybackRate();Nt||(Nt=1);var wt=bt.quality,Dt=bt.mediaType,Rt=bt.mediaInfo,en=bt.duration,Ut=E(Dt);Ut===0&&(Ut=500);var sn=Rt.bitrateList[wt].bandwidth*en/1e3/(Ut/Nt/1e3),Mn=ot.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ot.get().streaming.cmcd.rtpSafetyFactor)?ot.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(sn*Mn/100)+1)}(me)),ae.rtp=It,St&&(me.url!==St.url?ae.nor=encodeURIComponent(T.a.getRelativeUrl(me.url,St.url)):St.range&&(ae.nrr=St.range)),Q&&(ae.br=Q),ke&&(ae.ot=ke),isNaN(pe)||(ae.d=pe),isNaN(De)||(ae.mtp=De),isNaN(Me)||(ae.dl=Me),isNaN(Te)||(ae.bl=Te),isNaN(tt)||(ae.tb=tt),isNaN(ht)||ht===1||(ae.pr=ht),$[me.mediaType]&&(ae.bs=!0,$[me.mediaType]=!1),!We[me.mediaType]&&K[me.mediaType]||(ae.su=!0,We[me.mediaType]=!1,K[me.mediaType]=!0),ae}(le)):le.type===c.a.INIT_SEGMENT_TYPE?function(){var me=_();return me.ot=N,me.su=!0,me}():le.type===c.a.OTHER_TYPE||le.type===c.a.XLINK_EXPANSION_TYPE?function(){var me=_();return me.ot=F,me}():le.type===c.a.LICENSE?function(me){var ke=_();return ke.ot=M,ke}():null}catch{return null}var Ie}function _(){var le={},Ie=ot.get().streaming.cmcd.cid?ot.get().streaming.cmcd.cid:oe.cid;return le.v=1,le.sid=ot.get().streaming.cmcd.sid?ot.get().streaming.cmcd.sid:oe.sid,le.sid="".concat(le.sid),Ie&&(le.cid="".concat(Ie)),isNaN(oe.pr)||oe.pr===1||oe.pr===null||(le.pr=oe.pr),oe.st&&(le.st=oe.st),oe.sf&&(le.sf=oe.sf),le}function E(le){try{var Ie=ve.getCurrentBufferLevel(le);return isNaN(Ie)?null:100*parseInt(10*Ie)}catch{return null}}function I(le){try{oe.pr=le.playbackRate}catch{}}function L(le){try{var Ie=P.getIsDynamic(le.data)?Le:Be,me=le.protocol&&le.protocol==="MSS"?Ee:ie;oe.st="".concat(Ie),oe.sf="".concat(me)}catch{}}function Z(le){try{le.state&&le.mediaType&&le.state===u.a.BUFFER_EMPTY&&($[le.mediaType]||($[le.mediaType]=!0),We[le.mediaType]||(We[le.mediaType]=!0))}catch{}}function b(){for(var le in $)$.hasOwnProperty(le)&&($[le]=!0);for(var Ie in We)We.hasOwnProperty(Ie)&&(We[Ie]=!0)}function V(le){try{if(!le)return null;var Ie=Object.keys(le).sort(function(ae,Q){return ae.localeCompare(Q)}),me=Ie.length,ke=Ie.reduce(function(ae,Q,pe){return Q==="v"&&le[Q]===1||(typeof le[Q]=="string"&&Q!=="ot"&&Q!=="sf"&&Q!=="st"?ae+="".concat(Q,"=").concat(JSON.stringify(le[Q])):ae+="".concat(Q,"=").concat(le[Q]),pe<me-1&&(ae+=",")),ae},"");return ke=(ke=ke.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return J={getQueryParameter:function(le){try{if(ot.get().streaming.cmcd&&ot.get().streaming.cmcd.enabled){var Ie=y(le),me=V(function(ke){try{var ae=ot.get().streaming.cmcd.enabledKeys;return Object.keys(ke).filter(function(Q){return ae.includes(Q)}).reduce(function(Q,pe){return Q[pe]=ke[pe],Q},{})}catch{return ke}}(Ie));return $e.trigger(l.a.CMCD_DATA_GENERATED,{url:le.url,mediaType:le.mediaType,cmcdData:Ie,cmcdString:me}),{key:"CMCD",value:me}}return null}catch{return null}},getHeaderParameters:function(le){try{if(ot.get().streaming.cmcd&&ot.get().streaming.cmcd.enabled){var Ie=y(le),me=x(Ie,h(["br","d","ot","tb"])),ke=x(Ie,h(["bl","dl","mtp","nor","nrr","su"])),ae=x(Ie,h(["bs","rtp"])),Q=x(Ie,h(["cid","pr","sf","sid","st","v"])),pe={"CMCD-Object":V(me),"CMCD-Request":V(ke),"CMCD-Status":V(ae),"CMCD-Session":V(Q)};return $e.trigger(l.a.CMCD_DATA_GENERATED,{url:le.url,mediaType:le.mediaType,cmcdData:Ie,headers:pe}),pe}return null}catch{return null}},setConfig:function(le){le&&(le.abrController&&(te=le.abrController),le.dashMetrics&&(ve=le.dashMetrics),le.playbackController&&(Ge=le.playbackController))},reset:function(){$e.off(u.a.PLAYBACK_RATE_CHANGED,I,this),$e.off(u.a.MANIFEST_LOADED,L,this),$e.off(u.a.BUFFER_LEVEL_STATE_CHANGED,Z,J),$e.off(u.a.PLAYBACK_SEEKED,b,J),He()},initialize:function(){$e.on(u.a.PLAYBACK_RATE_CHANGED,I,J),$e.on(u.a.MANIFEST_LOADED,L,J),$e.on(u.a.BUFFER_LEVEL_STATE_CHANGED,Z,J),$e.on(u.a.PLAYBACK_SEEKED,b,J),$e.on(u.a.PERIOD_SWITCH_COMPLETED,q,J)}},P=Object(p.a)(Ue).getInstance(),He(),J}X.__dashjs_factory_name="CmcdModel",r.a=f.a.getSingletonFactory(X)},function(n,r,i){r.a=function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN}},function(n,r,i){var o=i(3),u=i(60),l=i.n(u);function f(){return{areEqual:function(d,m){return l()(d,m)}}}f.__dashjs_factory_name="ObjectUtils",r.a=o.a.getSingletonFactory(f)},function(n,r,i){r.a=function(o){o=o||{},function(){o.escapeMode===void 0&&(o.escapeMode=!0),o.attributePrefix===void 0&&(o.attributePrefix="_"),o.arrayAccessForm=o.arrayAccessForm||"none",o.emptyNodeForm=o.emptyNodeForm||"text",o.enableToStringFunc===void 0&&(o.enableToStringFunc=!0),o.arrayAccessFormPaths=o.arrayAccessFormPaths||[],o.skipEmptyTextNodesForObj===void 0&&(o.skipEmptyTextNodesForObj=!0),o.stripWhitespaces===void 0&&(o.stripWhitespaces=!0),o.datetimeAccessFormPaths=o.datetimeAccessFormPaths||[],o.useDoubleQuotes===void 0&&(o.useDoubleQuotes=!1),o.xmlElementsFilter=o.xmlElementsFilter||[],o.jsonPropertiesFilter=o.jsonPropertiesFilter||[],o.keepCData===void 0&&(o.keepCData=!1),o.ignoreRoot===void 0&&(o.ignoreRoot=!1)}();var u=1,l=3,f=4,d=8,m=9;function c(X){var P=X.localName;return P==null&&(P=X.baseName),P!=null&&P!=""||(P=X.nodeName),P}function p(X){return typeof X=="string"?X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):X}function T(X,P,J,oe){for(var te=0;te<X.length;te++){var ve=X[te];if(typeof ve=="string"){if(ve==oe)break}else if(ve instanceof RegExp){if(ve.test(oe))break}else if(typeof ve=="function"&&ve(P,J,oe))break}return te!=X.length}function g(X,P,J){switch(o.arrayAccessForm){case"property":X[P]instanceof Array?X[P+"_asArray"]=X[P]:X[P+"_asArray"]=[X[P]]}!(X[P]instanceof Array)&&o.arrayAccessFormPaths.length>0&&T(o.arrayAccessFormPaths,X,P,J)&&(X[P]=[X[P]])}function D(X){var P=X.split(/[-T:+Z]/g),J=new Date(P[0],P[1]-1,P[2]),oe=P[5].split(".");if(J.setHours(P[3],P[4],oe[0]),oe.length>1&&J.setMilliseconds(oe[1]),P[6]&&P[7]){var te=60*P[6]+Number(P[7]);te=0+((/\d\d-\d\d:\d\d$/.test(X)?"-":"+")=="-"?-1*te:te),J.setMinutes(J.getMinutes()-te-J.getTimezoneOffset())}else X.indexOf("Z",X.length-1)!==-1&&(J=new Date(Date.UTC(J.getFullYear(),J.getMonth(),J.getDate(),J.getHours(),J.getMinutes(),J.getSeconds(),J.getMilliseconds())));return J}function v(X,P,J,oe){return!(P==u&&o.xmlElementsFilter.length>0)||T(o.xmlElementsFilter,X,J,oe)}function w(X,P){if(X.nodeType==m){for(var J=new Object,oe=X.childNodes,te=0;te<oe.length;te++)(Ge=oe[te]).nodeType==u&&(o.ignoreRoot?J=w(Ge):(J={})[Ke=c(Ge)]=w(Ge));return J}if(X.nodeType==u){(J=new Object).__cnt=0;var ve=[];for(oe=X.childNodes,te=0;te<oe.length;te++){var Ge,Ke=c(Ge=oe[te]);if(Ge.nodeType!=d){var We=P+"."+Ke;if(v(J,Ge.nodeType,Ke,We))if(J.__cnt++,J[Ke]==null){var $=w(Ge,We);(Ke!="#text"||/[^\s]/.test($))&&((K={})[Ke]=$,ve.push(K)),J[Ke]=$,g(J,Ke,We)}else{J[Ke]!=null&&(J[Ke]instanceof Array||(J[Ke]=[J[Ke]],g(J,Ke,We)));var K;$=w(Ge,We),(Ke!="#text"||/[^\s]/.test($))&&((K={})[Ke]=$,ve.push(K)),J[Ke][J[Ke].length]=$}}}J.__children=ve;for(var Ue=c(X),$e=0;$e<X.attributes.length;$e++){var ot=X.attributes[$e];J.__cnt++;for(var He=ot.value,q=0,U=o.matchers.length;q<U;q++){var x=o.matchers[q];x.test(ot,Ue)&&(He=x.converter(ot.value))}J[o.attributePrefix+ot.name]=He}var h=function(y){return y.prefix}(X);return h!=null&&h!=""&&(J.__cnt++,J.__prefix=h),J["#text"]!=null&&(J.__text=J["#text"],J.__text instanceof Array&&(J.__text=J.__text.join(`
`)),o.stripWhitespaces&&(J.__text=J.__text.trim()),delete J["#text"],o.arrayAccessForm=="property"&&delete J["#text_asArray"],J.__text=function(y,_,E){if(o.datetimeAccessFormPaths.length>0){var I=E.split(".#")[0];return T(o.datetimeAccessFormPaths,y,_,I)?D(y):y}return y}(J.__text,Ke,P+"."+Ke)),J["#cdata-section"]!=null&&(J.__cdata=J["#cdata-section"],delete J["#cdata-section"],o.arrayAccessForm=="property"&&delete J["#cdata-section_asArray"]),J.__cnt==0&&o.emptyNodeForm=="text"?J="":J.__cnt==1&&J.__text!=null?J=J.__text:J.__cnt!=1||J.__cdata==null||o.keepCData?J.__cnt>1&&J.__text!=null&&o.skipEmptyTextNodesForObj&&(o.stripWhitespaces&&J.__text==""||J.__text.trim()=="")&&delete J.__text:J=J.__cdata,delete J.__cnt,!o.enableToStringFunc||J.__text==null&&J.__cdata==null||(J.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),J}if(X.nodeType==l||X.nodeType==f)return X.nodeValue}function A(X,P,J,oe){var te="<"+(X!=null&&X.__prefix!=null?X.__prefix+":":"")+P;if(J!=null)for(var ve=0;ve<J.length;ve++){var Ge=J[ve],Ke=X[Ge];o.escapeMode&&(Ke=p(Ke)),te+=" "+Ge.substr(o.attributePrefix.length)+"=",o.useDoubleQuotes?te+='"'+Ke+'"':te+="'"+Ke+"'"}return te+=oe?"/>":">"}function N(X,P){return"</"+(X.__prefix!=null?X.__prefix+":":"")+P+">"}function H(X,P){return o.arrayAccessForm=="property"&&(J=P.toString(),oe="_asArray",J.indexOf(oe,J.length-oe.length)!==-1)||P.toString().indexOf(o.attributePrefix)==0||P.toString().indexOf("__")==0||X[P]instanceof Function;var J,oe}function S(X){var P=0;if(X instanceof Object)for(var J in X)H(X,J)||P++;return P}function M(X,P,J){return o.jsonPropertiesFilter.length==0||J==""||T(o.jsonPropertiesFilter,X,P,J)}function F(X){var P=[];if(X instanceof Object)for(var J in X)J.toString().indexOf("__")==-1&&J.toString().indexOf(o.attributePrefix)==0&&P.push(J);return P}function ie(X){var P="";return X instanceof Object?P+=function(J){var oe="";return J.__cdata!=null&&(oe+="<![CDATA["+J.__cdata+"]]>"),J.__text!=null&&(o.escapeMode?oe+=p(J.__text):oe+=J.__text),oe}(X):X!=null&&(o.escapeMode?P+=p(X):P+=X),P}function Ee(X,P){return X===""?P:X+"."+P}function Be(X,P,J,oe){var te="";if(X.length==0)te+=A(X,P,J,!0);else for(var ve=0;ve<X.length;ve++)te+=A(X[ve],P,F(X[ve]),!1),te+=Le(X[ve],Ee(oe,P)),te+=N(X[ve],P);return te}function Le(X,P){var J="";if(S(X)>0){for(var oe in X)if(!H(X,oe)&&(P==""||M(X,oe,Ee(P,oe)))){var te=X[oe],ve=F(te);te==null||te==null?J+=A(te,oe,ve,!0):te instanceof Object?te instanceof Array?J+=Be(te,oe,ve,P):te instanceof Date?(J+=A(te,oe,ve,!1),J+=te.toISOString(),J+=N(te,oe)):S(te)>0||te.__text!=null||te.__cdata!=null?(J+=A(te,oe,ve,!1),J+=Le(te,Ee(P,oe)),J+=N(te,oe)):J+=A(te,oe,ve,!0):(J+=A(te,oe,ve,!1),J+=ie(te),J+=N(te,oe))}}return J+=ie(X)}this.parseXmlString=function(X){var P;if(X===void 0)return null;if(window.DOMParser){var J=new window.DOMParser;try{(P=J.parseFromString(X,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(P=null)}catch{P=null}}else X.indexOf("<?")==0&&(X=X.substr(X.indexOf("?>")+2)),(P=new ActiveXObject("Microsoft.XMLDOM")).async="false",P.loadXML(X);return P},this.asArray=function(X){return X===void 0||X==null?[]:X instanceof Array?X:[X]},this.toXmlDateTime=function(X){return X instanceof Date?X.toISOString():typeof X=="number"?new Date(X).toISOString():null},this.asDateTime=function(X){return typeof X=="string"?D(X):X},this.xml2json=function(X){return w(X)},this.xml_str2json=function(X){var P=this.parseXmlString(X);return P!=null?this.xml2json(P):null},this.json2xml_str=function(X){return Le(X,"")},this.json2xml=function(X){var P=this.json2xml_str(X);return this.parseXmlString(P)},this.getVersion=function(){return"1.2.0"}}},function(n,r,i){var o=i(3),u=i(29),l=i(16),f=i(1);function d(P,J){return function(oe){if(Array.isArray(oe))return oe}(P)||function(oe,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(oe)))){var ve=[],Ge=!0,Ke=!1,We=void 0;try{for(var $,K=oe[Symbol.iterator]();!(Ge=($=K.next()).done)&&(ve.push($.value),!te||ve.length!==te);Ge=!0);}catch(Ue){Ke=!0,We=Ue}finally{try{Ge||K.return==null||K.return()}finally{if(Ke)throw We}}return ve}}(P,J)||m(P,J)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(P,J){if(P){if(typeof P=="string")return c(P,J);var oe=Object.prototype.toString.call(P).slice(8,-1);return oe==="Object"&&P.constructor&&(oe=P.constructor.name),oe==="Map"||oe==="Set"?Array.from(P):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?c(P,J):void 0}}function c(P,J){(J==null||J>P.length)&&(J=P.length);for(var oe=0,te=new Array(J);oe<J;oe++)te[oe]=P[oe];return te}function p(P){P=P||{};var J,oe=this.context,te=P.requestModifier,ve=P.lowLatencyThroughputModel,Ge=P.boxParser,Ke=Object(l.a)(oe).getInstance();function We(K,Ue){K.reader.read().then(Ue).catch(function($e){K.onerror&&K.response.status===200&&K.onerror($e)})}function $(K,Ue){try{if((K=K.filter(function(He){return He.bytes>Ue/4/K.length})).length>1){var $e=0,ot=(K[K.length-1].ts-K[0].ts)/K.length;return K.forEach(function(He,q){var U=K[q+1];if(U){var x=U.ts-He.ts;$e+=x<ot?x:0}}),$e}return null}catch{return null}}return{load:function(K){var Ue,$e=new Date,ot=K.request,He=new Headers;if(ot.range&&He.append("Range","bytes="+ot.range),K.headers)for(var q in K.headers){var U=K.headers[q];U&&He.append(q,U)}ot.requestStartDate||(ot.requestStartDate=$e),te&&te.modifyRequestHeader({setRequestHeader:function(E,I){He.append(E,I)}}),typeof window.AbortController=="function"&&(Ue=new AbortController,K.abortController=Ue,Ue.signal.onabort=K.onabort);var x={method:K.method,headers:He,credentials:K.withCredentials?"include":void 0,signal:Ue?Ue.signal:void 0},h=Ke.get().streaming.abr.fetchThroughputCalculationMode,y=Date.now(),_=0;new Promise(function(E){if(h===f.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&ve&&(_=ve.getThroughputCapacityDelayMS(ot,1e3*J.getCurrentBufferLevel(ot.mediaType))))return setTimeout(E,_);E()}).then(function(){var E=Date.now();fetch(K.url,x).then(function(I){K.response||(K.response={}),K.response.status=I.status,K.response.statusText=I.statusText,K.response.responseURL=I.url,I.ok||K.onerror();var L,Z="",b=function(wt,Dt){var Rt;if(typeof Symbol>"u"||wt[Symbol.iterator]==null){if(Array.isArray(wt)||(Rt=m(wt))||Dt&&wt&&typeof wt.length=="number"){Rt&&(wt=Rt);var en=0,Ut=function(){};return{s:Ut,n:function(){return en>=wt.length?{done:!0}:{done:!1,value:wt[en++]}},e:function(Xt){throw Xt},f:Ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,Mn=!0,En=!1;return{s:function(){Rt=wt[Symbol.iterator]()},n:function(){var Xt=Rt.next();return Mn=Xt.done,Xt},e:function(Xt){En=!0,sn=Xt},f:function(){try{Mn||Rt.return==null||Rt.return()}finally{if(En)throw sn}}}}(I.headers.keys());try{for(b.s();!(L=b.n()).done;){var V=L.value;Z+=V+": "+I.headers.get(V)+`\r
`}}catch(wt){b.e(wt)}finally{b.f()}if(K.response.responseHeaders=Z,!I.body)return I.arrayBuffer().then(function(wt){K.response.response=wt;var Dt={loaded:wt.byteLength,total:wt.byteLength,stream:!1};K.progress(Dt),K.onload(),K.onend()});var le,Ie,me=parseInt(I.headers.get("Content-Length"),10),ke=0,ae=!1,Q=new Uint8Array,pe=0;if(h===f.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&ve){var De=E,Me=0,Te=d(I.body.tee(),2),tt=Te[0],ht=Te[1];le=tt.getReader(),Ie=[],le.read().then(function wt(Dt){var Rt=Dt.value,en=Dt.done;if(Me=Date.now(),Rt&&Rt.length){var Ut=Me-De,sn=Rt.length;Ie.push({chunkDownloadTimeRelativeMS:Me-E,chunkDownloadDurationMS:Ut,chunkBytes:sn,kbps:Math.round(8*sn/(Ut/1e3)),bufferLevel:J.getCurrentBufferLevel(ot.mediaType)})}if(en){var Mn=Me-E,En=Ie.reduce(function(Xt,Qt){return Xt+Qt.chunkBytes},0);return ve.addMeasurement(ot,Mn,Ie,y,_,Z),void K.progress({loaded:En,total:En,lengthComputable:!0,time:ve.getEstimatedDownloadDurationMS(ot),stream:!0})}return De=Date.now(),le.read().then(wt)}),K.reader=ht.getReader()}else K.reader=I.body.getReader();var St=[],It=[],bt=[],Nt=!0;We(K,function wt(Dt){var Rt=Dt.value;if(Dt.done){if(Q){if(h!==f.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var en=null;h===f.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&(en=function(En,Xt){try{var Qt,Jn;Qt=En.filter(function(wn,bn){return bn<En.length-1}),Jn=Xt.filter(function(wn,bn){return bn<Xt.length-1});var Xn=[];if(Qt.length>1){for(var yn=0,rr=0,un=0;un<Qt.length;un++)if(Qt[un]&&Jn[un]){var Qn=Jn[un].ts-Qt[un].ts;if(Qn>1)Xn.push(8*Jn[un].bytes/Qn);else{rr===0&&(rr=Qt[un].ts);var qn=Jn[un].ts-rr;qn>1?(Xn.push(8*yn/qn),yn=0,rr=0):yn+=Jn[un].bytes}}if(Xn.length>0)return Xn.reduce(function(wn,bn){return wn+bn},0)/Xn.length}return null}catch{return null}}(It,bt)),K.progress({loaded:ke,total:isNaN(me)?ke:me,lengthComputable:!0,time:$(St,ke),throughput:en,stream:!0})}K.response.response=Q.buffer}return K.onload(),void K.onend()}if(Rt&&Rt.length>0){Q=function(En,Xt){if(En.length===0)return Xt;var Qt=new Uint8Array(En.length+Xt.length);return Qt.set(En),Qt.set(Xt,En.length),Qt}(Q,Rt),ke+=Rt.length,St.push({ts:Date.now(),bytes:Rt.length}),h===f.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Nt&&Ge.findLastTopIsoBoxCompleted(["moof"],Q,pe).found&&(Nt=!1,It.push({ts:performance.now(),bytes:Rt.length}));var Ut=Ge.findLastTopIsoBoxCompleted(["moov","mdat"],Q,pe);if(Ut.found){var sn,Mn=Ut.lastCompletedOffset+Ut.size;h!==f.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Nt||(Nt=!0,bt.push({ts:performance.now(),bytes:Q.length})),Mn===Q.length?(sn=Q,Q=new Uint8Array):(sn=new Uint8Array(Q.subarray(0,Mn)),Q=Q.subarray(Mn)),K.progress({data:sn.buffer,lengthComputable:!1,noTrace:!0}),pe=0}else pe=Ut.lastCompletedOffset,ae||(K.progress({lengthComputable:!1,noTrace:!0}),ae=!0)}We(K,wt)})}).catch(function(I){K.onerror&&K.onerror(I)})})},abort:function(K){if(K.abortController)K.abortController.abort();else if(K.reader)try{K.reader.cancel(),K.onabort()}catch{}},calculateDownloadedTime:$,setup:function(K){J=K.dashMetrics}}}p.__dashjs_factory_name="FetchLoader";var T=o.a.getClassFactory(p),g=i(5),D=i(10),v=i(42),w=i(15),A=i(6),N=i(7),H=i(2);function S(){var P,J,oe=this.context,te={};function ve(){J=Object(A.a)(oe).getInstance().getLogger(P)}function Ge(We){for(var $={},K=0,Ue=0,$e=0,ot=0,He=We.length,q=0;q<He;++q)K+=We[q].chunkDownloadTimeRelativeMS,Ue+=We[q].bufferLevel,$e+=We[q].chunkDownloadTimeRelativeMS*We[q].bufferLevel,ot+=We[q].chunkDownloadTimeRelativeMS*We[q].chunkDownloadTimeRelativeMS;return $.m=($e-K*Ue/He)/(ot-K*K/He),$.b=Ue/He-$.m*K/He,function(U){return $.m*U+$.b}}function Ke(We){var $,K=!0,Ue=We.reduce(function($e,ot){return $e+ot.bufferLevelAtSegmentEnd},0)/We.length;return We.forEach(function($e){Math.abs($e.bufferLevelAtSegmentEnd/$e.bufferLevelAtSegmentStart)<.95&&(K=!1),$e.bufferLevelAtSegmentEnd/Ue<.8&&(K=!1),$?$>$e.bitrate&&(K=!1):$=$e.bitrate}),K}return P={setup:ve,addMeasurement:function(We,$,K,Ue,$e){We&&We.mediaType&&!te[We.mediaType]&&(te[We.mediaType]=[]);var ot=We.mediaInfo.bitrateList.find(function(He){return He.id===We.representationId});te[We.mediaType].push({index:We.index,repId:We.representationId,mediaType:We.mediaType,requestTimeMS:Ue,adjustedAvailabilityStartTimeMS:We.availabilityStartTime.getTime(),segDurationMS:1e3*We.duration,chunksDurationMS:K.reduce(function(He,q){return He+q.chunkDownloadDurationMS},0),segmentBytes:K.reduce(function(He,q){return He+q.chunkBytes},0),bitrate:ot&&ot.bandwidth,bitrateList:We.mediaInfo.bitrateList,chunkMeasurements:K,fetchDownloadDurationMS:$,throughputCapacityDelayMS:$e,getEstimatedBufferLevel:Ge(K.slice(1))}),te[We.mediaType].length>10&&te[We.mediaType].shift()},getThroughputCapacityDelayMS:function(We,$){var K=te[We.mediaType]&&te[We.mediaType].slice(-3);return!K||K.length<3?0:Ke(K)?$/4>250?250:$/4:0},getEstimatedDownloadDurationMS:function(We){var $=te[We.mediaType].slice(-1).pop(),K=te[We.mediaType].slice(-3),Ue=$.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;$.bufferLevelAtSegmentStart=$.getEstimatedBufferLevel(Ue/2),$.bufferLevelAtSegmentEnd=$.getEstimatedBufferLevel(Ue);var $e=Ke(K),ot=$e?.6:.8;if($.isBufferStable&&1.05*$.segDurationMS<$.fetchDownloadDurationMS)return $.fetchDownloadDurationMS;if(!$e||$.segDurationMS<$.fetchDownloadDurationMS||$.adjustedAvailabilityStartTimeMS<=$.requestTimeMS+$.throughputCapacityDelayMS-$.segDurationMS)return .8*$.fetchDownloadDurationMS;for(var He=$.requestTimeMS+$.throughputCapacityDelayMS-$.adjustedAvailabilityStartTimeMS,q=0,U=0,x=0,h=0;h<$.chunkMeasurements.length;h++){var y=$.chunkMeasurements[h];if(He<U+y.chunkDownloadDurationMS)break;U+=y.chunkDownloadDurationMS,q+=y.chunkBytes,x++}if(He<0&&J.warn("request time was before adjusted availibitly start time"),q&&U&&x>.2*$.chunkMeasurements.length){var _=q/U,E=$.segmentBytes/_;return $.fetchDownloadDurationMS<E?$.fetchDownloadDurationMS*ot:E*ot}var I=$.bitrate;return $.bitrateList.some(function(L){if(L.bandwidth>$.bitrate)return I=L.bandwidth,!0}),I===$.bitrate?$.fetchDownloadDurationMS*ot:ot*$.segmentBytes*8*1e3/I}},ve(),P}S.__dashjs_factory_name="LowLatencyThroughputModel";var M=o.a.getSingletonFactory(S),F=i(31);function ie(P,J,oe){return J in P?Object.defineProperty(P,J,{value:oe,enumerable:!0,configurable:!0,writable:!0}):P[J]=oe,P}function Ee(P){P=P||{};var J,oe,te,ve,Ge,Ke,We,$,K,Ue,$e=this.context,ot=P.errHandler,He=P.dashMetrics,q=P.mediaPlayerModel,U=P.requestModifier,x=P.boxParser,h=P.errors,y=P.requestTimeout||0,_=Object(N.a)($e).getInstance(),E=Object(l.a)($e).getInstance();function I(L,Z){var b,V=L.request,le=[],Ie=!0,me=!0,ke=new Date,ae=ke,Q=0,pe=null;if(!U||!He||!ot)throw new Error("config object is not correct or missing");var De,Me=function(Rt){if(me=!1,V.requestStartDate=ke,V.requestEndDate=new Date,V.firstByteDate=V.firstByteDate||ke,V.fileLoaderType=pe,!V.checkExistenceOnly){var en=b.response?b.response.responseURL:null,Ut=b.response?b.response.status:null,sn=b.response&&b.response.getAllResponseHeaders?b.response.getAllResponseHeaders():b.response?b.response.responseHeaders:[];He.addHttpRequest(V,en,Ut,sn,Rt?le:null),V.type===g.a.MPD_TYPE&&He.addManifestUpdate(V)}},Te=function(){if(oe.indexOf(b)!==-1&&(oe.splice(oe.indexOf(b),1),me))if(Me(!1),Z>0){try{E.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&V.type===g.a.MEDIA_SEGMENT_TYPE&&q.getRetryAttemptsForType(g.a.MEDIA_SEGMENT_TYPE)===Z&&_.trigger(H.a.ATTEMPT_BACKGROUND_SYNC)}catch{}Z--;var Rt={config:L};ve.push(Rt),Rt.timeout=setTimeout(function(){ve.indexOf(Rt)!==-1&&(ve.splice(ve.indexOf(Rt),1),I(L,Z))},q.getRetryIntervalsForType(V.type))}else{if(V.type===g.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;ot.error(new D.a(Ge[V.type],V.url+" is not available",{request:V,response:b.response})),L.error&&L.error(V,"error",b.response.statusText),L.complete&&L.complete(V,b.response.statusText)}};V.hasOwnProperty("availabilityTimeComplete")&&V.availabilityTimeComplete===!1&&window.fetch&&V.responseType==="arraybuffer"&&V.type===g.a.MEDIA_SEGMENT_TYPE?((De=T($e).create({requestModifier:U,lowLatencyThroughputModel:$,boxParser:x})).setup({dashMetrics:He}),pe=f.a.FILE_LOADER_TYPES.FETCH):(De=Object(u.a)($e).create({requestModifier:U}),pe=f.a.FILE_LOADER_TYPES.XHR);var tt=null,ht=U.modifyRequestURL(V.url);if(E.get().streaming.cmcd&&E.get().streaming.cmcd.enabled){var St=E.get().streaming.cmcd.mode;if(St===f.a.CMCD_MODE_QUERY){var It=function(Rt){try{var en=[],Ut=Ke.getQueryParameter(Rt);return Ut&&en.push(Ut),en}catch{return[]}}(V);ht=w.a.addAditionalQueryParameterToUrl(ht,It)}else St===f.a.CMCD_MODE_HEADER&&(tt=Ke.getHeaderParameters(V))}V.url=ht;var bt=V.checkExistenceOnly?g.a.HEAD:g.a.GET,Nt=We.getXHRWithCredentialsForType(V.type);b={url:ht,method:bt,withCredentials:Nt,request:V,onload:function(){b.response.status>=200&&b.response.status<=299&&(Me(!0),L.success&&L.success(b.response.response,b.response.statusText,b.response.responseURL),L.complete&&L.complete(V,b.response.statusText))},onend:Te,onerror:Te,progress:function(Rt){var en=new Date;Ie&&(Ie=!1,(!Rt.lengthComputable||Rt.lengthComputable&&Rt.total!==Rt.loaded)&&(V.firstByteDate=en)),Rt.lengthComputable&&(V.bytesLoaded=Rt.loaded,V.bytesTotal=Rt.total),Rt.noTrace||(le.push({s:ae,d:Rt.time?Rt.time:en.getTime()-ae.getTime(),b:[Rt.loaded?Rt.loaded-Q:0],t:Rt.throughput}),ae=en,Q=Rt.loaded),L.progress&&Rt&&L.progress(Rt)},onabort:function(){L.abort&&L.abort(V)},ontimeout:function(Rt){var en;if(Rt.lengthComputable){var Ut=Rt.loaded/Rt.total*100;en="Request timeout: loaded: "+Rt.loaded+", out of: "+Rt.total+" : "+Ut.toFixed(3)+"% Completed"}else en="Request timeout: non-computable download size";K.warn(en)},loader:De,timeout:y,headers:tt};var wt=new Date().getTime();if(isNaN(V.delayLoadingTime)||wt>=V.delayLoadingTime)oe.push(b),De.load(b);else{var Dt={httpRequest:b};te.push(Dt),Dt.delayTimeout=setTimeout(function(){if(te.indexOf(Dt)!==-1){te.splice(te.indexOf(Dt),1);try{ke=new Date,ae=ke,oe.push(Dt.httpRequest),De.load(Dt.httpRequest)}catch{Dt.httpRequest.onerror()}}},V.delayLoadingTime-wt)}}return J={load:function(L){L.request?I(L,q.getRetryAttemptsForType(L.request.type)):L.error&&L.error(L.request,"error")},abort:function(){ve.forEach(function(L){clearTimeout(L.timeout),L.config.request&&L.config.abort&&L.config.abort(L.config.request)}),ve=[],te.forEach(function(L){return clearTimeout(L.delayTimeout)}),te=[],oe.forEach(function(L){L.request.type!==g.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(L.onloadend=L.onerror=L.onprogress=void 0,L.loader.abort(L))}),oe=[]}},K=Object(A.a)($e).getInstance().getLogger(J),oe=[],te=[],ve=[],Ke=Object(v.a)($e).getInstance(),$=M($e).getInstance(),We=Object(F.a)($e).getInstance(),ie(Ue={},g.a.MPD_TYPE,h.DOWNLOAD_ERROR_ID_MANIFEST_CODE),ie(Ue,g.a.XLINK_EXPANSION_TYPE,h.DOWNLOAD_ERROR_ID_XLINK_CODE),ie(Ue,g.a.INIT_SEGMENT_TYPE,h.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),ie(Ue,g.a.MEDIA_SEGMENT_TYPE,h.DOWNLOAD_ERROR_ID_CONTENT_CODE),ie(Ue,g.a.INDEX_SEGMENT_TYPE,h.DOWNLOAD_ERROR_ID_CONTENT_CODE),ie(Ue,g.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,h.DOWNLOAD_ERROR_ID_CONTENT_CODE),ie(Ue,g.a.OTHER_TYPE,h.DOWNLOAD_ERROR_ID_CONTENT_CODE),Ge=Ue,J}Ee.__dashjs_factory_name="HTTPLoader";var Be=o.a.getClassFactory(Ee);function Le(){var P;function J(){P={}}function oe(){J()}return oe(),{getLoader:function(te){for(var ve in P)if(P.hasOwnProperty(ve)&&te.startsWith(ve))return P[ve];return Be},registerLoader:function(te,ve){P[te]=ve},unregisterLoader:function(te){P[te]&&delete P[te]},unregisterAllLoader:J,reset:oe}}Le.__dashjs_factory_name="SchemeLoaderFactory";var X=o.a.getSingletonFactory(Le);r.a=X},function(n,r,i){(function(o){function u(l){return Object.prototype.toString.call(l)}r.isArray=function(l){return Array.isArray?Array.isArray(l):u(l)==="[object Array]"},r.isBoolean=function(l){return typeof l=="boolean"},r.isNull=function(l){return l===null},r.isNullOrUndefined=function(l){return l==null},r.isNumber=function(l){return typeof l=="number"},r.isString=function(l){return typeof l=="string"},r.isSymbol=function(l){return typeof l=="symbol"},r.isUndefined=function(l){return l===void 0},r.isRegExp=function(l){return u(l)==="[object RegExp]"},r.isObject=function(l){return typeof l=="object"&&l!==null},r.isDate=function(l){return u(l)==="[object Date]"},r.isError=function(l){return u(l)==="[object Error]"||l instanceof Error},r.isFunction=function(l){return typeof l=="function"},r.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||l===void 0},r.isBuffer=o.isBuffer}).call(this,i(64).Buffer)},function(n,r,i){r.generateISD=i(78).generateISD,r.fromXML=i(79).fromXML,r.renderHTML=i(95).render},function(n,r,i){var o=i(3),u=i(14);function l(){return{customTimeRangeArray:[],length:0,add:function(f,d){var m=0;for(m=0;m<this.customTimeRangeArray.length&&f>this.customTimeRangeArray[m].start;m++);for(this.customTimeRangeArray.splice(m,0,{start:f,end:d}),m=0;m<this.customTimeRangeArray.length-1;m++)this.mergeRanges(m,m+1)&&m--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(f,d){for(var m=0;m<this.customTimeRangeArray.length;m++)if(f<=this.customTimeRangeArray[m].start&&d>=this.customTimeRangeArray[m].end)this.customTimeRangeArray.splice(m,1),m--;else{if(f>this.customTimeRangeArray[m].start&&d<this.customTimeRangeArray[m].end){this.customTimeRangeArray.splice(m+1,0,{start:d,end:this.customTimeRangeArray[m].end}),this.customTimeRangeArray[m].end=f;break}f>this.customTimeRangeArray[m].start&&f<this.customTimeRangeArray[m].end?this.customTimeRangeArray[m].end=f:d>this.customTimeRangeArray[m].start&&d<this.customTimeRangeArray[m].end&&(this.customTimeRangeArray[m].start=d)}this.length=this.customTimeRangeArray.length},mergeRanges:function(f,d){var m=this.customTimeRangeArray[f],c=this.customTimeRangeArray[d];return m.start<=c.start&&c.start<=m.end&&m.end<=c.end?(m.end=c.end,this.customTimeRangeArray.splice(d,1),!0):c.start<=m.start&&m.start<=c.end&&c.end<=m.end?(m.start=c.start,this.customTimeRangeArray.splice(d,1),!0):c.start<=m.start&&m.start<=c.end&&m.end<=c.end?(this.customTimeRangeArray.splice(f,1),!0):m.start<=c.start&&c.start<=m.end&&c.end<=m.end&&(this.customTimeRangeArray.splice(d,1),!0)},start:function(f){return Object(u.a)(f),f>=this.customTimeRangeArray.length||f<0?NaN:this.customTimeRangeArray[f].start},end:function(f){return Object(u.a)(f),f>=this.customTimeRangeArray.length||f<0?NaN:this.customTimeRangeArray[f].end}}}l.__dashjs_factory_name="CustomTimeRanges",r.a=o.a.getClassFactory(l)},function(n,r,i){i.d(r,"b",function(){return d});var o=i(3),u=i(34),l=i(1),f=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function d(){var c="WebKitMediaSource"in window,p="MediaSource"in window;return c||p}function m(){var c,p,T;return c={setConfig:function(g){g&&g.settings&&(p=g.settings)},supportsMediaSource:d,supportsEncryptedMedia:function(){return T},supportsCodec:function(g,D){return D!==l.a.AUDIO&&D!==l.a.VIDEO?Promise.resolve(!0):function(v,w){return p.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(v.codec&&w===l.a.AUDIO||w===l.a.VIDEO&&v.codec&&v.width&&v.height&&v.bitrate&&v.framerate)}(g,D)?function(v,w){return new Promise(function(A){if(v&&v.codec){var N={type:"media-source"};N[w]={},N[w].contentType=v.codec,N[w].width=v.width,N[w].height=v.height,N[w].bitrate=parseInt(v.bitrate),N[w].framerate=parseFloat(v.framerate),navigator.mediaCapabilities.decodingInfo(N).then(function(H){A(H.supported)}).catch(function(){A(!1)})}else A(!1)})}(g,D):function(v){return new Promise(function(w){if(v&&v.codec){var A=v.codec;v.width&&v.height&&(A+=';width="'+v.width+'";height="'+v.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(A)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(A)?w(!0):w(!1)}else w(!1)})}(g)},setEncryptedMediaSupported:function(g){T=g},supportsEssentialProperty:function(g){try{return u.a.indexOf(g.schemeIdUri)!==-1}catch{return!0}},codecRootCompatibleWithCodec:function(g,D){for(var v,w=g.split(".")[0],A=D.indexOf(w)===0,N=0;N<f.length;N++)if(f[N].codec===w){v=f[N];break}return v?A||v.compatibleCodecs.some(function(H){return D.indexOf(H)===0}):A}},T=!1,c}m.__dashjs_factory_name="Capabilities",r.a=o.a.getSingletonFactory(m)},function(n,r,i){(function(o){o.ns_tt="http://www.w3.org/ns/ttml",o.ns_tts="http://www.w3.org/ns/ttml#styling",o.ns_ttp="http://www.w3.org/ns/ttml#parameter",o.ns_xml="http://www.w3.org/XML/1998/namespace",o.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",o.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",o.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",o.ns_ebutts="urn:ebu:tt:style"})(r)},function(n,r,i){(function(o){!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(u,l,f,d){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var m,c,p=arguments.length;switch(p){case 0:case 1:return o.nextTick(u);case 2:return o.nextTick(function(){u.call(null,l)});case 3:return o.nextTick(function(){u.call(null,l,f)});case 4:return o.nextTick(function(){u.call(null,l,f,d)});default:for(m=new Array(p-1),c=0;c<m.length;)m[c++]=arguments[c];return o.nextTick(function(){u.apply(null,m)})}}}:n.exports=o}).call(this,i(25))},function(n,r,i){var o=i(64),u=o.Buffer;function l(d,m){for(var c in d)m[c]=d[c]}function f(d,m,c){return u(d,m,c)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?n.exports=o:(l(o,r),r.Buffer=f),l(u,f),f.from=function(d,m,c){if(typeof d=="number")throw new TypeError("Argument must not be a number");return u(d,m,c)},f.alloc=function(d,m,c){if(typeof d!="number")throw new TypeError("Argument must be a number");var p=u(d);return m!==void 0?typeof c=="string"?p.fill(m,c):p.fill(m):p.fill(0),p},f.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return u(d)},f.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},function(n,r,i){var o=i(41),u=i.n(o),l=i(1),f=i(0),d=i(9),m=i(7),c=i(2),p=i(3),T=i(6),g=i(4);function D(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve,Ce,Re,xe,Qe=this.context,B=Object(m.a)(Qe).getInstance();function z(){Ae(),he=!1,Se=0,Pe=0,Ce=!1,be=!0,_e=!1,Re=!1,fe=NaN,G&&(B.off(c.a.DATA_UPDATE_COMPLETED,Xe,O),B.off(c.a.LOADING_PROGRESS,Zt,O),B.off(c.a.MANIFEST_UPDATED,ee,O),B.off(c.a.STREAMS_COMPOSED,ze,O),B.off(g.a.PLAYBACK_ENDED,On,O),B.off(g.a.STREAM_INITIALIZING,qe,O),B.off(g.a.REPRESENTATION_SWITCH,Ne,O),B.off(g.a.BUFFER_LEVEL_STATE_CHANGED,yt,O),Fe(),G.removeEventListener("canplay",rt),G.removeEventListener("canplaythrough",lt),G.removeEventListener("play",mt),G.removeEventListener("waiting",ct),G.removeEventListener("playing",Ct),G.removeEventListener("pause",Pt),G.removeEventListener("error",pn),G.removeEventListener("seeking",Gt),G.removeEventListener("seeked",Yt),G.removeEventListener("timeupdate",Ht),G.removeEventListener("progress",Bt),G.removeEventListener("ratechange",Vt),G.removeEventListener("loadedmetadata",dn),G.removeEventListener("loadeddata",ln),G.removeEventListener("stalled",Tn),G.removeEventListener("ended",hn)),re=null,G=null,de=null,se=null}function ne(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((W(je)-Ze()).toFixed(5))}function W(je){var ut=je||de;return ut.start+ut.duration}function ge(){de&&G&&G.getElement()?G.play():he=!0}function Ae(){de&&G&&G.pause()}function we(je,ut,At){de&&G&&je!==(isNaN(fe)?G.getTime():fe)&&((ye=At===!0)||(fe=je),R.info("Requesting seek to time: "+je+(ye?" (internal)":"")),G.setCurrentTime(je,ut))}function Ze(){return de&&G?G.getTime():null}function et(){return de&&G?G.isPaused():null}function gt(){return de&&G?G.isSeeking():null}function st(){return de&&G?G.isStalled():null}function ft(){return de&&G?G.getPlaybackRate():null}function Ye(){return de&&G?G.getEnded():null}function Oe(){return se}function nt(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!et()&&se&&G.getReadyState()!==0&&!gt()&&!Ce){je||(je=C.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO);var ut=Ze(),At=it(ut,je),Mt=!isNaN(At)&&At!==ut;Mt&&!gt()&&(st()||Ve||G.getReadyState()===1)&&(R.debug("UpdateCurrentTime: Seek to actual time: ".concat(At," from currentTime: ").concat(ut)),we(At,!1,!1))}}function it(je,ut){var At=Y.getCurrentDVRInfo(ut),Mt=At?At.range:null;return Mt?je>Mt.end?Math.max(Mt.end-Se,Mt.start):je>0&&je+.25<Mt.start&&Math.abs(je-Mt.start)<31536e4?_e?Math.max(Mt.end-Se,Mt.start):Mt.start:je:NaN}function pt(){re===null&&(re=setInterval(function(){var je;B.trigger(c.a.WALLCLOCK_TIME_UPDATED,{isDynamic:se,time:new Date}),Oe()&&(C.addDVRMetric(),et()?(je=Date.now(),(!j||je>j+500)&&(j=je,Ht())):nt())},xe.get().streaming.wallclockTimeUpdateInterval))}function Fe(){clearInterval(re),re=null}function Xe(je){var ut=ce.convertRepresentationToRepresentationInfo(je.currentRepresentation),At=ut?ut.mediaInfo.streamInfo:null;At!==null&&de.id===At.id&&(de=At)}function rt(){B.trigger(c.a.CAN_PLAY)}function lt(){B.trigger(c.a.CAN_PLAY_THROUGH)}function yt(je){je.streamId===C.getActiveStreamInfo().id&&(Ve=je.state===d.a.BUFFER_EMPTY,xe.get().streaming.buffer.setStallState&&G.setStallState(je.mediaType,je.state===d.a.BUFFER_EMPTY))}function mt(){R.info("Native video element event: play"),nt(),pt(),B.trigger(c.a.PLAYBACK_STARTED,{startTime:Ze()})}function ct(){R.info("Native video element event: waiting"),B.trigger(c.a.PLAYBACK_WAITING,{playingTime:Ze()})}function Ct(){R.info("Native video element event: playing"),ye=!1,B.trigger(c.a.PLAYBACK_PLAYING,{playingTime:Ze()})}function Pt(){R.info("Native video element event: pause"),B.trigger(c.a.PLAYBACK_PAUSED,{ended:Ye()})}function Gt(){if(!ye){var je=Ze();isNaN(fe)||fe===je||(je=fe),fe=NaN,R.info("Seeking to: "+je),pt(),B.trigger(c.a.PLAYBACK_SEEKING,{seekTime:je,streamId:de.id})}}function Yt(){R.info("Native video element event: seeked"),ye=!1,B.trigger(c.a.PLAYBACK_SEEKED)}function Ht(){de&&B.trigger(c.a.PLAYBACK_TIME_UPDATED,{timeToEnd:ne(),time:Ze(),streamId:de.id})}function Bt(){B.trigger(c.a.PLAYBACK_PROGRESS,{streamId:de.id})}function Vt(){var je=ft();R.info("Native video element event: ratechange: ",je),B.trigger(c.a.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function dn(){R.info("Native video element event: loadedmetadata"),B.trigger(c.a.PLAYBACK_METADATA_LOADED),pt()}function ln(){R.info("Native video element event: loadeddata"),B.trigger(c.a.PLAYBACK_LOADED_DATA)}function hn(){R.info("Native video element event: ended"),Ae(),Fe();var je=C?C.getActiveStreamInfo():null;je&&B.trigger(c.a.PLAYBACK_ENDED,{isLast:je.isLast})}function On(je){if(re&&je.isLast){R.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var ut=je.seekTime?je.seekTime:W();G.setCurrentTime(ut),Ae(),Fe()}}function pn(je){var ut=je.target||je.srcElement;B.trigger(c.a.PLAYBACK_ERROR,{error:ut.error})}function Zt(je){if(je.stream===!1&&_e&&!isNaN(je.request.duration)){var ut=1.2*je.request.duration;ut>Se&&(R.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",ut.toFixed(2)),Se=ut)}}function Tn(je){B.trigger(c.a.PLAYBACK_STALLED,{e:je})}function qe(je){var ut;(ut=je.mediaInfo)&&ut.supplementalProperties&&ut.supplementalProperties[l.a.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]==="true"&&(R.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),_e=!0)}function Ne(je){var ut=C.getActiveStreamInfo();je&&ut&&je.currentRepresentation&&je.streamId&&je.streamId===ut.id&&je.mediaType&&(je.mediaType===l.a.VIDEO||je.mediaType===l.a.AUDIO)&&(be=je.currentRepresentation.availabilityTimeComplete,(_e=!be)&&!Re&&(Re=!0))}function ee(){Ce=!0}function ze(){Ce=!1}return O={initialize:function(je,ut){de=je,ut!==!0&&(G.addEventListener("canplay",rt),G.addEventListener("canplaythrough",lt),G.addEventListener("play",mt),G.addEventListener("waiting",ct),G.addEventListener("playing",Ct),G.addEventListener("pause",Pt),G.addEventListener("error",pn),G.addEventListener("seeking",Gt),G.addEventListener("seeked",Yt),G.addEventListener("timeupdate",Ht),G.addEventListener("progress",Bt),G.addEventListener("ratechange",Vt),G.addEventListener("loadedmetadata",dn),G.addEventListener("loadeddata",ln),G.addEventListener("stalled",Tn),G.addEventListener("ended",hn),se=de.manifestInfo.isDynamic,Ve=!1,ye=!1,B.on(c.a.DATA_UPDATE_COMPLETED,Xe,O),B.on(c.a.LOADING_PROGRESS,Zt,O),B.on(c.a.MANIFEST_UPDATED,ee,O),B.on(c.a.STREAMS_COMPOSED,ze,O),B.on(g.a.PLAYBACK_ENDED,On,O,{priority:m.a.EVENT_PRIORITY_HIGH}),B.on(g.a.STREAM_INITIALIZING,qe,O),B.on(g.a.REPRESENTATION_SWITCH,Ne,O),B.on(g.a.BUFFER_LEVEL_STATE_CHANGED,yt,O),he&&(he=!1,ge()))},setConfig:function(je){je&&(je.streamController&&(C=je.streamController),je.serviceDescriptionController&&(k=je.serviceDescriptionController),je.dashMetrics&&(Y=je.dashMetrics),je.adapter&&(ce=je.adapter),je.videoModel&&(G=je.videoModel),je.timelineConverter&&(ue=je.timelineConverter),je.settings&&(xe=je.settings))},getTimeToStreamEnd:ne,getBufferLevel:function(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ut=null;return C.getActiveStreamProcessors().forEach(function(At){if(!je||je.length===0||je.indexOf(At.getType())===-1){var Mt=At.getBufferLevel();ut=ut===null?Mt:Math.min(ut,Mt)}}),ut},getPlaybackStalled:function(){return Ve},getTime:Ze,getLowLatencyModeEnabled:function(){return _e},getInitialCatchupModeActivated:function(){return Re},getIsManifestUpdateInProgress:function(){return Ce},getPlaybackRate:ft,getPlayedRanges:function(){return de&&G?G.getPlayedRanges():null},getEnded:Ye,getIsDynamic:Oe,getStreamController:function(){return C},computeAndSetLiveDelay:function(je,ut){var At,Mt,rn,an=!isNaN(je)&&isFinite(je)?je:NaN,fn=ce.getSuggestedPresentationDelay(),ir=k.getServiceDescriptionSettings();return At=isNaN(xe.get().streaming.delay.liveDelay)?xe.get().streaming.delay.liveDelayFragmentCount===null||isNaN(xe.get().streaming.delay.liveDelayFragmentCount)||isNaN(an)?ir&&!isNaN(ir.liveDelay)&&ir.liveDelay>0?ir.liveDelay:xe.get().streaming.delay.useSuggestedPresentationDelay===!0&&fn!==null&&!isNaN(fn)&&fn>0?fn:isNaN(an)?ut&&!isNaN(ut.minBufferTime)?4*ut.minBufferTime:4*de.manifestInfo.minBufferTime:4*an:an*xe.get().streaming.delay.liveDelayFragmentCount:xe.get().streaming.delay.liveDelay,(rn=ce.getAvailabilityStartTime())!==null&&(Pe=rn),Mt=ut&&ut.dvrWindowSize>0?Math.min(At,ut.dvrWindowSize):At,Se=Mt,Mt},getLiveDelay:function(){return Se},getCurrentLiveLatency:function(){if(!se||isNaN(Pe))return NaN;var je=Ze();if(isNaN(je)||je===0)return 0;var ut=new Date().getTime()+1e3*ue.getClientTimeOffset();return Math.max(((ut-Pe-1e3*je)/1e3).toFixed(3),0)},play:ge,isPaused:et,isStalled:st,pause:Ae,isSeeking:gt,getStreamEndTime:W,seek:we,reset:z,updateCurrentTime:nt,getAvailabilityStartTime:function(){return Pe}},R=Object(T.a)(Qe).getInstance().getLogger(O),z(),O}D.__dashjs_factory_name="PlaybackController";var v=p.a.getSingletonFactory(D),w=i(20),A=i(10),N=i(11),H=i(16),S=i(5);function M(O){var R,C,k,Y,ce,G,ue=this.context,re=Object(H.a)(ue).getInstance(),Se=O.textController,de=O.eventBus,se=[],he=[],j=!1,Pe=O.mediaSource,be=null;function _e(W){return new Promise(function(ge){ne(function(){Y.changeType&&Y.changeType(W),ge()})})}function fe(W){return Y=Se.getTextSourceBuffer(W),Promise.resolve()}function ye(){if(typeof Y.addEventListener=="function")try{Y.addEventListener("updateend",B,!1),Y.addEventListener("error",z,!1),Y.addEventListener("abort",z,!1)}catch{G=setInterval(B,50)}else G=setInterval(B,50)}function Ve(W){return new Promise(function(ge){Y&&re.get().streaming.buffer.useAppendWindow?ne(function(){try{if(!Y)return void ge();var Ae=Pe.duration,we=0;W&&!isNaN(W.start)&&!isNaN(W.duration)&&isFinite(W.duration)&&(Ae=W.start+W.duration),W&&!isNaN(W.start)&&(we=W.start),Y.appendWindowEnd===Ae&&Y.appendWindowStart===we||(Y.appendWindowStart=0,Y.appendWindowEnd=Ae+.01,Y.appendWindowStart=Math.max(we-.1,0),k.debug("Updated append window for ".concat(ce.type,". Set start to ").concat(Y.appendWindowStart," and end to ").concat(Y.appendWindowEnd))),ge()}catch{k.warn("Failed to set append window"),ge()}}):ge()})}function Ce(W){return new Promise(function(ge){Y?ne(function(){try{Y.timestampOffset===W||isNaN(W)||(Y.timestampOffset=W,k.debug("Set MSE timestamp offset to ".concat(W))),ge()}catch{ge()}}):ge()})}function Re(){return new Promise(function(W){ne(function(){var ge=Y.appendWindowStart,Ae=Y.appendWindowEnd;Y&&(Y.abort(),Y.appendWindowStart=ge,Y.appendWindowEnd=Ae),W()})})}function xe(){if(!j&&he.length>0){j=!0;var W=he[0];he.splice(0,1);var ge=function(){j=!1,he.length>0&&xe.call(this),W&&W.data&&W.data.segmentType&&W.data.segmentType!==S.a.INIT_SEGMENT_TYPE&&delete W.data.bytes,W.promise.resolve({chunk:W.data})};try{be=W.request,W.data.bytes.byteLength===0?ge.call(this):(Y.appendBuffer?Y.appendBuffer(W.data.bytes):Y.append(W.data.bytes,W.data),ne(ge.bind(this)))}catch(Ae){k.fatal('SourceBuffer append failed "'+Ae+'"'),he.length>0?xe():j=!1,delete W.data.bytes,W.promise.reject({chunk:W.data,error:new A.a(Ae.code,Ae.message)})}}}function Qe(){se.length>0&&(Y.updating||(se.shift()(),Qe()))}function B(){Y.updating||Qe()}function z(W){var ge,Ae,we=W.target||{};ge=c.a.SOURCE_BUFFER_ERROR,Ae={error:we,lastRequestAppended:be},de.trigger(ge,Ae,{streamId:ce.streamInfo.id,mediaType:C})}function ne(W){se.push(W),Y.updating||Qe()}return R={getType:function(){return C},getAllBufferRanges:function(){try{return Y.buffered}catch(W){return k.error("getAllBufferRanges exception: "+W.message),null}},getBuffer:function(){return Y},append:function(W){var ge=this,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(we,Ze){W?(he.push({data:W,promise:{resolve:we,reject:Ze},request:Ae}),ne(xe.bind(ge))):Ze({chunk:W,error:new A.a(N.a.APPEND_ERROR_CODE,N.a.APPEND_ERROR_MESSAGE)})})},remove:function(W){return new Promise(function(ge,Ae){var we=W.start,Ze=W.end;we>=0&&Ze>we?ne(function(){try{Y.remove(we,Ze),ne(function(){ge({from:we,to:Ze,unintended:!1}),W.resolve&&W.resolve()})}catch(et){Ae({from:we,to:Ze,unintended:!1,error:new A.a(N.a.REMOVE_ERROR_CODE,N.a.REMOVE_ERROR_MESSAGE)}),W.reject&&W.reject(et)}}):ge()})},abort:function(){return new Promise(function(W){try{he=[],Pe.readyState==="open"?ne(function(){try{Y&&Y.abort(),W()}catch{W()}}):(Y&&Y.setTextTrack&&Pe.readyState==="ended"&&Y.abort(),W())}catch{W()}})},reset:function(){if(Y){try{se=[],function(){try{typeof Y.removeEventListener=="function"&&(Y.removeEventListener("updateend",B,!1),Y.removeEventListener("error",z,!1),Y.removeEventListener("abort",z,!1)),clearInterval(G)}catch(W){k.error(W)}}(),j=!1,he=[],Y.getClassName&&Y.getClassName()==="TextSourceBuffer"||(k.debug("Removing sourcebuffer from media source"),Pe.removeSourceBuffer(Y))}catch{}Y=null}be=null},updateTimestampOffset:Ce,initializeForStreamSwitch:function(W,ge,Ae){C=(ce=W).type;var we=ce.codec;(function(et){Y=et.getBuffer()})(Ae),ye();var Ze=[];return Ze.push(Re),Ze.push(Ve(ce.streamInfo)),Ze.push(_e(we)),ge&&ge.MSETimeOffset!==void 0&&Ze.push(Ce(ge.MSETimeOffset)),Promise.all(Ze)},initializeForFirstUse:function(W,ge,Ae){C=(ce=ge).type;var we=ce.codec;try{if(we.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return fe(W);Y=Pe.addSourceBuffer(we),ye();var Ze=[];return Ze.push(Ve(ce.streamInfo)),Ae&&Ae.MSETimeOffset!==void 0&&Ze.push(Ce(Ae.MSETimeOffset)),Promise.all(Ze)}catch(et){return ce.type==l.a.TEXT&&!ce.isFragmented||we.indexOf('codecs="stpp')!==-1||we.indexOf('codecs="vtt')!==-1?fe(W):Promise.reject(et)}},updateAppendWindow:Ve,changeType:_e},k=Object(T.a)(ue).getInstance().getLogger(R),R}M.__dashjs_factory_name="SourceBufferSink";var F=p.a.getClassFactory(M);function ie(){var O={};return{save:function(R){var C=R.streamId,k=R.representationId;O[C]=O[C]||{},O[C][k]=R},extract:function(R,C){return O&&O[R]&&O[R][C]?O[R][C]:null},reset:function(){O={}}}}ie.__dashjs_factory_name="InitCache";var Ee=p.a.getSingletonFactory(ie);function Be(O){O=O||{};var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve=this.context,Ce=Object(m.a)(Ve).getInstance(),Re=O.errHandler,xe=O.fragmentModel,Qe=O.representationController,B=O.adapter,z=O.textController,ne=O.abrController,W=O.playbackController,ge=O.streamInfo,Ae=O.type,we=O.settings;function Ze(qe){G=qe}function et(qe){return B.convertRepresentationToRepresentationInfo(Qe.getRepresentationForQuality(qe))}function gt(qe,Ne,ee){var ze=et(ee);return Ne&&Ne[Ae]&&(Ae===l.a.VIDEO||Ae===l.a.AUDIO)?Se.initializeForStreamSwitch(qe,ze,Ne[Ae]):Se.initializeForFirstUse(ge,qe,ze)}function st(qe){we.get().streaming.cacheInitSegments&&(C.info("Init fragment finished loading saving to",Ae+"'s init cache"),be.save(qe.chunk)),C.debug("Append Init fragment",Ae," with representationId:",qe.chunk.representationId," and quality:",qe.chunk.quality,", data size:",qe.chunk.bytes.byteLength),Ye(qe.chunk)}function ft(qe){Ye(qe.chunk,qe.request)}function Ye(qe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Se.append(qe,Ne).then(function(ee){nt(ee)}).catch(function(ee){nt(ee)}),qe.mediaInfo.type===l.a.VIDEO&&Zt(c.a.VIDEO_CHUNK_RECEIVED,{chunk:qe})}function Oe(qe){if(qe&&qe.length>0)for(var Ne=0,ee=qe.length;Ne<ee;Ne++)C.debug("Buffered range: "+qe.start(Ne)+" - "+qe.end(Ne)+", currentTime = ",W.getTime())}function nt(qe){if(qe.error)return qe.error.code===22&&function(){if(Pe=!0,ce=.8*On(),C.warn("Quota exceeded, Critical Buffer: "+ce),ce>0){var ee=Math.max(.2*ce,1),ze=ce-ee,je=Math.min(we.get().streaming.buffer.bufferTimeAtTopQuality,.9*ze),ut=Math.min(we.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*ze),At={streaming:{buffer:{bufferToKeep:parseFloat(ee.toFixed(5)),bufferTimeAtTopQuality:parseFloat(je.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(ut.toFixed(5))}}};we.update(At)}}(),void(qe.error.code!==22&&pn()||(C.warn("Clearing playback buffer to overcome quota exceed situation"),Zt(c.a.QUOTA_EXCEEDED,{criticalBufferLevel:ce,quotaExceededTime:qe.chunk.start}),Gt(Pt())));if(Se&&(yt(),Pe=!1,(se=qe.chunk)&&se.endFragment)){se&&!isNaN(se.index)&&(ue=Math.max(se.index,ue),mt());var Ne=Se.getAllBufferRanges();se.segmentType===S.a.MEDIA_SEGMENT_TYPE&&(Oe(Ne),Fe(),function(){if(!isNaN(ye)){if(Ae!==l.a.AUDIO&&Ae!==l.a.VIDEO)return void(ye=NaN);var ee=W.getTime(),ze=lt(ee,0),je=lt(ye,0);if(ze&&je&&ze.start===je.start)return void(ye=NaN);var ut=Qe.getCurrentRepresentation().segmentDuration,At=lt(ye,ut);At&&(we.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(ee-ye)>ut?ye<=At.end&&W.seek(Math.max(ye,At.start),!1,!0):ee<At.start&&W.seek(At.start,!1,!0))}}()),se&&Zt(c.a.BYTES_APPENDED_END_FRAGMENT,{quality:se.quality,startTime:se.start,index:se.index,bufferedRanges:Ne,segmentType:se.segmentType,mediaType:Ae})}}function it(){return new Promise(function(qe,Ne){var ee=pt();if(!ee||ee.length===0)return Fe(),void qe();Gt(ee).then(function(){qe()}).catch(function(ze){Ne(ze)})})}function pt(qe){var Ne=[],ee=Se.getAllBufferRanges();if(!ee||ee.length===0)return Ne;if(!qe&&qe!==0||isNaN(qe))Ne.push({start:ee.start(0),end:ee.end(ee.length-1)+.5});else{var ze=function(ut,At){var Mt=we.get().streaming.buffer.bufferToKeep,rn=At.start(0);if(ut-rn>Mt){var an=Math.max(0,ut-Mt),fn=xe.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,time:ut,threshold:.01})[0];if(fn&&(an=Math.min(fn.startTime,an)),an>0)return{start:rn,end:an}}return null}(qe,ee),je=function(ut,At){var Mt=At.end(At.length-1)+.5,rn=ge.manifestInfo.duration>=we.get().streaming.buffer.longFormContentDurationThreshold?we.get().streaming.buffer.bufferTimeAtTopQualityLongForm:we.get().streaming.buffer.bufferTimeAtTopQuality;if(Mt-ut>rn){var an=ut+rn,fn=xe.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,time:ut,threshold:.01})[0];if(fn&&(an=Math.max(fn.startTime+fn.duration,an)),an<Mt)return{start:an,end:Mt}}return null}(qe,ee);ze&&Ne.push(ze),je&&Ne.push(je)}return Ne}function Fe(){(!fe||Ae===l.a.TEXT&&z.isTextEnabled())&&yt()}function Xe(){ct()}function rt(){ct(),ye=NaN}function lt(qe,Ne){var ee,ze,je=Se.getAllBufferRanges(),ut=0,At=0,Mt=null,rn=null,an=0,fn=isNaN(Ne)?.15:Ne;if(je!=null){for(ze=0,ee=je.length;ze<ee;ze++)if(ut=je.start(ze),At=je.end(ze),Mt===null)an=Math.abs(ut-qe),(qe>=ut&&qe<At||an<=fn)&&(Mt=ut,rn=At);else{if(!((an=ut-rn)<=fn))break;rn=At}if(Mt!==null)return{start:Mt,end:rn}}return null}function yt(){if(W){var qe=we.get().streaming.gaps.jumpGaps&&!isNaN(we.get().streaming.gaps.smallGapLimit)?we.get().streaming.gaps.smallGapLimit:NaN;Y=Math.max(function(Ne,ee){var ze;return we.get().streaming.gaps.jumpGaps&&(ee=we.get().streaming.gaps.smallGapLimit),(ze=lt(Ne,ee))===null?0:ze.end-Ne}(W.getTime()||0,qe),0),Zt(c.a.BUFFER_LEVEL_UPDATED,{mediaType:Ae,bufferLevel:Y}),ct()}}function mt(){var qe=ue>=re-1,Ne=W.getTimeToStreamEnd(ge)-Y<=0;!qe&&!Ne||k||(hn(!0),C.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ge.id," and type ").concat(Ae)))}function ct(){Ae!==l.a.AUDIO&&Ae!==l.a.VIDEO||((!W.getLowLatencyModeEnabled()&&Y<we.get().streaming.buffer.stallThreshold||Y===0)&&!k?Ct(d.a.BUFFER_EMPTY):(k||Y>=we.get().streaming.buffer.stallThreshold||W.getLowLatencyModeEnabled()&&Y>0)&&Ct(d.a.BUFFER_LOADED))}function Ct(qe){de===qe||qe===d.a.BUFFER_EMPTY&&W.getTime()===0||Ae===l.a.TEXT&&!z.isTextEnabled()||(de=qe,Zt(c.a.BUFFER_LEVEL_STATE_CHANGED,{state:qe}),Zt(qe===d.a.BUFFER_LOADED?c.a.BUFFER_LOADED:c.a.BUFFER_EMPTY),C.debug(qe===d.a.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Pt(){var qe=[],Ne=Se.getAllBufferRanges();if(!Ne||Ne.length===0)return qe;var ee=W.getTime(),ze=Math.max(0,ee-we.get().streaming.buffer.bufferToKeep),je=xe.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,time:ee,threshold:.01})[0];if(je)ze=Math.min(je.startTime,ze);else if(ee===0&&W.getIsDynamic())return[];if(Ne.start(0)<=ze){for(var ut={start:0,end:ze},At=0;At<Ne.length&&Ne.end(At)<=ze;At++)ut.end=Ne.end(At);ut.start<ut.end&&qe.push(ut)}return qe}function Gt(qe){return new Promise(function(Ne,ee){if(qe&&Se&&qe.length!==0){var ze=[];qe.forEach(function(je){ze.push(function(ut){return new Promise(function(At,Mt){ut.resolve=At,ut.reject=Mt,_e.push(ut)})}(je))}),j||Yt(),Promise.all(ze).then(function(){Ne()}).catch(function(je){ee(je)})}else Ne()})}function Yt(){try{if(_e.length===0||!Se)return C.debug("Nothing to prune, halt pruning"),_e=[],void(j=!1);var qe=Se.getBuffer();if(!qe||!qe.buffered||qe.buffered.length===0)return C.debug("SourceBuffer is empty (or does not exist), halt pruning"),_e=[],void(j=!1);var Ne=_e.shift();C.debug("".concat(Ae,": Removing buffer from: ").concat(Ne.start," to ").concat(Ne.end)),j=!0,W.getTime()<Ne.end&&hn(!1),Se.remove(Ne).then(function(ee){Ht(ee)}).catch(function(ee){Ht(ee)})}catch{j=!1}}function Ht(qe){C.debug("onRemoved buffer from:",qe.from,"to",qe.to),Oe(Se.getAllBufferRanges()),_e.length===0&&(j=!1,yt()),qe.unintended&&(C.warn("Detected unintended removal from:",qe.from,"to",qe.to,"setting streamprocessor time to",qe.from),Zt(c.a.SEEK_TARGET,{time:qe.from})),j?Yt():(fe?fe=!1:yt(),Zt(c.a.BUFFER_CLEARED,{from:qe.from,to:qe.to,unintended:qe.unintended,hasEnoughSpaceToAppend:pn(),quotaExceeded:Pe}))}function Bt(qe){return new Promise(function(Ne){qe&&qe.MSETimeOffset!==void 0&&Se&&Se.updateTimestampOffset?Se.updateTimestampOffset(qe.MSETimeOffset).then(function(){Ne()}).catch(function(){Ne()}):Ne()})}function Vt(){return Se&&!k?Se.updateAppendWindow(ge):Promise.resolve()}function dn(){++he*(we.get().streaming.wallclockTimeUpdateInterval/1e3)>=we.get().streaming.buffer.bufferPruningInterval&&(he=0,Se&&Ae!==l.a.TEXT&&(k||Gt(Pt())))}function ln(){ct()}function hn(qe){k!==qe&&((k=qe)?Zt(c.a.BUFFERING_COMPLETED):re=Number.POSITIVE_INFINITY)}function On(){try{var qe,Ne,ee=Se.getAllBufferRanges(),ze=0;if(!ee)return ze;for(Ne=0,qe=ee.length;Ne<qe;Ne++)ze+=ee.end(Ne)-ee.start(Ne);return ze}catch{return 0}}function pn(){var qe=On();return isNaN(qe)||qe<ce}function Zt(qe,Ne){var ee=Ne||{};Ce.trigger(qe,ee,{streamId:ge.id,mediaType:Ae})}function Tn(qe,Ne){if(ce=Number.POSITIVE_INFINITY,de=void 0,re=Number.POSITIVE_INFINITY,ue=0,se=null,k=!1,j=!1,Pe=!1,Y=0,he=0,_e=[],ye=NaN,Se){var ee=Se;Se=null,qe||Ne||ee.abort().then(function(){ee.reset(Ne),ee=null})}fe=!1}return R={initialize:function(qe){Ze(qe),Ce.on(c.a.INIT_FRAGMENT_LOADED,st,R),Ce.on(c.a.MEDIA_FRAGMENT_LOADED,ft,R),Ce.on(c.a.WALLCLOCK_TIME_UPDATED,dn,R),Ce.on(g.a.PLAYBACK_PLAYING,rt,R),Ce.on(g.a.PLAYBACK_PROGRESS,Fe,R),Ce.on(g.a.PLAYBACK_TIME_UPDATED,Fe,R),Ce.on(g.a.PLAYBACK_RATE_CHANGED,ln,R),Ce.on(g.a.PLAYBACK_STALLED,Xe,R)},getStreamId:function(){return ge.id},getType:function(){return Ae},getBufferControllerType:function(){return"BufferController"},createBufferSink:function(qe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(ee,ze){if(be&&qe&&G){var je=ne.getQualityFor(Ae,ge.id);Se=F(Ve).create({mediaSource:G,textController:z,eventBus:Ce}),gt(qe,Ne,je).then(function(){return Bt(et(je))}).then(function(){ee(Se)}).catch(function(ut){C.fatal("Caught error on create SourceBuffer: "+ut),Re.error(new A.a(N.a.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,N.a.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Ae)),ze(ut)})}else ee(null)})},getBuffer:function(){return Se},getBufferLevel:function(){return Y},getRangeAt:lt,setMediaSource:Ze,getMediaSource:function(){return G},appendInitSegmentFromCache:function(qe){var Ne=be.extract(ge.id,qe);return!!Ne&&(C.info("Append Init fragment",Ae," with representationId:",Ne.representationId," and quality:",Ne.quality,", data size:",Ne.bytes.byteLength),Ye(Ne),!0)},getIsBufferingCompleted:function(){return k},setIsBufferingCompleted:hn,getIsPruningInProgress:function(){return j},reset:function(qe,Ne){Ce.off(c.a.INIT_FRAGMENT_LOADED,st,this),Ce.off(c.a.MEDIA_FRAGMENT_LOADED,ft,this),Ce.off(c.a.WALLCLOCK_TIME_UPDATED,dn,this),Ce.off(g.a.PLAYBACK_PLAYING,rt,this),Ce.off(g.a.PLAYBACK_PROGRESS,Fe,this),Ce.off(g.a.PLAYBACK_TIME_UPDATED,Fe,this),Ce.off(g.a.PLAYBACK_RATE_CHANGED,ln,this),Ce.off(g.a.PLAYBACK_STALLED,Xe,this),Tn(qe,Ne)},prepareForPlaybackSeek:function(){return k&&hn(!1),Se.abort()},prepareForReplacementTrackSwitch:function(qe){return new Promise(function(Ne,ee){Se.abort().then(function(){return Vt()}).then(function(){return Se.changeType(qe)}).then(function(){return it()}).then(function(){hn(!1),Ne()}).catch(function(ze){ee(ze)})})},prepareForNonReplacementTrackSwitch:function(qe){return new Promise(function(Ne,ee){Vt().then(function(){return Se.changeType(qe)}).then(function(){Ne()}).catch(function(ze){ee(ze)})})},prepareForReplacementQualitySwitch:function(){return new Promise(function(qe,Ne){Se.abort().then(function(){return Vt()}).then(function(){return it()}).then(function(){hn(!1),qe()}).catch(function(ee){Ne(ee)})})},updateAppendWindow:Vt,getAllRangesWithSafetyFactor:pt,getContinuousBufferTimeForTargetTime:function(qe){try{var Ne=qe,ee=Se.getAllBufferRanges();if(!ee||ee.length===0)return NaN;for(var ze=0;Ne===qe&&ze<ee.length;){var je=ee.start(ze),ut=ee.end(ze);Ne>=je&&Ne<=ut&&(Ne=ut),ze+=1}return Ne===qe?NaN:Ne}catch{}},clearBuffers:Gt,pruneAllSafely:it,updateBufferTimestampOffset:Bt,setSeekTarget:function(qe){ye=qe},segmentRequestingCompleted:function(qe){isNaN(qe)||(re=qe,mt())}},C=Object(T.a)(Ve).getInstance().getLogger(R),be=Ee(Ve).getInstance(),Tn(),R}Be.__dashjs_factory_name="BufferController";var Le=p.a.getClassFactory(Be);function X(O){O=O||{};var R,C,k,Y,ce,G,ue=this.context,re=Object(m.a)(ue).getInstance(),Se=O.textController,de=O.errHandler,se=O.streamInfo,he=O.type;function j(_e){Y=_e}function Pe(_e){var fe,ye;C!==_e&&(C=_e)&&(fe=c.a.BUFFERING_COMPLETED,ye={},re.trigger(fe,ye,{streamId:se.id,mediaType:he}))}function be(_e){_e.chunk.bytes&&!C&&(G.save(_e.chunk),ce.append(_e.chunk),Pe(!0))}return R={initialize:function(_e){j(_e)},getStreamId:function(){return se.id},getType:function(){return he},getBufferControllerType:function(){return"NotFragmentedTextBufferController"},createBufferSink:function(_e){return new Promise(function(fe,ye){try{(ce=F(ue).create({mediaSource:Y,textController:Se,eventBus:re})).initializeForFirstUse(se,_e),k||(ce.getBuffer()&&typeof ce.getBuffer().initialize=="function"&&ce.getBuffer().initialize(),k=!0),fe(ce)}catch(Ve){de.error(new A.a(N.a.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,N.a.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+he)),ye(Ve)}})},getBuffer:function(){return ce},getBufferLevel:function(){return 0},getRangeAt:function(){return null},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:j,getMediaSource:function(){return Y},appendInitSegmentFromCache:function(_e){return G.extract(se.id,_e)!==null},getIsBufferingCompleted:function(){return C},setIsBufferingCompleted:Pe,getIsPruningInProgress:function(){return!1},reset:function(_e){re.off(c.a.INIT_FRAGMENT_LOADED,be,R),!_e&&ce&&(ce.abort(),ce.reset(),ce=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return C=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},k=!1,Y=null,C=!1,G=Ee(ue).getInstance(),re.on(c.a.INIT_FRAGMENT_LOADED,be,R),R}X.__dashjs_factory_name="NotFragmentedTextBufferController";var P=p.a.getClassFactory(X);function J(O){O=O||{};var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe=this.context,be=Object(m.a)(Pe).getInstance(),_e=O.dashMetrics,fe=O.mediaPlayerModel,ye=O.fragmentModel,Ve=O.abrController,Ce=O.playbackController,Re=O.textController,xe=O.type,Qe=O.bufferController,B=O.settings;function z(Ye){if(!Qe.getIsBufferingCompleted()){ne();var Oe=isNaN(Ye)?0:Ye;G=setTimeout(W,Oe)}}function ne(){G&&(clearTimeout(G),G=null)}function W(){try{if(function(){try{return xe===l.a.TEXT&&!Re.isTextEnabled()||Ce.isPaused()&&(!Ce.getStreamController().getInitialPlayback()||!Ce.getStreamController().getAutoPlay())&&!B.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void ne();if(function(){try{return Y&&(isNaN(de)||se||(Oe=C.id,nt=Ve.getMaxAllowedIndexFor(xe,Oe),!(!isNaN(Se)&&Se==nt||(k.info("Top quality "+xe+" index has changed from "+Se+" to "+nt),Se=nt,0)))||function(){return!xe||!Y?!0:_e.getCurrentBufferLevel(xe)<ge()}())}catch{return!1}var Oe,nt}()){var Ye=!1;j&&(Ye=Ve.checkPlaybackQuality(xe,C.id)),Ye||(he||Y.quality!==de||se?(se?(k.debug("Switch track for "+xe+", representation id = "+Y.id),se=!1):k.debug("Quality has changed, get init request for representationid = "+Y.id),be.trigger(c.a.INIT_FRAGMENT_NEEDED,{representationId:Y.id,sender:R},{streamId:C.id,mediaType:xe}),j=!1,he=!1):(k.debug("Media segment needed for ".concat(xe," and stream id ").concat(C.id)),be.trigger(c.a.MEDIA_FRAGMENT_NEEDED,{},{streamId:C.id,mediaType:xe}),j=!0))}else z(Ce.getLowLatencyModeEnabled()?B.get().streaming.scheduling.lowLatencyTimeout:B.get().streaming.scheduling.defaultTimeout)}catch{z(Ce.getLowLatencyModeEnabled()?B.get().streaming.scheduling.lowLatencyTimeout:B.get().streaming.scheduling.defaultTimeout)}}function ge(){var Ye=NaN;return xe&&Y?Ye=xe===l.a.TEXT?function(){try{if(Re.isTextEnabled()){if(isNaN(Y.fragmentDuration)){var Oe=_e.getCurrentSchedulingInfo(d.a.SCHEDULING_INFO);return Oe?Oe.duration:0}return Y.fragmentDuration}return 0}catch{return 0}}():xe===l.a.AUDIO&&ue?function(){try{var Oe=_e.getCurrentBufferLevel(l.a.VIDEO);return isNaN(Y.fragmentDuration)?Oe+1:Math.max(Oe+1,Y.fragmentDuration)}catch{return 0}}():function(){try{var Oe=Y.mediaInfo.streamInfo;return Ve.isPlayingAtTopQuality(Oe)?Oe.manifestInfo.duration>=B.get().streaming.buffer.longFormContentDurationThreshold?B.get().streaming.buffer.bufferTimeAtTopQualityLongForm:B.get().streaming.buffer.bufferTimeAtTopQuality:fe.getStableBufferTime()}catch{return fe.getStableBufferTime()}}():Ye}function Ae(){we(!0)}function we(Ye){if(Ce&&ye){var Oe=ye.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,time:Ce.getTime(),threshold:0})[0];Oe&&Ce.getTime()>=Oe.startTime&&((!re.mediaInfo||Oe.mediaInfo.type===re.mediaInfo.type&&Oe.mediaInfo.id!==re.mediaInfo.id)&&Ye&&be.trigger(c.a.TRACK_CHANGE_RENDERED,{mediaType:xe,oldMediaInfo:re.mediaInfo,newMediaInfo:Oe.mediaInfo,streamId:C.id}),Oe.quality===re.quality&&Oe.adaptationIndex===re.adaptationIndex||!Ye||(k.debug("Quality change rendered for streamId ".concat(C.id," and type ").concat(xe)),be.trigger(c.a.QUALITY_CHANGE_RENDERED,{mediaType:xe,oldQuality:re.quality,newQuality:Oe.quality,streamId:C.id})),re={mediaInfo:Oe.mediaInfo,quality:Oe.quality,adaptationIndex:Oe.adaptationIndex})}}function Ze(Ye){k.debug("Appended bytes for ".concat(Ye.mediaType," and stream id ").concat(C.id)),(isNaN(Ye.index)||isNaN(de))&&(de=Ye.quality,k.info("["+xe+"] lastInitializedRepresentationInfo changed to "+Ye.quality)),z(0)}function et(){ye.abortRequests(),ne()}function gt(){B.get().streaming.scheduling.scheduleWhilePaused||z()}function st(Ye){_e.updatePlayListTraceMetrics({playbackspeed:Ye.playbackRate.toString()})}function ft(){j=!0,ce=0,de=NaN,re={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},Se=NaN,se=!1,he=!1}return R={initialize:function(Ye){ue=Ye,be.on(c.a.BYTES_APPENDED_END_FRAGMENT,Ze,R),be.on(c.a.URL_RESOLUTION_FAILED,et,R),be.on(g.a.PLAYBACK_STARTED,gt,R),be.on(g.a.PLAYBACK_RATE_CHANGED,st,R),be.on(g.a.PLAYBACK_TIME_UPDATED,Ae,R)},getType:function(){return xe},getStreamId:function(){return C.id},setCurrentRepresentation:function(Ye){Y=Ye},setTimeToLoadDelay:function(Ye){ce=Ye},getTimeToLoadDelay:function(){return ce},setSwitchTrack:function(Ye){se=Ye},getSwitchStrack:function(){return se},startScheduleTimer:z,clearScheduleTimer:ne,reset:function(){be.off(c.a.BYTES_APPENDED_END_FRAGMENT,Ze,R),be.off(c.a.URL_RESOLUTION_FAILED,et,R),be.off(g.a.PLAYBACK_STARTED,gt,R),be.off(g.a.PLAYBACK_RATE_CHANGED,st,R),be.off(g.a.PLAYBACK_TIME_UPDATED,Ae,R),ne(),we(!1),ft(),C=null},getBufferTarget:ge,getPlaybackController:function(){return Ce},setCheckPlaybackQuality:function(Ye){j=Ye},setInitSegmentRequired:function(Ye){he=Ye}},k=Object(T.a)(Pe).getInstance().getLogger(R),ft(),C=O.streamInfo,R}J.__dashjs_factory_name="ScheduleController";var oe=p.a.getClassFactory(J),te=i(58),ve=i(14),Ge=i(37),Ke=i(26),We=i(13),$=i(22);function K(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}var Ue=function O(){K(this,O),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Ue.INITIAL_PLAYOUT_START_REASON="initial_playout",Ue.SEEK_START_REASON="seek",Ue.RESUME_FROM_PAUSE_START_REASON="resume",Ue.METRICS_COLLECTION_START_REASON="metrics_collection_start";var $e=function O(){K(this,O),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};$e.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",$e.REBUFFERING_REASON="rebuffering",$e.USER_REQUEST_STOP_REASON="user_request",$e.END_OF_PERIOD_STOP_REASON="end_of_period",$e.END_OF_CONTENT_STOP_REASON="end_of_content",$e.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",$e.FAILURE_STOP_REASON="failure";var ot=i(38);function He(O){O=O||{};var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe=this.context,be=Object(m.a)(Pe).getInstance(),_e=O.streamInfo,fe=O.type,ye=O.errHandler,Ve=O.mimeType,Ce=O.timelineConverter,Re=O.adapter,xe=O.manifestModel,Qe=O.mediaPlayerModel,B=O.fragmentModel,z=O.abrController,ne=O.playbackController,W=O.mediaController,ge=O.textController,Ae=O.dashMetrics,we=O.settings,Ze=O.boxParser,et=O.segmentBlacklistController;function gt(){return _e.id}function st(){return fe}function ft(){return Re.getIsTextTrack(re.getData())}function Ye(){ce=[],Y=null,j=0,Se=!1,de=!1}function Oe(Ne){var ee=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(Ne.sender){if(ne.getIsManifestUpdateInProgress())Xe();else if((!ft()||ge.isTextEnabled())&&G&&Ne.representationId&&!G.appendInitSegmentFromCache(Ne.representationId)){var ze=re.getCurrentRepresentation();if(ze.range===0)return void nt();var je=se?se.getInitRequest(Y,ze):null;je?B.executeRequest(je):ee&&(ue.setInitSegmentRequired(!0),Xe())}}}function nt(Ne){var ee=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ne.getIsManifestUpdateInProgress()||G.getIsPruningInProgress())Xe();else{var ze=Fe();ze?(Se=!1,it(ze)):pt(ee)}}function it(Ne){isNaN(Ne.startTime+Ne.duration)||(j=Ne.startTime+Ne.duration),Ne.delayLoadingTime=new Date().getTime()+ue.getTimeToLoadDelay(),ue.setTimeToLoadDelay(0),function(ee){var ze=ee.url;return ee.range&&(ze=ze.concat("_",ee.range)),et.contains(ze)}(Ne)?(C.warn("Fragment request url ".concat(Ne.url," for stream id ").concat(_e.id," and media type ").concat(fe," is on the ignore list and will be skipped")),Xe()):(C.debug("Next fragment request url for stream id ".concat(_e.id," and media type ").concat(fe," is ").concat(Ne.url)),B.executeRequest(Ne))}function pt(Ne){var ee,ze=re.getCurrentRepresentation();if(we.get().streaming.gaps.enableSeekFix&&(Se||ne.getTime()===0)&&(k?k&&ze.segmentInfoType===f.a.SEGMENT_TIMELINE&&(ee=se.getValidTimeAheadOfTargetTime(j,Y,ze,we.get().streaming.gaps.threshold)):ee=se.getValidTimeAheadOfTargetTime(j,Y,ze,we.get().streaming.gaps.threshold),!isNaN(ee)&&ee!==j))return void(ne.isSeeking()||ne.getTime()===0?(C.warn("Adjusting playback time ".concat(ee," because of gap in the manifest. Seeking by ").concat(ee-j)),ne.seek(ee,!1,!1)):(C.warn("Adjusting buffering time ".concat(ee," because of gap in the manifest. Adjusting time by ").concat(ee-j)),qe(ee),Ne&&Xe()));if(se.isLastSegmentRequested(ze,j)){var je=se.getCurrentIndex();return C.debug("Segment requesting for stream ".concat(_e.id," has finished")),be.trigger(c.a.STREAM_REQUESTING_COMPLETED,{segmentIndex:je},{streamId:_e.id,mediaType:fe}),G.segmentRequestingCompleted(je),void ue.clearScheduleTimer()}Ne&&Xe()}function Fe(){var Ne,ee=ln();if(isNaN(j)||st()===l.a.TEXT&&!ge.isTextEnabled())return null;var ze=Se;if(se){var je=re&&ee?re.getRepresentationForQuality(ee.quality):null;Ne=ze?se.getSegmentRequestForTime(Y,je,j):se.getNextSegmentRequest(Y,je)}return Ne}function Xe(){ue.startScheduleTimer(ne.getLowLatencyModeEnabled()?we.get().streaming.scheduling.lowLatencyTimeout:we.get().streaming.scheduling.defaultTimeout)}function rt(Ne){Ne.error||(ue.setCurrentRepresentation(Re.convertRepresentationToRepresentationInfo(Ne.currentRepresentation)),G.getIsBufferingCompleted()||G.updateBufferTimestampOffset(Ne.currentRepresentation))}function lt(Ne){Ae.addBufferState(fe,Ne.state,ue.getBufferTarget()),Ne.state!==d.a.BUFFER_EMPTY||ne.isSeeking()||(C.info("Buffer is empty! Stalling!"),Ae.pushPlayListTraceMetrics(new Date,$e.REBUFFERING_REASON))}function yt(Ne){B.syncExecutedRequestsWithBufferedRange(G.getBuffer().getAllBufferRanges(),_e.duration),Ne.quotaExceeded&&Ne.from>ne.getTime()&&qe(Ne.from),Ne.hasEnoughSpaceToAppend&&Ne.quotaExceeded&&ue.startScheduleTimer()}function mt(Ne){if(Ne&&Ne.lastRequestAppended&&Ne.lastRequestAppended.url){var ee=Ne.lastRequestAppended.url;Ne.lastRequestAppended.range&&(ee=ee.concat("_",Ne.lastRequestAppended.range)),C.warn("Blacklisting segment with url ".concat(ee)),et.add(ee)}}function ct(){Zt(),de=!1}function Ct(Ne){C.info("onFragmentLoadingAbandoned request: "+Ne.request.url+" has been aborted"),ne.isSeeking()||ue.getSwitchStrack()||de||(C.info("onFragmentLoadingAbandoned request: "+Ne.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ne.request&&Ne.request.isInitializationRequest()?ue.setInitSegmentRequired(!0):qe(Ne.request.startTime+Ne.request.duration/2),ue.startScheduleTimer(0))}function Pt(Ne){C.info("OnFragmentLoadingCompleted for stream id "+_e.id+" and media type "+fe+" - Url:",Ne.request?Ne.request.url:"undefined",Ne.request.range?", Range:"+Ne.request.range:""),ft()&&ue.startScheduleTimer(0),Ne.error&&Ne.request.serviceLocation&&function(ee){C.info("Fragment loading completed with an error"),!(!ee||!ee.request||!ee.request.type)&&(ee.request.type===S.a.INIT_SEGMENT_TYPE?Oe({representationId:ee.request.representationId,sender:{}},!1):ee.request.type===S.a.MEDIA_SEGMENT_TYPE&&(qe(ee.request.startTime+ee.request.duration/2),nt({},!1)))}(Ne)}function Gt(){qe(ne.getTime()),dn().startScheduleTimer()}function Yt(Ne){var ee=Ne.currentTrackInfo;if(ee){var ze=ce.find(function(je){return je.index===ee.index&&je.lang===ee.lang});ze&&Vt(ze).then(function(){G.setIsBufferingCompleted(!1),qe(ne.getTime()),ue.setInitSegmentRequired(!0),ue.startScheduleTimer()})}}function Ht(Ne){qe(Ne.quotaExceededTime),ue.clearScheduleTimer()}function Bt(){return G?G.getBuffer():null}function Vt(Ne){Ne===Y||Ne&&Y&&Ne.type!==Y.type||(Y=Ne);var ee=Re.getRealAdaptation(_e,Y),ze=Re.getVoRepresentations(Y);if(re){var je,ut=re.getData(),At=z.getMaxAllowedIndexFor(fe,_e.id),Mt=z.getMinAllowedIndexFor(fe,_e.id),rn=null;return ut!==null&&ut.id===ee.id||fe===l.a.TEXT?je=z.getQualityFor(fe,_e.id):(rn=z.getThroughputHistory().getAverageThroughput(fe,k)||z.getInitialBitrateFor(fe,_e.id),je=z.getQualityForBitrate(Y,rn,_e.id)),Mt!==void 0&&je<Mt&&(je=Mt),je>At&&(je=At),re.updateData(ee,ze,fe,Y.isFragmented,je)}return Promise.resolve()}function dn(){return ue}function ln(Ne){var ee;return Ne!==void 0?(Object(ve.a)(Ne),ee=re?re.getRepresentationForQuality(Ne):null):ee=re?re.getCurrentRepresentation():null,Re.convertRepresentationToRepresentationInfo(ee)}function hn(){return!!G&&G.getIsBufferingCompleted()}function On(Ne){var ee=Ne.chunk,ze=ee.bytes,je=ee.quality,ut=ln(je),At=re&&ut?re.getRepresentationForQuality(ut.quality):null;if(ut&&At){var Mt=Re.getEventsFor(ut.mediaInfo),rn=Re.getEventsFor(ut,At);if(Mt&&Mt.length>0||rn&&rn.length>0){var an=function(fn,ir,Bn,fi){try{for(var da={},Pi=[],_r=Bn.concat(fi),Vr=0,Pr=_r.length;Vr<Pr;Vr++)da[_r[Vr].schemeIdUri+"/"+_r[Vr].value]=_r[Vr];var Li=Object($.a)(Pe).getInstance().parse(fn),Ar=Li.getBoxes("emsg");if(!Ar||Ar.length===0)return Pi;for(var Qr=Li.getBox("sidx"),ha=!Qr||isNaN(Qr.earliest_presentation_time)||isNaN(Qr.timescale)?ir&&!isNaN(ir.mediaStartTime)?ir.mediaStartTime:0:Qr.earliest_presentation_time/Qr.timescale,Ti=Math.max(ha,0),xi=re.getCurrentRepresentation(),Fi=0,vs=Ar.length;Fi<vs;Fi++){var Ga=Re.getEvent(Ar[Fi],da,Ti,xi);Ga&&Pi.push(Ga)}return Pi}catch{return[]}}(ze,B.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,quality:je,index:ee.index})[0],Mt,rn);be.trigger(c.a.INBAND_EVENTS,{events:an},{streamId:_e.id})}}}function pn(){var Ne=ne.getTime();we.get().streaming.buffer.flushBufferAtTrackSwitch&&ne.seek(Ne+.001,!1,!0),qe(Ne),G.setSeekTarget(Ne),ue.startScheduleTimer()}function Zt(){var Ne=ne.getTime(),ee=G.getContinuousBufferTimeForTargetTime(Ne);qe(isNaN(ee)?Ne:ee),ue.startScheduleTimer()}function Tn(Ne){Ne&&!isNaN(Ne.time)&&(qe(Ne.time),G.setSeekTarget(Ne.time))}function qe(Ne){j=Ne,Se=!0}return R={initialize:function(Ne,ee,ze){he=Object(ot.a)(Pe).create({events:c.a,eventBus:be,streamInfo:_e,timelineConverter:Ce,dashConstants:f.a,segmentBaseController:O.segmentBaseController,type:fe}),se=Object(Ge.a)(Pe).create({streamInfo:_e,type:fe,timelineConverter:Ce,dashMetrics:Ae,mediaPlayerModel:Qe,baseURLController:O.baseURLController,errHandler:ye,segmentsController:he,settings:we,boxParser:Ze,events:c.a,eventBus:be,errors:N.a,debug:Object(T.a)(Pe).getInstance(),requestModifier:Object(Ke.a)(Pe).getInstance(),dashConstants:f.a,constants:l.a,urlUtils:Object(We.a)(Pe).getInstance()}),k=_e.manifestInfo.isDynamic,se.initialize(k),z.registerStreamType(fe,R),re=Object(te.a)(Pe).create({streamInfo:_e,type:fe,abrController:z,dashMetrics:Ae,playbackController:ne,timelineConverter:Ce,dashConstants:f.a,events:c.a,eventBus:be,errors:N.a,isDynamic:k,segmentsController:he}),(G=function(je,ut){var At=null;return je?(At=je!==l.a.TEXT||ut?Le(Pe).create({streamInfo:_e,type:je,mediaPlayerModel:Qe,manifestModel:xe,fragmentModel:B,errHandler:ye,mediaController:W,representationController:re,adapter:Re,textController:ge,abrController:z,playbackController:ne,settings:we}):P(Pe).create({streamInfo:_e,type:je,mimeType:Ve,fragmentModel:B,textController:ge,errHandler:ye,settings:we}),At):(ye.error(new A.a(N.a.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,N.a.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(fe,ze))&&G.initialize(Ne),(ue=oe(Pe).create({streamInfo:_e,type:fe,mimeType:Ve,adapter:Re,dashMetrics:Ae,mediaPlayerModel:Qe,fragmentModel:B,abrController:z,playbackController:ne,textController:ge,mediaController:W,bufferController:G,settings:we})).initialize(ee),j=0,Se=!1},getStreamId:gt,getType:st,isUpdating:function(){return!!re&&re.isUpdating()},getBufferController:function(){return G},getFragmentModel:function(){return B},getScheduleController:dn,getRepresentationController:function(){return re},getRepresentationInfo:ln,getBufferLevel:function(){return G?G.getBufferLevel():0},isBufferingCompleted:hn,createBufferSinks:function(Ne){var ee=Bt();return ee?Promise.resolve(ee):G?G.createBufferSink(Y,Ne):Promise.resolve(null)},updateStreamInfo:function(Ne){return _e=Ne,hn()?Promise.resolve():G.updateAppendWindow()},getStreamInfo:function(){return _e},selectMediaInfo:Vt,clearMediaInfoArray:function(){ce=[]},addMediaInfo:function(Ne){ce.indexOf(Ne)===-1&&ce.push(Ne)},prepareTrackSwitch:function(){return new Promise(function(Ne){C.debug("Preparing track switch for type ".concat(fe));var ee=fe===l.a.TEXT||we.get().streaming.trackSwitchMode[fe]===l.a.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ne.getTimeToStreamEnd(_e)>we.get().streaming.buffer.stallThreshold;if(G.getIsBufferingCompleted()&&!ee)return G.prepareForNonReplacementTrackSwitch(Y.codec).then(function(){be.trigger(c.a.BUFFERING_COMPLETED,{},{streamId:_e.id,mediaType:fe})}).catch(function(){be.trigger(c.a.BUFFERING_COMPLETED,{},{streamId:_e.id,mediaType:fe})}),void Ne();ue.clearScheduleTimer(),ue.setSwitchTrack(!0),ee?(be.trigger(c.a.BUFFER_REPLACEMENT_STARTED,{mediaType:fe,streamId:_e.id},{mediaType:fe,streamId:_e.id}),B.abortRequests(),G.prepareForReplacementTrackSwitch(Y.codec).then(function(){var ze=ln();return G.updateBufferTimestampOffset(ze)}).then(function(){pn(),Ne()}).catch(function(){pn(),Ne()})):G.prepareForNonReplacementTrackSwitch(Y.codec).then(function(){Zt(),Ne()}).catch(function(){Zt(),Ne()})})},prepareQualityChange:function(Ne){C.debug("Preparing quality switch for type ".concat(fe));var ee=Ne.newQuality;de=!0,ue.clearScheduleTimer();var ze=ln(ee);ue.setCurrentRepresentation(ze),re.prepareQualityChange(ee),B.abortRequests(),G.updateBufferTimestampOffset(ze).then(function(){Ne.reason&&Ne.reason.forceReplace?(be.trigger(c.a.BUFFER_REPLACEMENT_STARTED,{mediaType:fe,streamId:_e.id},{mediaType:fe,streamId:_e.id}),G.prepareForReplacementQualitySwitch().then(function(){pn(),de=!1}).catch(function(){pn(),de=!1})):we.get().streaming.buffer.fastSwitchEnabled?function(je){var ut=ne.getTime(),At=B.getRequests({state:w.a.FRAGMENT_MODEL_EXECUTED,time:ut+1.5,threshold:0})[0];if(At&&!ft()){var Mt=G.getBufferLevel(),rn=z.getAbandonmentStateFor(_e.id,fe);At.quality<je.quality&&Mt>=1.5&&rn!==d.a.ABANDON_LOAD?(qe(ut+1.5),ue.setCheckPlaybackQuality(!1),ue.startScheduleTimer()):ct()}else ue.startScheduleTimer();de=!1}(ze):ct(),Ae.pushPlayListTraceMetrics(new Date,$e.REPRESENTATION_SWITCH_STOP_REASON),Ae.createPlaylistTraceMetrics(ze.id,1e3*ne.getTime(),ne.getPlaybackRate())})},getMediaInfo:function(){return Y},getMediaSource:function(){return G.getMediaSource()},setMediaSource:function(Ne){G.setMediaSource(Ne)},getBuffer:Bt,setExplicitBufferingTime:qe,finalisePlayList:function(Ne,ee){Ae.pushPlayListTraceMetrics(Ne,ee)},probeNextRequest:function(){var Ne=ln(),ee=re&&Ne?re.getRepresentationForQuality(Ne.quality):null;return se.getNextSegmentRequestIdempotent(Y,ee)},prepareInnerPeriodPlaybackSeeking:function(Ne){return new Promise(function(ee){ue.clearScheduleTimer(),B.abortRequests(),G.prepareForPlaybackSeek().then(function(){var ze=G.getAllRangesWithSafetyFactor(Ne.seekTime);return G.clearBuffers(ze)}).then(function(){var ze=G.getContinuousBufferTimeForTargetTime(Ne.seekTime);if(!isNaN(ze)&&!isNaN(_e.duration)&&isFinite(_e.duration)&&ze>=_e.start+_e.duration)G.setIsBufferingCompleted(!0),ee();else{var je=isNaN(ze)?Ne.seekTime:ze;qe(je),G.setSeekTarget(je);var ut=[];ut.push(G.updateAppendWindow());var At=ln();ut.push(G.updateBufferTimestampOffset(At)),Promise.all(ut).then(function(){ue.setInitSegmentRequired(!0),ue.setCheckPlaybackQuality(!1),ue.startScheduleTimer(),ee()})}}).catch(function(ze){C.error(ze)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(Ne,ee){try{ue.clearScheduleTimer(),B.abortRequests(),G.prepareForPlaybackSeek().then(function(){return G.pruneAllSafely()}).then(function(){Ne()})}catch(ze){ee(ze)}})},reset:function(Ne,ee){se&&se.reset(),G&&(G.reset(Ne,ee),G=null),ue&&(ue.reset(),ue=null),re&&(re.reset(),re=null),he&&(he=null),z&&z.unRegisterStreamType(gt(),fe),be.off(c.a.DATA_UPDATE_COMPLETED,rt,R),be.off(c.a.INIT_FRAGMENT_NEEDED,Oe,R),be.off(c.a.MEDIA_FRAGMENT_NEEDED,nt,R),be.off(c.a.MEDIA_FRAGMENT_LOADED,On,R),be.off(c.a.BUFFER_LEVEL_STATE_CHANGED,lt,R),be.off(c.a.BUFFER_CLEARED,yt,R),be.off(c.a.SEEK_TARGET,Tn,R),be.off(c.a.FRAGMENT_LOADING_ABANDONED,Ct,R),be.off(c.a.FRAGMENT_LOADING_COMPLETED,Pt,R),be.off(c.a.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Gt,R),be.off(c.a.SET_NON_FRAGMENTED_TEXT,Yt,R),be.off(c.a.QUOTA_EXCEEDED,Ht,R),be.off(c.a.SOURCE_BUFFER_ERROR,mt,R),Ye(),fe=null,_e=null}},C=Object(T.a)(Pe).getInstance().getLogger(R),Ye(),be.on(c.a.DATA_UPDATE_COMPLETED,rt,R,{priority:m.a.EVENT_PRIORITY_HIGH}),be.on(c.a.INIT_FRAGMENT_NEEDED,Oe,R),be.on(c.a.MEDIA_FRAGMENT_NEEDED,nt,R),be.on(c.a.MEDIA_FRAGMENT_LOADED,On,R),be.on(c.a.BUFFER_LEVEL_STATE_CHANGED,lt,R),be.on(c.a.BUFFER_CLEARED,yt,R),be.on(c.a.SEEK_TARGET,Tn,R),be.on(c.a.FRAGMENT_LOADING_ABANDONED,Ct,R),be.on(c.a.FRAGMENT_LOADING_COMPLETED,Pt,R),be.on(c.a.QUOTA_EXCEEDED,Ht,R),be.on(c.a.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Gt,R),be.on(c.a.SET_NON_FRAGMENTED_TEXT,Yt,R),be.on(c.a.SOURCE_BUFFER_ERROR,mt,R),R}He.__dashjs_factory_name="StreamProcessor";var q=p.a.getClassFactory(He),U=i(59),x=i(62);function h(O){O=O||{};var R,C,k,Y=this.context,ce=Object(m.a)(Y).getInstance(),G=O.errHandler,ue=O.mediaPlayerModel,re=O.dashMetrics,Se=Object(T.a)(Y).getInstance(),de=O.streamInfo;function se(){return de.id}function he(){for(var Pe in k)k[Pe].reset();k={}}function j(Pe){if(Pe.sender){var be=Pe.request,_e=Pe.response,fe=be.isInitializationRequest(),ye=be.mediaInfo.streamInfo;if(Pe.error&&(be.mediaType===l.a.AUDIO||be.mediaType===l.a.VIDEO||be.mediaType===l.a.TEXT&&be.mediaInfo.isFragmented)&&ce.trigger(c.a.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Pe.request.serviceLocation}),_e&&ye){var Ve=function(Ce,Re,xe,Qe){var B=new U.a;return B.streamId=xe,B.mediaInfo=Re.mediaInfo,B.segmentType=Re.type,B.start=Re.startTime,B.duration=Re.duration,B.end=B.start+B.duration,B.bytes=Ce,B.index=Re.index,B.quality=Re.quality,B.representationId=Re.representationId,B.endFragment=Qe,B}(_e,be,de.id,Pe.type!==c.a.FRAGMENT_LOADING_PROGRESS);ce.trigger(fe?c.a.INIT_FRAGMENT_LOADED:c.a.MEDIA_FRAGMENT_LOADED,{chunk:Ve,request:be},{streamId:ye.id,mediaType:be.mediaType})}else C.warn("No "+be.mediaType+" bytes to push or stream is inactive.")}}return R={getStreamId:se,getModel:function(Pe){var be=k[Pe];return be||(be=Object(w.a)(Y).create({streamInfo:de,type:Pe,dashMetrics:re,fragmentLoader:Object(x.a)(Y).create({dashMetrics:re,mediaPlayerModel:ue,errHandler:G,requestModifier:Object(Ke.a)(Y).getInstance(),settings:O.settings,boxParser:O.boxParser,eventBus:ce,events:c.a,errors:N.a,dashConstants:O.dashConstants,urlUtils:O.urlUtils,streamId:se()}),debug:Se,eventBus:ce,events:c.a}),k[Pe]=be),be},reset:function(){ce.off(g.a.FRAGMENT_LOADING_COMPLETED,j,this),ce.off(g.a.FRAGMENT_LOADING_PROGRESS,j,this),he()}},C=Se.getLogger(R),he(),ce.on(g.a.FRAGMENT_LOADING_COMPLETED,j,R),ce.on(g.a.FRAGMENT_LOADING_PROGRESS,j,R),R}h.__dashjs_factory_name="FragmentController";var y=p.a.getClassFactory(h),_=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},E=i(34),I=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},L=i(12);function Z(O){var R,C,k=this.context,Y=O.streamInfo;function ce(ue){C.setTrackByIndex(ue)}function G(){C&&C.reset()}return R={getStreamId:function(){return Y.id},initialize:function(){C.addTracks();var ue=C.getTracks();ue&&ue.length>0&&ce(0)},provide:function(ue,re){if(typeof re=="function"){var Se,de,se=C.getCurrentTrack();if(!se||se.segmentDuration<=0||ue==null)re(null);else{(de=C.getThumbnailRequestForTime(ue))&&(se.segmentDuration=de.duration),Se=ue%se.segmentDuration;var he=Math.floor(Se*se.tilesHor*se.tilesVert/se.segmentDuration),j=new _;if(j.width=Math.floor(se.widthPerTile),j.height=Math.floor(se.heightPerTile),j.x=Math.floor(he%se.tilesHor)*se.widthPerTile,j.y=Math.floor(he/se.tilesHor)*se.heightPerTile,"readThumbnail"in se)return se.readThumbnail(ue,function(be){j.url=be,re(j)});if(de)j.url=de.url,se.segmentDuration=NaN;else{var Pe=Math.floor(ue/se.segmentDuration);j.url=function(be,_e){var fe=_e+be.startNumber,ye=Object(L.d)(be.templateUrl,"Number",fe);return ye=Object(L.d)(ye,"Time",(fe-1)*be.segmentDuration*be.timescale),ye=Object(L.d)(ye,"Bandwidth",be.bandwidth),Object(L.e)(ye)}(se,Pe)}re(j)}}},setTrackByIndex:ce,getCurrentTrackIndex:function(){return C.getCurrentTrackIndex()},getBitrateList:function(){var ue=C.getTracks(),re=0;return ue.map(function(Se){var de=new I;return de.mediaType=l.a.IMAGE,de.qualityIndex=re++,de.bitrate=Se.bitrate,de.width=Se.width,de.height=Se.height,de})},reset:G},G(),C=Object(E.b)(k).create({streamInfo:Y,adapter:O.adapter,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:O.debug,eventBus:O.eventBus,events:O.events,dashConstants:O.dashConstants,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController}),R}Z.__dashjs_factory_name="ThumbnailController";var b=p.a.getClassFactory(Z);function V(O){var R;O=O||{};var C=[],k=Object(m.a)(this.context).getInstance(),Y=O.updateEventName,ce=O.addBlacklistEventName;function G(re){C.indexOf(re)===-1&&(C.push(re),k.trigger(Y,{entry:re}))}function ue(re){G(re.entry)}return R={add:G,contains:function(re){return!!(C.length&&re&&re.length)&&C.indexOf(re)!==-1},reset:function(){C=[]}},ce&&k.on(ce,ue,R),R}V.__dashjs_factory_name="BlackListController";var le=p.a.getClassFactory(V),Ie=[l.a.VIDEO,l.a.AUDIO,l.a.TEXT,l.a.MUXED,l.a.IMAGE];function me(O){O=O||{};var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve=this.context,Ce=Object(m.a)(Ve).getInstance(),Re=Object(We.a)(Ve).getInstance(),xe=O.manifestModel,Qe=O.mediaPlayerModel,B=O.dashMetrics,z=O.manifestUpdater,ne=O.adapter,W=O.timelineConverter,ge=O.capabilities,Ae=O.errHandler,we=O.abrController,Ze=O.playbackController,et=O.eventController,gt=O.mediaController,st=O.protectionController,ft=O.textController,Ye=O.videoModel,Oe=O.streamInfo,nt=O.settings;function it(qe,Ne){return new Promise(function(ee,ze){ct(),de=!0,Pt();var je,ut=Ye.getElement();Ie.forEach(function(At){(At!==l.a.VIDEO||!ut||ut&&/^VIDEO$/i.test(ut.nodeName))&&function(Mt,rn){var an,fn=ne.getAllMediaInfoForType(Oe,Mt),ir=[],Bn=null;if(!fn||fn.length===0)return void C.info("No "+Mt+" data.");Mt===l.a.VIDEO&&(ue=!0),Mt===l.a.AUDIO&&(re=!0);for(var fi=0,da=fn.length;fi<da;fi++)Bn=fn[fi],Mt===l.a.TEXT&&Bn.isEmbedded&&(ft.addEmbeddedTrack(Oe,Bn),ir.push(Bn)),pt(Bn)&&gt.addTrack(Bn);if(ir.length>0&&(gt.setInitialMediaSettingsForType(Mt,Oe),ft.setInitialSettings(gt.getInitialSettings(Mt)),ft.addMediaInfosToBuffer(Oe,Mt,ir)),(fn=fn.filter(function(_r){return!_r.isEmbedded})).length!==0){if(Mt===l.a.IMAGE)return void(he=b(Ve).create({streamInfo:Oe,adapter:ne,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:_e,eventBus:Ce,events:c.a,dashConstants:f.a,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();Ce.trigger(c.a.STREAM_INITIALIZING,{streamInfo:Oe,mediaInfo:Bn}),gt.setInitialMediaSettingsForType(Mt,Oe);var Pi=function(_r,Vr){var Pr=_r&&_r.length>0?_r[0]:null,Li=se.getModel(Pr?Pr.type:null),Ar=Pr?Pr.type:null,Qr=Pr?Pr.mimeType:null,ha=Pr?Pr.isFragmented:null,Ti=q(Ve).create({streamInfo:Oe,type:Ar,mimeType:Qr,timelineConverter:W,adapter:ne,manifestModel:xe,mediaPlayerModel:Qe,fragmentModel:Li,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:we,playbackController:Ze,mediaController:gt,textController:ft,errHandler:Ae,settings:nt,boxParser:be,segmentBlacklistController:j});Ti.initialize(Vr,ue,ha),k.push(Ti);for(var xi=0;xi<_r.length;xi++)Ti.addMediaInfo(_r[xi]);return Ar===l.a.TEXT&&ft.addMediaInfosToBuffer(Oe,Ar,_r,Li),Ti}(fn,rn);(an=gt.getCurrentTrackFor(Mt,Oe.id))&&(we.updateTopQualityIndex(an),Pi.selectMediaInfo(Mt===l.a.TEXT&&an.isEmbedded?fn[0]:an))}}(At,qe)}),(je=Ne,new Promise(function(At){var Mt={},rn=k.map(function(an){return an.createBufferSinks(je)});Promise.all(rn).then(function(an){an.forEach(function(fn){fn&&(Mt[fn.getType()]=fn)}),At(Mt)}).catch(function(){At(Mt)})})).then(function(At){if(de=!1,k.length===0){var Mt="No streams to play.";Ae.error(new A.a(N.a.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Mt,xe.getValue())),C.fatal(Mt)}else Gt();ft.createTracks(Oe),ee(At)}).catch(function(At){ze(At)})})}function pt(qe){var Ne,ee=qe?qe.type:null;return ee===l.a.MUXED?(Ne="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",C.fatal(Ne),Ae.error(new A.a(N.a.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Ne,xe.getValue())),!1):ee===l.a.TEXT||ee===l.a.IMAGE||!(qe.contentProtection&&!ge.supportsEncryptedMedia())||(Ae.error(new A.a(N.a.CAPABILITY_MEDIAKEYS_ERROR_CODE,N.a.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),!1)}function Fe(qe){for(var Ne=k?k.length:0,ee=0;ee<Ne;ee++){var ze=k[ee].getFragmentModel();ze.abortRequests(),ze.resetInitialSettings(),k[ee].reset(!1,qe)}ft&&ft.deactivateStream(Oe),k=[],ce=!1,G=!1,Zt(!1),rt(!1),Ce.trigger(c.a.STREAM_DEACTIVATED,{streamInfo:Oe})}function Xe(qe){Fe(qe),Y=!1,ue=!1,re=!1,Se={},de=!1,fe=!1,ye=[]}function rt(qe){fe=qe}function lt(){return Oe?Oe.start:NaN}function yt(){return Oe?Oe.id:null}function mt(){return Oe}function ct(){if(!Ye||!we)throw new Error(l.a.MISSING_CONFIG_ERROR)}function Ct(qe){qe.error&&(Ae.error(qe.error),C.fatal(qe.error.message))}function Pt(){if(et){var qe=ne.getEventsFor(Oe);et.addInlineEvents(qe)}}function Gt(){for(var qe=k.length,Ne=Se.audio||Se.video?new A.a(N.a.DATA_UPDATE_FAILED_ERROR_CODE,N.a.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,ee=0;ee<qe;ee++)if(k[ee].isUpdating()||de)return;if(st){st.clearMediaInfoArray();for(var ze=0;ze<qe&&k[ze];ze++){var je=k[ze].getType(),ut=k[ze].getMediaInfo();if(je===l.a.AUDIO||je===l.a.VIDEO||je===l.a.TEXT&&ut.isFragmented){var At=k[ze].getMediaInfo();At&&st.initializeForMedia(At)}}}Ne?Ae.error(Ne):Y||(Y=!0,Ye.waitForReadyState(l.a.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){Ce.trigger(c.a.STREAM_INITIALIZED,{streamInfo:Oe})}))}function Yt(){var qe=ln(),Ne=qe.length;if(Ne!==0){for(var ee=0;ee<Ne;ee++)if(!qe[ee].isBufferingCompleted()&&(qe[ee].getType()===l.a.AUDIO||qe[ee].getType()===l.a.VIDEO))return void C.debug("onBufferingCompleted - One streamProcessor has finished but",qe[ee].getType(),"one is not buffering completed");C.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),G=!0,Ce.trigger(c.a.STREAM_BUFFERING_COMPLETED,{streamInfo:Oe},{streamInfo:Oe})}else C.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Ht(qe){Se[qe.mediaType]=qe.error,Gt()}function Bt(qe){et&&et.addInbandEvents(qe.events)}function Vt(qe){return qe&&qe.type?dn(qe.type):null}function dn(qe){return qe?ln().filter(function(Ne){return Ne.getType()===qe})[0]:null}function ln(){for(var qe,Ne,ee=[],ze=0;ze<k.length;ze++)(qe=(Ne=k[ze]).getType())!==l.a.AUDIO&&qe!==l.a.VIDEO&&qe!==l.a.TEXT||ee.push(Ne);return ee}function hn(qe,Ne){var ee=mt(),ze=Ne.getStreamInfo();if(!ze||!ee)return!0;var je=ne.getAdaptationForType(ze.index,qe,ze),ut=ne.getAdaptationForType(ee.index,qe,ee);return je&&ut?!(!On(ut)&&On(je)):!je&&!ut}function On(qe){return!!qe&&!!(qe.ContentProtection||qe.Representation&&qe.Representation.length>0&&qe.Representation[0].ContentProtection)}function pn(qe,Ne){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!qe||!qe.hasOwnProperty("getStreamInfo"))return!1;var ze=qe.getStreamInfo(),je=ee?ee.getStreamInfo():mt();if(!ze||!je)return!1;var ut=ne.getAdaptationForType(ze.index,Ne,ze),At=ne.getAdaptationForType(je.index,Ne,je);if(!ut||!At)return!ut&&!At;var Mt=ut&&At&&ut.mimeType===At.mimeType,rn=At.Representation_asArray.map(function(Bn){return Bn.codecs}),an=ut.Representation_asArray.map(function(Bn){return Bn.codecs}),fn=an.some(function(Bn){return rn.indexOf(Bn)>-1}),ir=an.some(function(Bn){return rn.some(function(fi){return ge.codecRootCompatibleWithCodec(fi,Bn)})});return fn||ir&&Mt}function Zt(qe){Pe=qe}function Tn(){return Pe}return R={initialize:function(){Ce.on(c.a.BUFFERING_COMPLETED,Yt,R),Ce.on(c.a.DATA_UPDATE_COMPLETED,Ht,R),Ce.on(c.a.INBAND_EVENTS,Bt,R),st&&(Ce.on(c.a.KEY_ERROR,Ct,R),Ce.on(c.a.SERVER_CERTIFICATE_UPDATED,Ct,R),Ce.on(c.a.LICENSE_REQUEST_COMPLETE,Ct,R),Ce.on(c.a.KEY_SYSTEM_SELECTED,Ct,R),Ce.on(c.a.KEY_SESSION_CREATED,Ct,R),Ce.on(c.a.KEY_STATUSES_CHANGED,Ct,R)),ft.initializeForStream(Oe),Ce.trigger(c.a.STREAM_UPDATED,{streamInfo:Oe})},getStreamId:function(){return Oe?Oe.id:null},activate:function(qe,Ne){return new Promise(function(ee,ze){if(!ce)return Tn()?(ce=!0,Ce.trigger(c.a.STREAM_ACTIVATED,{streamInfo:Oe}),void ee(Ne)):void function(je,ut){return it(je,ut)}(qe,Ne).then(function(je){ce=!0,Ce.trigger(c.a.STREAM_ACTIVATED,{streamInfo:Oe}),ee(je)}).catch(function(je){ze(je)});ee(Ne)})},deactivate:Fe,getIsActive:function(){return ce},getDuration:function(){return Oe?Oe.duration:NaN},getStartTime:lt,getId:yt,getStreamInfo:mt,getHasAudioTrack:function(){return re},getHasVideoTrack:function(){return ue},startPreloading:function(qe,Ne){return new Promise(function(ee,ze){Tn()?ze():(C.info("[startPreloading] Preloading next stream with id ".concat(yt())),Zt(!0),it(qe,Ne).then(function(){for(var je=0;je<k.length&&k[je];je++)k[je].setExplicitBufferingTime(lt()),k[je].getScheduleController().startScheduleTimer();ee()}).catch(function(){Zt(!1),ze()}))})},getThumbnailController:function(){return he},getBitrateListFor:function(qe){if(ct(),qe===l.a.IMAGE)return he?he.getBitrateList():[];var Ne=function(ee){for(var ze=null,je=0;je<k.length;je++)if((ze=k[je]).getType()===ee)return ze.getMediaInfo();return null}(qe);return we.getBitrateList(Ne)},updateData:function(qe){return new Promise(function(Ne){de=!0,Oe=qe,et&&Pt();for(var ee=[],ze=0,je=k.length;ze<je;ze++){var ut=k[ze],At=ut.getMediaInfo();ee.push(ut.updateStreamInfo(Oe));var Mt=ne.getAllMediaInfoForType(Oe,ut.getType());if(Mt){ut.clearMediaInfoArray();for(var rn=0;rn<Mt.length;rn++){var an=Mt[rn];ut.addMediaInfo(Mt[rn]),ne.areMediaInfosEqual(At,an)&&(we.updateTopQualityIndex(an),ee.push(ut.selectMediaInfo(an)))}}}Promise.all(ee).then(function(){for(ee=[];ye.length>0;){var fn=ye.pop(),ir=fn.newMediaInfo,Bn=Vt(fn.oldMediaInfo);if(!Bn)return;ee.push(Bn.prepareTrackSwitch()),Bn.selectMediaInfo(ir)}return Promise.all(ee)}).then(function(){de=!1,Gt(),Ce.trigger(c.a.STREAM_UPDATED,{streamInfo:Oe}),Ne()})})},reset:function(qe){se&&(se.reset(),se=null),we&&Oe&&we.clearDataForStream(Oe.id),j&&(j.reset(),j=null),Xe(qe),Oe=null,Ce.off(c.a.DATA_UPDATE_COMPLETED,Ht,R),Ce.off(c.a.BUFFERING_COMPLETED,Yt,R),Ce.off(c.a.INBAND_EVENTS,Bt,R),st&&(Ce.off(c.a.KEY_ERROR,Ct,R),Ce.off(c.a.SERVER_CERTIFICATE_UPDATED,Ct,R),Ce.off(c.a.LICENSE_REQUEST_COMPLETE,Ct,R),Ce.off(c.a.KEY_SYSTEM_SELECTED,Ct,R),Ce.off(c.a.KEY_SESSION_CREATED,Ct,R),Ce.off(c.a.KEY_STATUSES_CHANGED,Ct,R))},getProcessors:ln,setMediaSource:function(qe){for(var Ne=0;Ne<k.length;)pt(k[Ne].getMediaInfo())?(k[Ne].setMediaSource(qe),Ne++):(k[Ne].reset(),k.splice(Ne,1));if(k.length===0){var ee="No streams to play.";Ae.error(new A.a(N.a.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ee+"nostreams",xe.getValue())),C.fatal(ee)}},isMediaCodecCompatible:function(qe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return pn(qe,l.a.VIDEO,Ne)&&pn(qe,l.a.AUDIO,Ne)},isProtectionCompatible:function(qe){return!qe||hn(l.a.VIDEO,qe)&&hn(l.a.AUDIO,qe)},getPreloaded:Tn,getIsEndedEventSignaled:function(){return fe},setIsEndedEventSignaled:rt,getAdapter:function(){return ne},getHasFinishedBuffering:function(){return G},setPreloaded:Zt,startScheduleControllers:function(){for(var qe=k.length,Ne=0;Ne<qe&&k[Ne];Ne++)k[Ne].getScheduleController().startScheduleTimer()},prepareTrackChange:function(qe){if(ce&&Oe){G=!1;var Ne=qe.newMediaInfo,ee=xe.getValue();ne.setCurrentMediaInfo(Oe.id,Ne.type,Ne);var ze=Vt(Ne);if(ze){var je=Ze.getTime();C.info("Stream -  Process track changed at current time "+je),ee.refreshManifestOnSwitchTrack?(ye.push(qe),z.getIsUpdating()||(C.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):ze.selectMediaInfo(Ne).then(function(){Ne.type!==l.a.VIDEO&&Ne.type!==l.a.AUDIO||we.updateTopQualityIndex(Ne),ze.prepareTrackSwitch()})}}},prepareQualityChange:function(qe){var Ne=dn(qe.mediaType);Ne&&Ne.prepareQualityChange(qe)}},function(){try{_e=Object(T.a)(Ve).getInstance(),C=_e.getLogger(R),Xe(),be=Object($.a)(Ve).getInstance(),j=le(Ve).create({updateEventName:c.a.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:c.a.SEGMENT_LOCATION_BLACKLIST_ADD}),se=y(Ve).create({streamInfo:Oe,mediaPlayerModel:Qe,dashMetrics:B,errHandler:Ae,settings:nt,boxParser:be,dashConstants:f.a,urlUtils:Re})}catch(qe){throw qe}}(),R}me.__dashjs_factory_name="Stream";var ke=p.a.getClassFactory(me);function ae(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he=this.context,j=Object(m.a)(he).getInstance(),Pe=Object(We.a)(he).getInstance();function be(){C=NaN,G=!1,Y=!0,ce=!1,_e()}function _e(){k!==null&&(clearTimeout(k),k=null)}function fe(z){_e(),ce||(isNaN(z)&&!isNaN(C)&&(z=1e3*C),isNaN(z)||(R.debug("Refresh manifest in "+z+" milliseconds."),k=setTimeout(Ce,z)))}function ye(){var z=arguments.length>0&&arguments[0]!==void 0&&arguments[0];G=!0;var ne=re.getValue(),W=ne.url,ge=Se.getPatchLocation(ne),Ae=Se.getLocation(ne);ge&&!z?W=ge:Ae&&(W=Ae),Pe.isRelative(W)&&(W=Pe.resolve(W,ne.url)),ue.load(W)}function Ve(z){if(z){if(Se.getIsPatch(z)){var ne=z;z=re.getValue();var W=Se.isPatchValid(z,ne),ge=W;if(W){var Ae=Se.getPublishTime(z);ge=Se.applyPatchToManifest(z,ne);var we=Se.getPublishTime(z);ge=Ae.getTime()!=we.getTime()}if(!ge)return R.debug("Patch provided is invalid, performing full manifest refresh"),void ye(!0);z.loadedTime=new Date}}else(z=re.getValue()).loadedTime=new Date;if(re.getValue()&&re.getValue().type===f.a.DYNAMIC&&z.type===f.a.STATIC)return j.trigger(c.a.DYNAMIC_TO_STATIC),G=!1,void(ce=!0);re.setValue(z);var Ze=new Date,et=(Ze.getTime()-z.loadedTime.getTime())/1e3;1e3*(C=Se.getManifestUpdatePeriod(z,et))>2147483647&&(C=2147483647e-3),j.trigger(c.a.MANIFEST_UPDATED,{manifest:z}),R.info("Manifest has been refreshed at "+Ze+"["+Ze.getTime()/1e3+"] "),Y||fe()}function Ce(){Y||(G?fe(se.get().streaming.manifestUpdateRetryInterval):ye())}function Re(z){z.error?z.error.code===N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&de.error(z.error):Ve(z.manifest)}function xe(){Y=!1,fe()}function Qe(){(Y=!se.get().streaming.scheduling.scheduleWhilePaused)&&_e()}function B(){G=!1}return O={initialize:function(){be(),j.on(c.a.STREAMS_COMPOSED,B,this),j.on(g.a.PLAYBACK_STARTED,xe,this),j.on(g.a.PLAYBACK_PAUSED,Qe,this),j.on(c.a.INTERNAL_MANIFEST_LOADED,Re,this)},setManifest:function(z){Ve(z)},refreshManifest:ye,getIsUpdating:function(){return G},setConfig:function(z){z&&(z.manifestModel&&(re=z.manifestModel),z.adapter&&(Se=z.adapter),z.manifestLoader&&(ue=z.manifestLoader),z.errHandler&&(de=z.errHandler),z.settings&&(se=z.settings))},reset:function(){j.off(g.a.PLAYBACK_STARTED,xe,this),j.off(g.a.PLAYBACK_PAUSED,Qe,this),j.off(c.a.STREAMS_COMPOSED,B,this),j.off(c.a.INTERNAL_MANIFEST_LOADED,Re,this),be()}},R=Object(T.a)(he).getInstance().getLogger(O),O}ae.__dashjs_factory_name="ManifestUpdater";var Q=p.a.getClassFactory(ae);function pe(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e=this.context,fe=Object(m.a)(_e).getInstance(),ye=Object(We.a)(_e).getInstance();function Ve(){ue=[],re=[],Se=null,de=null,he=null,se=NaN,C=!1,k=!1,j=Y.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ce(){Y.get().streaming.utcSynchronization.enabled&&!C&&!k&&he&&he.value&&he.schemeIdUri&&!isNaN(se)&&!isNaN(Y.get().streaming.utcSynchronization.backgroundAttempts)&&(de&&(Date.now()-de)/1e3<30||(ue=[],k=!0,function st(ft){try{if(ft<=0)return void et();var Ye=Date.now();ce[he.schemeIdUri](he.value,function(Oe){var nt=Date.now(),it=Re(Ye,nt,Oe);ue.push(it),st(ft-1)},function(){et()})}catch{et()}}(isNaN(Y.get().streaming.utcSynchronization.backgroundAttempts)?2:Y.get().streaming.utcSynchronization.backgroundAttempts)))}function Re(st,ft,Ye){return Ye-(ft-(ft-st)/2)}function xe(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,ft=isNaN(st);ft&&Y.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?we():Ze(ft,st)}function Qe(st){var ft=Date.parse(st);return isNaN(ft)&&(ft=function(Ye){var Oe,nt,it=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ye);return Oe=Date.UTC(parseInt(it[1],10),parseInt(it[2],10)-1,parseInt(it[3],10),parseInt(it[4],10),parseInt(it[5],10),it[6]&&(parseInt(it[6],10)||0),it[7]&&1e3*parseFloat(it[7])||0),it[9]&&it[10]&&(nt=60*parseInt(it[9],10)+parseInt(it[10],10),Oe+=(it[8]==="+"?-1:1)*nt*60*1e3),new Date(Oe).getTime()}(st)),ft}function B(st){return Date.parse(st)}function z(st){return Date.parse(st)}function ne(st,ft,Ye){Ye()}function W(st,ft,Ye){var Oe=Qe(st);isNaN(Oe)?Ye():ft(Oe)}function ge(st,ft,Ye,Oe,nt){var it,pt,Fe=!1,Xe=new XMLHttpRequest,rt=nt?S.a.HEAD:S.a.GET,lt=ft.match(/\S+/g);if(ft=lt.shift(),it=function(){Fe||(Fe=!0,lt.length?ge(st,lt.join(" "),Ye,Oe,nt):Oe())},pt=function(){var mt,ct;Xe.status===200&&(mt=nt?Xe.getResponseHeader("Date"):Xe.response,ct=st(mt),isNaN(ct)||(Ye(ct),Fe=!0))},ye.isRelative(ft)){var yt=be.resolve();yt&&(ft=ye.resolve(ft,yt.url))}Xe.open(rt,ft),Xe.timeout=5e3,Xe.onload=pt,Xe.onloadend=it,Xe.send()}function Ae(st,ft,Ye){ge(z,st,ft,Ye,!0)}function we(){var st=G.getLatestMPDRequestHeaderValueByID("Date"),ft=st!==null?new Date(st).getTime():Number.NaN;isNaN(ft)?Ze(!0):Ze(!1,ft-Date.now())}function Ze(st,ft){if(isNaN(se)||isNaN(ft)||st||function(Oe){try{var nt,it=gt(Oe),pt=isNaN(j)?30:j,Fe=isNaN(Y.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:Y.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Xe=isNaN(Y.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:Y.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,rt=isNaN(Y.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:Y.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;it?(nt=Math.min(pt*Fe,Xe),R.debug("Increasing timeBetweenSyncAttempts to ".concat(nt))):(nt=Math.max(pt/Fe,rt),R.debug("Decreasing timeBetweenSyncAttempts to ".concat(nt))),j=nt}catch{}}(ft),!st&&!isNaN(ft)){Se=Date.now(),C=!1;var Ye=isNaN(se);se=ft,Ye&&Ce(),R.debug("Completed UTC sync. Setting client - server offset to ".concat(ft))}st&&(he=null,C=!1,Pe.error(new A.a(N.a.TIME_SYNC_FAILED_ERROR_CODE,N.a.TIME_SYNC_FAILED_ERROR_MESSAGE))),fe.trigger(c.a.UPDATE_TIME_SYNC_OFFSET,{offset:ft}),fe.trigger(c.a.TIME_SYNCHRONIZATION_COMPLETED)}function et(){if(ue&&ue.length!==0){var st=ue.reduce(function(ft,Ye){return ft+Ye},0)/ue.length;gt(st)?R.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(R.debug("Completed background UTC sync. Setting client - server offset to ".concat(st)),se=st,fe.trigger(c.a.UPDATE_TIME_SYNC_OFFSET,{offset:se})),k=!1,de=Date.now()}}function gt(st){try{if(isNaN(se))return!0;var ft=Y.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(Y.get().streaming.utcSynchronization.maximumAllowedDrift)?Y.get().streaming.utcSynchronization.maximumAllowedDrift:100;return st>=se-ft&&st<=se+ft}catch{return!0}}return O={initialize:function(){Ve(),ce={"urn:mpeg:dash:utc:http-head:2014":Ae,"urn:mpeg:dash:utc:http-xsdate:2014":ge.bind(null,Qe),"urn:mpeg:dash:utc:http-iso:2014":ge.bind(null,B),"urn:mpeg:dash:utc:direct:2014":W,"urn:mpeg:dash:utc:http-head:2012":Ae,"urn:mpeg:dash:utc:http-xsdate:2012":ge.bind(null,Qe),"urn:mpeg:dash:utc:http-iso:2012":ge.bind(null,B),"urn:mpeg:dash:utc:direct:2012":W,"urn:mpeg:dash:utc:http-ntp:2014":ne,"urn:mpeg:dash:utc:ntp:2014":ne,"urn:mpeg:dash:utc:sntp:2014":ne}},attemptSync:function(st,ft){re=st,C||(function(Ye){try{if(!Ye||!Y.get().streaming.utcSynchronization.enabled)return!1;var Oe=isNaN(j)?30:j;return!(Se&&Oe&&!isNaN(Oe))||(Date.now()-Se)/1e3>=Oe}catch{return!0}}(ft)?(C=!0,function Ye(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,nt=Oe||0;if(!re||re.length===0||nt>=re.length)return void xe();var it=re[nt];if(it)if(ce.hasOwnProperty(it.schemeIdUri)){var pt=new Date().getTime();ce[it.schemeIdUri](it.value,function(Fe){var Xe=new Date().getTime(),rt=Re(pt,Xe,Fe);he=it,xe(rt)},function(){Ye(nt+1)})}else Ye(nt+1);else xe()}()):fe.trigger(c.a.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(st){st&&(st.dashMetrics&&(G=st.dashMetrics),st.baseURLController&&(be=st.baseURLController),st.errHandler&&(Pe=st.errHandler),st.settings&&(Y=st.settings))},reset:function(){Ve(),fe.off(c.a.ATTEMPT_BACKGROUND_SYNC,Ce,O)}},R=Object(T.a)(_e).getInstance().getLogger(O),fe.on(c.a.ATTEMPT_BACKGROUND_SYNC,Ce,O),O}pe.__dashjs_factory_name="TimeSyncController";var De=p.a.getSingletonFactory(pe);De.HTTP_TIMEOUT_MS=5e3,p.a.updateSingletonFactory(pe.__dashjs_factory_name,De);var Me=De;function Te(){var O,R,C,k=this.context;return O={createMediaSource:function(){var Y="WebKitMediaSource"in window;return"MediaSource"in window?R=new MediaSource:Y&&(R=new WebKitMediaSource),R},attachMediaSource:function(Y){var ce=window.URL.createObjectURL(R);return Y.setSource(ce),ce},detachMediaSource:function(Y){Y.setSource(null)},setDuration:function Y(ce){R&&R.readyState==="open"&&(ce===null&&isNaN(ce)||R.duration!==ce&&(function(G){for(var ue=G.sourceBuffers,re=0;re<ue.length;re++)if(ue[re].updating)return!0;return!1}(R)?setTimeout(Y.bind(null,ce),50):(C.info("Set MediaSource duration:"+ce),R.duration=ce)))},setSeekable:function(Y,ce){R&&typeof R.setLiveSeekableRange=="function"&&typeof R.clearLiveSeekableRange=="function"&&R.readyState==="open"&&Y>=0&&Y<ce&&(R.clearLiveSeekableRange(),R.setLiveSeekableRange(Y,ce))},signalEndOfStream:function(Y){if(Y&&Y.readyState==="open"){for(var ce=Y.sourceBuffers,G=0;G<ce.length;G++)if(ce[G].updating||ce[G].buffered.length===0)return;C.info("call to mediaSource endOfStream"),Y.endOfStream()}}},C=Object(T.a)(k).getInstance().getLogger(O),O}Te.__dashjs_factory_name="MediaSourceController";var tt=p.a.getSingletonFactory(Te),ht=i(29);function St(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se="discarded",he="updated",j="added",Pe=this.context,be=Object(m.a)(Pe).getInstance();function _e(){if(!G||!ue)throw new Error("setConfig function has to be called previously")}function fe(){de=!1,C={},k={},Y=null,Se=!1,ce=Date.now()/1e3}function ye(){try{Y!==null&&de&&(clearInterval(Y),Y=null,de=!1,function(){try{Qe(k),Qe(C)}catch{}}())}catch(W){throw W}}function Ve(W,ge){var Ae=arguments.length>2&&arguments[2]!==void 0&&arguments[2],we=W.eventStream.schemeIdUri,Ze=W.eventStream.value,et=W.id,gt=se;ge[we]||(ge[we]=[]);var st=ge[we].findIndex(function(ft){return(!Ze||ft.eventStream.value&&ft.eventStream.value===Ze)&&ft.id===et});return st===-1?(ge[we].push(W),gt=j):Ae&&(ge[we][st]=W,gt=he),gt}function Ce(W){try{if(W.eventStream.value==1){var ge,Ae=W.calculatedPresentationTime;ge=W.calculatedPresentationTime==4294967295?NaN:W.calculatedPresentationTime+W.duration,be.trigger(g.a.MANIFEST_VALIDITY_CHANGED,{id:W.id,validUntil:Ae,newDuration:ge,newManifestValidAfter:NaN},{mode:g.a.EVENT_MODE_ON_START})}}catch{}}function Re(){try{if(!Se){Se=!0;var W=ue.getTime(),ge=W-ce;ge=ce>0?Math.max(0,ge):0,xe(k,ge,W),xe(C,ge,W),ce=W,Se=!1}}catch{Se=!1}}function xe(W,ge,Ae){try{B(W,function(we){if(we!==void 0){var Ze=isNaN(we.duration)?0:we.duration;we.calculatedPresentationTime<=Ae&&we.calculatedPresentationTime+ge+Ze>=Ae?z(we,W,g.a.EVENT_MODE_ON_START):(function(et,gt,st){try{return et-gt>st}catch{return!1}}(Ae,Ze+ge,we.calculatedPresentationTime)||function(et){try{var gt=et.eventStream.period.start+et.eventStream.period.duration;return et.calculatedPresentationTime>gt}catch{return!1}}(we))&&(R.debug("Deleting event ".concat(we.id," as it is expired or invalid")),ne(W,we))}})}catch{}}function Qe(W){try{var ge=ue.getTime();B(W,function(Ae){var we=Ae.eventStream&&Ae.eventStream.period&&!isNaN(Ae.eventStream.period.duration)?Ae.eventStream.period.duration:NaN,Ze=Ae.eventStream&&Ae.eventStream.period&&!isNaN(Ae.eventStream.period.start)?Ae.eventStream.period.start:NaN;if(!isNaN(we)&&!isNaN(Ze)){var et=Ae.calculatedPresentationTime;Math.abs(et-ge)<300&&z(Ae,W,g.a.EVENT_MODE_ON_START)}})}catch{}}function B(W,ge){try{if(W)for(var Ae=Object.keys(W),we=0;we<Ae.length;we++)W[Ae[we]].forEach(function(Ze){Ze!==void 0&&ge(Ze)})}catch{}}function z(W,ge,Ae){try{var we=ue.getTime(),Ze=W.id;if(Ae===g.a.EVENT_MODE_ON_RECEIVE)return R.debug("Received event ".concat(Ze)),void be.trigger(W.eventStream.schemeIdUri,{event:W},{mode:Ae});W.eventStream.schemeIdUri==="urn:mpeg:dash:event:2012"&&W.eventStream.value==1?W.duration===0&&W.presentationTimeDelta===0||(R.debug("Starting manifest refresh event ".concat(Ze," at ").concat(we)),ne(ge,W),function(){try{_e(),G.refreshManifest()}catch{}}()):W.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&W.eventStream.value==1?(R.debug("Starting callback event ".concat(Ze," at ").concat(we)),ne(ge,W),function(et){try{Object(ht.a)(Pe).create({}).load({method:"get",url:et,request:{responseType:"arraybuffer"}})}catch(gt){throw gt}}(W.messageData)):(R.debug("Starting event ".concat(Ze," at ").concat(we)),ne(ge,W),be.trigger(W.eventStream.schemeIdUri,{event:W},{mode:Ae}))}catch{}}function ne(W,ge){var Ae=ge.eventStream.schemeIdUri,we=ge.eventStream.value,Ze=ge.id;W[Ae]=W[Ae].filter(function(et){return we&&et.eventStream.value&&et.eventStream.value!==we||et.id!==Ze}),W[Ae].length===0&&delete W[Ae]}return O={addInlineEvents:function(W){try{if(_e(),W)for(var ge=0;ge<W.length;ge++){var Ae=W[ge],we=Ve(Ae,C,!0);we===j?(R.debug("Added inline event with id ".concat(Ae.id)),z(Ae,W,g.a.EVENT_MODE_ON_RECEIVE)):we===he&&R.debug("Updated inline event with id ".concat(Ae.id))}}catch(Ze){throw Ze}},addInbandEvents:function(W){try{_e();for(var ge=0;ge<W.length;ge++){var Ae=W[ge];Ve(Ae,k,!1)===j?(Ae.eventStream.schemeIdUri==="urn:mpeg:dash:event:2012"&&k[Ae.id]===void 0&&Ce(Ae),R.debug("Added inband event with id "+Ae.id),z(Ae,W,g.a.EVENT_MODE_ON_RECEIVE)):R.debug("Inband event with scheme_id_uri ".concat(Ae.eventStream.schemeIdUri,", value ").concat(Ae.eventStream.value," and id ").concat(Ae.id," was ignored because it has been added before."))}Re()}catch(we){throw we}},getInbandEvents:function(){return k},getInlineEvents:function(){return C},start:function(){try{_e(),R.debug("Start Event Controller");var W=re.get().streaming.eventControllerRefreshDelay;de||isNaN(W)||(de=!0,Y=setInterval(Re,W))}catch(ge){throw ge}},setConfig:function(W){try{if(!W)return;W.manifestUpdater&&(G=W.manifestUpdater),W.playbackController&&(ue=W.playbackController),W.settings&&(re=W.settings)}catch(ge){throw ge}},reset:function(){ye(),fe()}},R=Object(T.a)(Pe).getInstance().getLogger(O),fe(),O}St.__dashjs_factory_name="EventController";var It=p.a.getSingletonFactory(St),bt={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Nt(O){return function(R){if(Array.isArray(R))return wt(R)}(O)||function(R){if(typeof Symbol<"u"&&Symbol.iterator in Object(R))return Array.from(R)}(O)||function(R,C){if(R){if(typeof R=="string")return wt(R,C);var k=Object.prototype.toString.call(R).slice(8,-1);if(k==="Object"&&R.constructor&&(k=R.constructor.name),k==="Map"||k==="Set")return Array.from(R);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return wt(R,C)}}(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wt(O,R){(R==null||R>O.length)&&(R=O.length);for(var C=0,k=new Array(R);C<R;C++)k[C]=O[C];return k}function Dt(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve,Ce,Re,xe,Qe,B,z,ne,W,ge,Ae,we,Ze,et,gt,st,ft,Ye,Oe,nt,it,pt,Fe,Xe,rt,lt,yt,mt=this.context,ct=Object(m.a)(mt).getInstance();function Ct(){(function(){try{var at=ue.getStreamsInfo();if(!xe&&at.length===0)throw new Error("There are no periods in the MPD");xe&&at.length>0&&re.updateManifestUpdateInfo({currentTime:et.getTime(),buffered:Ze.getBufferRange(),presentationStartTime:at[0].start,clientTimeOffset:Ce.getClientTimeOffset()}),Re.length>0&&function(on){if(on.length===0)return void R.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.");Re=Re.filter(function(Rn){var An=on.filter(function(Sr){return Sr.id===Rn.getId()}).length>0||Rn.getId()===xe.getId();return An||(R.debug("Removing stream ".concat(Rn.getId())),Rn.reset(!0)),An})}(at);for(var Et=[],kt=0,$t=at.length;kt<$t;kt++){var Sn=at[kt];Et.push(Gt(Sn)),re.addManifestUpdateStreamInfo(Sn)}Promise.all(Et).then(function(){xe||function on(Rn){Tn();var An=re.getCurrentDVRInfo().range;if(An.end<An.start){lt&&clearTimeout(lt);var Sr=Math.min(1e3*(-1*(An.end-An.start)+2),2147483647);return R.debug("Waiting for ".concat(Sr," ms before playback can start")),ct.trigger(c.a.AST_IN_FUTURE,{delay:Sr}),void(lt=setTimeout(function(){on(Rn)},Sr))}Xe.get().streaming.applyProducerReferenceTime&&gt.calculateProducerReferenceTimeOffsets(Rn);var So=Rn[0].manifestInfo;if(Xe.get().streaming.applyServiceDescription&&gt.applyServiceDescription(So),ue.getIsDynamic()){var Es=fi(Rn,So);et.computeAndSetLiveDelay(Es,So)}var pa=function(){var ma;if(ue.getIsDynamic()){var Io=re.getCurrentDVRInfo(),xy=Io&&Io.range?Io.range.end:0;ma=xy-et.getLiveDelay();var Tf=Io?Io.range:null;if(Tf){var Zu=Bn(!0);if(!isNaN(Zu)){R.info("Start time from URI parameters: "+Zu);var Fy=Xe.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;ma=Math.max(Math.min(ma,Zu),Tf.start+Fy)}}}else{var ky=Ga()[0].getStreamInfo();ma=ky.start;var Ju=Bn(!1);isNaN(Ju)||(R.info("Start time from URI parameters: "+Ju),ma=Math.max(ma,Ju))}return ma}(),_f=Zt(pa),Ly=_f!==null?_f:Re[0];ct.trigger(c.a.INITIAL_STREAM_SWITCH,{startTime:pa}),Yt(Ly,null,pa),nt||(nt=setInterval(function(){!W&&et.getTimeToStreamEnd()<=0&&!et.isSeeking()&&ct.trigger(c.a.PLAYBACK_ENDED,{isLast:Ar().isLast})},200))}(at),ct.trigger(c.a.STREAMS_COMPOSED),Mt()}).catch(function(on){throw on})}catch(on){Ve.error(new A.a(N.a.MANIFEST_ERROR_ID_NOSTREAMS_CODE,on.message+" nostreamscomposed",G.getValue())),Ae=!0,Fi()}})()}function Pt(){rt=!0}function Gt(at){var Et=Qr(at.id);return Et?Et.updateData(at):(Et=ke(mt).create({manifestModel:G,mediaPlayerModel:st,dashMetrics:re,manifestUpdater:Y,adapter:ue,timelineConverter:Ce,capabilities:C,capabilitiesFilter:k,errHandler:Ve,baseURLController:se,segmentBaseController:he,textController:B,abrController:Pe,playbackController:et,eventController:_e,mediaController:be,protectionController:Qe,videoModel:Ze,streamInfo:at,settings:Xe}),Re.push(Et),Et.initialize(),Promise.resolve())}function Yt(at,Et,kt){try{if(W||!at||Et===at&&at.getIsActive())return;W=!0,ct.trigger(c.a.PERIOD_SWITCH_STARTED,{fromStreamInfo:Et?Et.getStreamInfo():null,toStreamInfo:at.getStreamInfo()});var $t=!1;xe=at,Et&&($t=On(at,Et),Et.deactivate($t)),kt=isNaN(kt)?!$t&&Et?at.getStreamInfo().start:NaN:kt,R.info("Switch to stream ".concat(at.getId(),". Seektime is ").concat(kt,", current playback time is ").concat(et.getTime(),". Seamless period switch is set to ").concat($t)),pt=pt.filter(function(Sn){return Sn.getId()!==xe.getId()}),et.initialize(Ar(),!!Et),Ze.getElement()&&Ht(kt,$t)}catch{W=!1}}function Ht(at,Et){var kt;function $t(){if(we&&we.readyState==="open"){R.debug("MediaSource is open!"),window.URL.revokeObjectURL(kt),we.removeEventListener("sourceopen",$t),we.removeEventListener("webkitsourceopen",$t),ir();var on=re.getCurrentDVRInfo();Se.setSeekable(on.range.start,on.range.end),Bt(at,Et)}}function Sn(){we.addEventListener("sourceopen",$t,!1),we.addEventListener("webkitsourceopen",$t,!1),kt=Se.attachMediaSource(Ze),R.debug("MediaSource attached to element.  Waiting on open...")}we?Et?Bt(at,Et):(Se.detachMediaSource(Ze),Sn()):(we=Se.createMediaSource(),Sn())}function Bt(at,Et){xe.activate(we,Et?it:void 0,at).then(function(kt){if(kt){var $t=Object.keys(kt);$t.length>0&&kt[$t[0]].getBuffer().changeType&&(Fe=!0),it=kt}isNaN(at)||(ct.trigger(c.a.SEEK_TARGET,{time:at},{streamId:xe.getId()}),et.seek(at,!1,!0),xe.startScheduleControllers()),W=!1,ct.trigger(c.a.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Ar()})})}function Vt(at){et.getTime();var Et=at.seekTime,kt=Zt(Et);kt&&kt!==xe?kt&&kt!==xe&&(dn(),function($t,Sn){var on=$t&&!isNaN($t.seekTime)?$t.seekTime:NaN,Rn=xe.getProcessors().map(function(An){return An.prepareOuterPeriodPlaybackSeeking($t)});Promise.all(Rn).then(function(){Yt(Sn,xe,on)}).catch(function(An){Ve.error(An)})}(at,kt)):(dn(),function($t){xe.getProcessors().forEach(function(Sn){return Sn.prepareInnerPeriodPlaybackSeeking($t)}),Vr($e.USER_REQUEST_STOP_REASON)}(at)),Pr(Ue.SEEK_START_REASON)}function dn(at,Et){ln()}function ln(){pt&&pt.length>0&&(pt.forEach(function(at){at.deactivate(!0)}),pt=[])}function hn(at){at.newMediaInfo.streamInfo.id===xe.getId()&&(ln(),xe.prepareTrackChange(at))}function On(at,Et){try{return Xe.get().streaming.buffer.reuseExistingSourceBuffers&&(Et.isProtectionCompatible(at)||rt)&&(Fe||Et.isMediaCodecCompatible(at,Et))}catch{return!1}}function pn(at){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(we&&!at.getPreloaded()){var kt=On(at,Et);kt&&at.startPreloading(we,it).then(function(){pt.push(at)})}}function Zt(at){if(isNaN(at))return null;for(var Et=Re.length,kt=0;kt<Et;kt++){var $t=Re[kt];if(at<parseFloat(($t.getStartTime()+$t.getDuration()).toFixed(5)))return $t}return null}function Tn(){try{var at=ue.getIsDynamic(),Et=ue.getStreamsInfo()[0].manifestInfo,kt=et.getTime(),$t=Ce.calcTimeShiftBufferWindow(Re,at),Sn=an();if($t.start===void 0||$t.end===void 0)return;Sn&&Sn.length!==0?Sn.forEach(function(on){re.addDVRInfo(on.getType(),kt,Et,$t)}):re.addDVRInfo(l.a.VIDEO,kt,Et,$t)}catch{}}function qe(at){if(Oe&&ne){var Et=st.getInitialBufferLevel(),kt=[l.a.TEXT];(isNaN(Et)||Et<=et.getBufferLevel(kt)||ue.getIsDynamic()&&Et>et.getLiveDelay())&&(Oe=!1,Pr(Ue.INITIAL_PLAYOUT_START_REASON),et.play())}at&&at.mediaType&&re.addBufferLevel(at.mediaType,new Date,1e3*at.bufferLevel)}function Ne(at){at.streamInfo.id===xe.getId()&&at.reason&&at.reason.forceReplace&&ln(),Qr(at.streamInfo.id).prepareQualityChange(at)}function ee(){if(ue.getIsDynamic()&&et.getLiveDelay()!==0){var at=ue.getStreamsInfo();if(at.length>0){var Et=at[0].manifestInfo,kt=fi(at,Et);et.computeAndSetLiveDelay(kt,Et)}}}function ze(){if(Pi()){var at=Ze.getPlaybackQuality();at&&re.addDroppedFrames(at)}}function je(){R.debug("[onPlaybackStarted]"),!Oe&&Ye&&Pr(Ue.RESUME_FROM_PAUSE_START_REASON),Oe&&(Oe=!1),Ye=!1}function ut(at){R.debug("[onPlaybackPaused]"),at.ended||(Ye=!0,Vr($e.USER_REQUEST_STOP_REASON))}function At(at){R.debug("Stream with id ".concat(at.streamInfo.id," finished buffering"));var Et=at.streamInfo.isLast;we&&Et?(R.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),Se.signalEndOfStream(we)):Mt()}function Mt(){if(xe&&xe.getHasFinishedBuffering())for(var at=function(){var Sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var on=Sn||xe||null;if(on){var Rn=on.getStreamInfo();return Re.filter(function(An){var Sr=An.getStreamInfo();return Sr.start>Rn.start&&Rn.id!==Sr.id})}}catch{return[]}}(xe),Et=0;Et<at.length;){var kt=at[Et],$t=Et===0?xe:at[Et-1];!kt.getPreloaded()&&$t.getHasFinishedBuffering()&&we&&pn(kt,$t),Et+=1}}function rn(){nt&&(clearInterval(nt),nt=null)}function an(){return xe?xe.getProcessors():[]}function fn(at){if(xe&&!xe.getIsEndedEventSignaled()){xe.setIsEndedEventSignaled(!0);var Et=function(){var kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$t=kt||xe||null;if(!$t)return null;for(var Sn=$t.getStreamInfo(),on=Sn.start,Rn=0,An=-1,Sr=NaN;Rn<Re.length;){var So=Re[Rn],Es=So.getStreamInfo(),pa=Es.start-on;pa>0&&(isNaN(Sr)||pa<Sr)&&Sn.id!==Es.id&&(Sr=pa,An=Rn),Rn+=1}return An>=0?Re[An]:null}();Et?(R.debug("StreamController onEnded, found next stream with id ".concat(Et.getStreamInfo().id,". Switching from ").concat(xe.getStreamInfo().id," to ").concat(Et.getStreamInfo().id)),Yt(Et,xe,NaN)):(R.debug("StreamController no next stream found"),xe.setIsEndedEventSignaled(!1)),Vr(Et?$e.END_OF_PERIOD_STOP_REASON:$e.END_OF_CONTENT_STOP_REASON)}at&&at.isLast&&rn()}function ir(at){var Et=at||Ar().manifestInfo.duration;Se.setDuration(Et)}function Bn(at){var Et=j.getURIFragmentData();if(!Et||!Et.t)return NaN;var kt=Ga()[0].getStreamInfo().start;Et.t=Et.t.split(",")[0];var $t=Et.t.indexOf("posix:")!==-1?Et.t.substring(6)==="now"?Date.now()/1e3:parseInt(Et.t.substring(6)):NaN;return at&&!isNaN($t)?$t-et.getAvailabilityStartTime()/1e3:parseInt(Et.t)+kt}function fi(at,Et){try{var kt=NaN;if(Et&&!isNaN(Et.maxFragmentDuration)&&isFinite(Et.maxFragmentDuration))return Et.maxFragmentDuration;if(at&&at.length===1){var $t=at[0],Sn=[l.a.VIDEO,l.a.AUDIO,l.a.TEXT].reduce(function(on,Rn){var An=ue.getMediaInfoForType($t,Rn);return An&&An.isFragmented!==!1&&on.push(An),on},[]).reduce(function(on,Rn){var An=ue.getVoRepresentations(Rn);return An&&An.length>0&&An.forEach(function(Sr){Sr&&on.push(Sr)}),on},[]).reduce(function(on,Rn){var An=ue.convertRepresentationToRepresentationInfo(Rn);return An&&An.fragmentDuration&&!isNaN(An.fragmentDuration)&&on.push(An.fragmentDuration),on},[]);kt=Math.max.apply(Math,Nt(Sn))}return isFinite(kt)?kt:NaN}catch{return NaN}}function da(at){if(at.error)Ae=!0,Fi();else{R.info("Manifest updated... updating data system wide.");var Et=at.manifest;ue.updatePeriods(Et);var kt=ue.getUTCTimingSources();!ue.getIsDynamic()||kt&&kt.length!==0||ct.trigger(g.a.CONFORMANCE_VIOLATION,{level:bt.LEVELS.WARNING,event:bt.EVENTS.NO_UTC_TIMING_ELEMENT});var $t=ue.getIsDynamic()?kt.concat(ft.getUTCTimingSources()):kt,Sn=ye.isHTTPS(at.manifest.url);$t.forEach(function(on){on.value.replace(/.*?:\/\//g,"")===Xe.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(on.value=on.value.replace(Sn?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Sn?"https://":"http://"),R.debug("Matching default timing source protocol to manifest protocol: ",on.value))}),k.filterUnsupportedFeatures(Et).then(function(){se.initialize(Et),de.attemptSync($t,ue.getIsDynamic())})}}function Pi(){return!!xe&&xe.getHasVideoTrack()}function _r(){return!!xe&&xe.getHasAudioTrack()}function Vr(at,Et){Et=Et||new Date,an().forEach(function(kt){kt.finalisePlayList(Et,at)}),re.addPlayList()}function Pr(at){re.createPlaylistMetrics(1e3*et.getTime(),at)}function Li(at){if(at.error){var Et="";switch(at.error.code){case 1:Et="MEDIA_ERR_ABORTED";break;case 2:Et="MEDIA_ERR_NETWORK";break;case 3:Et="MEDIA_ERR_DECODE",yt.counts.mediaErrorDecode+=1;break;case 4:Et="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Et="MEDIA_ERR_ENCRYPTED";break;default:Et="UNKNOWN"}Et==="MEDIA_ERR_DECODE"&&Xe.get().errors.recoverAttempts.mediaErrorDecode>=yt.counts.mediaErrorDecode?function(){R.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var kt=et.getTime();xe.deactivate(!1),R.warn("MediaSource has been resetted. Resuming playback from time ".concat(kt)),Ht(kt,!1)}():(ge=!0,at.error.message&&(Et+=" ("+at.error.message+")"),at.error.msExtendedCode&&(Et+=" (0x"+(at.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),R.fatal("Video Element Error: "+Et),at.error&&R.fatal(at.error),Ve.error(new A.a(at.error.code,Et)),Fi())}}function Ar(){return xe?xe.getStreamInfo():null}function Qr(at){for(var Et=0,kt=Re.length;Et<kt;Et++)if(Re[Et].getId()===at)return Re[Et];return null}function ha(){if(!(ce&&ce.hasOwnProperty("load")&&Ce&&Ce.hasOwnProperty("initialize")&&Ce.hasOwnProperty("reset")&&Ce.hasOwnProperty("getClientTimeOffset")&&G&&Ve&&re&&et))throw new Error(l.a.MISSING_CONFIG_ERROR)}function Ti(at){isNaN(at.newDuration)||ir(at.newDuration)}function xi(){Re=[],Qe=null,W=!1,xe=null,ge=!1,Ae=!1,Oe=!0,Ye=!1,ne=!0,nt=null,rt=!1,Fe=!1,pt=[],lt=null,yt={counts:{mediaErrorDecode:0}}}function Fi(){ha(),de.reset(),Vr(ge||Ae?$e.FAILURE_STOP_REASON:$e.USER_REQUEST_STOP_REASON);for(var at=0,Et=Re?Re.length:0;at<Et;at++)Re[at].reset(ge);ct.off(g.a.PLAYBACK_TIME_UPDATED,ze,O),ct.off(g.a.PLAYBACK_SEEKING,Vt,O),ct.off(g.a.PLAYBACK_ERROR,Li,O),ct.off(g.a.PLAYBACK_STARTED,je,O),ct.off(g.a.PLAYBACK_PAUSED,ut,O),ct.off(g.a.PLAYBACK_ENDED,fn,O),ct.off(g.a.METRIC_ADDED,vs,O),ct.off(g.a.MANIFEST_VALIDITY_CHANGED,Ti,O),ct.off(g.a.BUFFER_LEVEL_UPDATED,qe,O),ct.off(g.a.QUALITY_CHANGE_REQUESTED,Ne,O),c.a.KEY_SESSION_UPDATED&&ct.off(c.a.KEY_SESSION_UPDATED,Pt,O),ct.off(c.a.MANIFEST_UPDATED,da,O),ct.off(c.a.STREAM_BUFFERING_COMPLETED,At,O),ct.off(c.a.TIME_SYNCHRONIZATION_COMPLETED,Ct,O),ct.off(c.a.CURRENT_TRACK_CHANGED,hn,O),ct.off(c.a.SETTING_UPDATED_LIVE_DELAY,ee,O),ct.off(c.a.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ee,O),se.reset(),Y.reset(),_e.reset(),re.clearAllCurrentMetrics(),G.setValue(null),ce.reset(),Ce.reset(),fe.reset(),we&&(Se.detachMediaSource(Ze),we=null),Ze=null,Qe&&(Qe=null,z=null,G.getValue()&&ct.trigger(c.a.PROTECTION_DESTROYED,{data:G.getValue().url})),rn(),ct.trigger(c.a.STREAM_TEARDOWN_COMPLETE),xi()}function vs(at){if(at.metric===d.a.DVR_INFO){var Et=_r()?l.a.AUDIO:l.a.VIDEO;at.mediaType===Et&&Se.setSeekable(at.value.range.start,at.value.range.end)}}function Ga(){return Re}return O={initialize:function(at,Et){ha(),ne=at,z=Et,Ce.initialize(),(Y=Q(mt).create()).setConfig({manifestModel:G,adapter:ue,manifestLoader:ce,errHandler:Ve,settings:Xe}),Y.initialize(),(_e=It(mt).getInstance()).setConfig({manifestUpdater:Y,playbackController:et,settings:Xe}),_e.start(),de.setConfig({dashMetrics:re,baseURLController:se,errHandler:Ve,settings:Xe}),de.initialize(),Qe&&(ct.trigger(c.a.PROTECTION_CREATED,{controller:Qe}),Qe.setMediaElement(Ze.getElement()),z&&Qe.setProtectionData(z)),function(){ct.on(g.a.PLAYBACK_TIME_UPDATED,ze,O),ct.on(g.a.PLAYBACK_SEEKING,Vt,O),ct.on(g.a.PLAYBACK_ERROR,Li,O),ct.on(g.a.PLAYBACK_STARTED,je,O),ct.on(g.a.PLAYBACK_PAUSED,ut,O),ct.on(g.a.PLAYBACK_ENDED,fn,O),ct.on(g.a.METRIC_ADDED,vs,O),ct.on(g.a.MANIFEST_VALIDITY_CHANGED,Ti,O),ct.on(g.a.BUFFER_LEVEL_UPDATED,qe,O),ct.on(g.a.QUALITY_CHANGE_REQUESTED,Ne,O),c.a.KEY_SESSION_UPDATED&&ct.on(c.a.KEY_SESSION_UPDATED,Pt,O),ct.on(c.a.MANIFEST_UPDATED,da,O),ct.on(c.a.STREAM_BUFFERING_COMPLETED,At,O),ct.on(c.a.TIME_SYNCHRONIZATION_COMPLETED,Ct,O),ct.on(c.a.CURRENT_TRACK_CHANGED,hn,O),ct.on(c.a.SETTING_UPDATED_LIVE_DELAY,ee,O),ct.on(c.a.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ee,O)}()},getActiveStreamInfo:Ar,addDVRMetric:Tn,hasVideoTrack:Pi,hasAudioTrack:_r,getStreamById:Qr,getStreamForTime:Zt,getTimeRelativeToStreamId:function(at,Et){for(var kt=null,$t=0,Sn=0,on=null,Rn=0;Rn<Re.length;Rn++){if(Sn=(kt=Re[Rn]).getStartTime(),on=kt.getDuration(),Number.isFinite(Sn)&&($t=Sn),kt.getId()===Et)return at-$t;Number.isFinite(on)&&($t+=on)}return null},load:function(at){ha(),ce.load(at)},loadWithManifest:function(at){(function(){if(!Y||!Y.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Y.setManifest(at)},getActiveStreamProcessors:an,setConfig:function(at){at&&(at.capabilities&&(C=at.capabilities),at.capabilitiesFilter&&(k=at.capabilitiesFilter),at.manifestLoader&&(ce=at.manifestLoader),at.manifestModel&&(G=at.manifestModel),at.mediaPlayerModel&&(st=at.mediaPlayerModel),at.customParametersModel&&(ft=at.customParametersModel),at.protectionController&&(Qe=at.protectionController),at.adapter&&(ue=at.adapter),at.dashMetrics&&(re=at.dashMetrics),at.errHandler&&(Ve=at.errHandler),at.timelineConverter&&(Ce=at.timelineConverter),at.videoModel&&(Ze=at.videoModel),at.playbackController&&(et=at.playbackController),at.serviceDescriptionController&&(gt=at.serviceDescriptionController),at.textController&&(B=at.textController),at.abrController&&(Pe=at.abrController),at.mediaController&&(be=at.mediaController),at.settings&&(Xe=at.settings),at.baseURLController&&(se=at.baseURLController),at.uriFragmentModel&&(j=at.uriFragmentModel),at.segmentBaseController&&(he=at.segmentBaseController))},setProtectionData:function(at){z=at,Qe&&Qe.setProtectionData(z)},getIsStreamSwitchInProgress:function(){return W},switchToVideoElement:function(at){xe&&(et.initialize(Ar()),Ht(at,!1))},getHasMediaOrInitialisationError:function(){return ge||Ae},getStreams:Ga,getActiveStream:function(){return xe},getInitialPlayback:function(){return Oe},getAutoPlay:function(){return ne},reset:Fi},R=Object(T.a)(mt).getInstance().getLogger(O),de=Me(mt).getInstance(),Se=tt(mt).getInstance(),fe=Ee(mt).getInstance(),ye=Object(We.a)(mt).getInstance(),xi(),O}Dt.__dashjs_factory_name="StreamController";var Rt=p.a.getSingletonFactory(Dt);function en(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he=this.context,j=Object(m.a)(he).getInstance();function Pe(){se.debug("Stopping the gap controller"),Y&&(clearInterval(Y),Y=null),function(){j.off(c.a.WALLCLOCK_TIME_UPDATED,Ve,this),j.off(c.a.INITIAL_STREAM_SWITCH,ye,this),j.off(c.a.PLAYBACK_SEEKING,be,this),j.off(c.a.BUFFER_REPLACEMENT_STARTED,_e,O),j.off(c.a.TRACK_CHANGE_RENDERED,fe,O)}(),Y=null,ce=NaN,k=0,Se=null,de={}}function be(){Se&&(clearTimeout(Se),Se=null)}function _e(z){try{if(z.streamId!==ue.getActiveStreamInfo().id||!z.mediaType)return;z.streamId===ue.getActiveStreamInfo().id&&(de[z.mediaType]=!0)}catch(ne){se.error(ne)}}function fe(z){z&&z.mediaType&&(de[z.mediaType]=!1)}function ye(){Y||function(){try{Y||(se.debug("Starting the gap controller"),Y=setInterval(function(){Ce()&&B(G.getTime())},100))}catch{}}()}function Ve(){if(Ce(C.get().streaming.gaps.enableSeekFix)&&++k>=10){var z=G.getTime();R===z?B(z,!0):(R=z,ce=NaN),k=0}}function Ce(){var z=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!ue.getActiveStream())return!1;var ne=Object.keys(de).some(function(ge){return de[ge]}),W=!!z&&Re();return!ne&&C.get().streaming.gaps.jumpGaps&&ue.getActiveStreamProcessors().length>0&&(!G.isSeeking()||W)&&!G.isPaused()&&!ue.getIsStreamSwitchInProgress()&&!ue.getHasMediaOrInitialisationError()}function Re(){var z=ue.getActiveStream(),ne=parseFloat((z.getStartTime()+z.getDuration()).toFixed(5));return G.getTime()+C.get().streaming.gaps.threshold>=ne}function xe(z,ne){try{if(!z||z.length<=1&&ne>0)return NaN;for(var W=NaN,ge=0;isNaN(W)&&ge<z.length;){var Ae=ge>0?z.end(ge-1):0;ne<z.start(ge)&&Ae-ne<C.get().streaming.gaps.threshold&&(W=ge),ge+=1}return W}catch{return null}}function Qe(z,ne){for(var W=0,ge=z.length;W<ge;W++)if(ne>=z.start(W)&&ne<=z.end(W))return!0;return!1}function B(z){var ne,W=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ge=C.get().streaming.gaps.enableStallFix,Ae=C.get().streaming.gaps.stallSeek,we=C.get().streaming.gaps.smallGapLimit,Ze=C.get().streaming.gaps.jumpLargeGaps,et=re.getBufferRange(),gt=NaN,st=!1;if(ne=xe(et,z),!isNaN(ne)){var ft=et.start(ne),Ye=ft-z;Ye>0&&(Ye<=we||Ze)&&(gt=ft)}var Oe=G.getTimeToStreamEnd();if(isNaN(gt)&&W&&isFinite(Oe)&&!isNaN(Oe)&&Oe<we&&(gt=parseFloat(G.getStreamEndTime().toFixed(5)),st=!0),ge&&isNaN(gt)&&W&&isNaN(ne)&&Qe(et,z)&&(Ae===0?(se.warn("Toggle play pause to break stall"),re.pause(),re.play()):(se.warn("Jumping ".concat(Ae,"s to break stall")),gt=z+Ae)),gt>0&&ce!==gt&&gt>z&&!Se){var nt=gt-z;if(st){var it=ue.getStreamForTime(gt),pt=it&&!!it.getPreloaded();se.warn("Jumping to end of stream because of gap from ".concat(z," to ").concat(gt,". Gap duration: ").concat(nt)),G.seek(gt,!0,pt)}else{var Fe=G.getIsDynamic(),Xe=ne>0?et.end(ne-1):z,rt=Fe?1e3*Math.max(0,nt-.1):0;Se=window.setTimeout(function(){G.seek(gt,!0,!0),se.warn("Jumping gap occuring in period ".concat(ue.getActiveStream().getStreamId()," starting at ").concat(Xe," and ending at ").concat(gt,". Jumping by: ").concat(gt-Xe)),Se=null},rt)}ce=gt}}return O={reset:Pe,setConfig:function(z){z&&(z.settings&&(C=z.settings),z.playbackController&&(G=z.playbackController),z.streamController&&(ue=z.streamController),z.videoModel&&(re=z.videoModel))},initialize:function(){(function(){j.on(c.a.WALLCLOCK_TIME_UPDATED,Ve,this),j.on(c.a.INITIAL_STREAM_SWITCH,ye,this),j.on(c.a.PLAYBACK_SEEKING,be,this),j.on(c.a.BUFFER_REPLACEMENT_STARTED,_e,O),j.on(c.a.TRACK_CHANGE_RENDERED,fe,O)})()}},se=Object(T.a)(he).getInstance().getLogger(O),Pe(),O}en.__dashjs_factory_name="GapController";var Ut=p.a.getSingletonFactory(en);function sn(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se=this.context,he=Object(m.a)(se).getInstance();function j(){R=!1;var Re=typeof navigator<"u"?navigator.userAgent.toLowerCase():"",xe=/safari/.test(Re)&&!/chrome/.test(Re);C=xe?.25:.02}function Pe(){R=!1}function be(Re){if(Re.streamId===ce.getActiveStreamInfo().id&&Se){var xe=G.getLiveDelay();G.getBufferLevel()>xe/2&&(Se=!1)}}function _e(Re){Re.streamId===ce.getActiveStreamInfo().id&&(Se=Re.state===d.a.BUFFER_EMPTY)}function fe(){ue.getCatchupModeEnabled()||k.setPlaybackRate(1)}function ye(){G.getIsDynamic()&&ue.getCatchupModeEnabled()&&ue.getCatchupPlaybackRate()>0&&!G.isPaused()&&!G.isSeeking()&&function(){try{var Re=ue.getLiveCatchupLatencyThreshold();if(!G.getTime()>0||R||!isNaN(Re)&&G.getCurrentLiveLatency()>=Re)return!1;if(Ce()===l.a.LIVE_CATCHUP_MODE_LOLP){var xe=G.getBufferLevel(),Qe=Y.get().streaming.liveCatchup.playbackBufferMin;return function(B,z){try{return Math.abs(Ve())>0||B<z}catch{return!1}}(xe,Qe)}return function(){try{return Math.abs(Ve())>0}catch{return!1}}()}catch{return!1}}()&&function(){if(!R){if(k){var Re,xe=k.getPlaybackRate(),Qe=ue.getCatchupPlaybackRate(),B=G.getBufferLevel(),z=Ve(),ne=ue.getCatchupMaxDrift();if(!isNaN(ne)&&ne>0&&z>ne)de.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),R=!0,we=ce&&ce.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,Ze=re.getCurrentDVRInfo(we),(et=Ze?Ze.range:null)&&!isNaN(et.end)&&G.seek(et.end-G.getLiveDelay(),!0,!1);else{var W=G.getCurrentLiveLatency(),ge=G.getLiveDelay();if(Ce()===l.a.LIVE_CATCHUP_MODE_LOLP){var Ae=Y.get().streaming.liveCatchup.playbackBufferMin;Re=function(gt,st,ft,Ye,Oe,nt){var it,pt=gt;if(Oe<Ye){var Fe=5*(Oe-Ye),Xe=2*pt/(1+Math.pow(Math.E,-Fe));it=1-pt+Xe,de.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Oe+", newRate: "+it)}else{if(Math.abs(st-ft)<=.02*ft)it=1;else{var rt=5*(st-ft),lt=2*pt/(1+Math.pow(Math.E,-rt));it=1-pt+lt}de.debug("[LoL+ playback control_latency-based] latency: "+st+", newRate: "+it)}return Math.abs(nt-it)<=C&&(it=null),it}(Qe,W,ge,Ae,B,xe)}else Re=function(gt,st,ft,Ye,Oe){if(Se)return 1;var nt=gt,it=st-ft,pt=5*it,Fe=2*nt/(1+Math.pow(Math.E,-pt)),Xe=1-nt+Fe;return G.getPlaybackStalled()&&Ye<=ft/2&&it>0&&(Xe=1),Math.abs(Oe-Xe)<=C&&(Xe=null),Xe}(Qe,W,ge,B,xe);Re&&(de.debug("[CatchupController]: Setting playback rate to ".concat(Re)),k.setPlaybackRate(Re))}}var we,Ze,et}}()}function Ve(){return G.getCurrentLiveLatency()-G.getLiveDelay()}function Ce(){var Re=Y.get().streaming.liveCatchup.playbackBufferMin;return Y.get().streaming.liveCatchup.mode!==l.a.LIVE_CATCHUP_MODE_LOLP||Re===null||isNaN(Re)?l.a.LIVE_CATCHUP_MODE_DEFAULT:l.a.LIVE_CATCHUP_MODE_LOLP}return O={reset:function(){he.off(g.a.BUFFER_LEVEL_UPDATED,be,O),he.off(g.a.BUFFER_LEVEL_STATE_CHANGED,_e,O),he.off(g.a.PLAYBACK_PROGRESS,ye,O),he.off(g.a.PLAYBACK_TIME_UPDATED,ye,O),he.off(g.a.PLAYBACK_SEEKED,ye,O),he.off(c.a.SETTING_UPDATED_CATCHUP_ENABLED,fe,O),j(),k.setPlaybackRate(1,!0)},setConfig:function(Re){Re&&(Re.settings&&(Y=Re.settings),Re.videoModel&&(k=Re.videoModel),Re.streamController&&(ce=Re.streamController),Re.playbackController&&(G=Re.playbackController),Re.dashMetrics&&(re=Re.dashMetrics),Re.mediaPlayerModel&&(ue=Re.mediaPlayerModel))},initialize:function(){he.on(g.a.BUFFER_LEVEL_UPDATED,be,O),he.on(g.a.BUFFER_LEVEL_STATE_CHANGED,_e,O),he.on(g.a.PLAYBACK_PROGRESS,ye,O),he.on(g.a.PLAYBACK_TIME_UPDATED,ye,O),he.on(g.a.PLAYBACK_SEEKED,Pe,O),he.on(c.a.SETTING_UPDATED_CATCHUP_ENABLED,fe,O)}},de=Object(T.a)(se).getInstance().getLogger(O),j(),O}sn.__dashjs_factory_name="CatchupController";var Mn=p.a.getSingletonFactory(sn),En=[l.a.SERVICE_DESCRIPTION_DVB_LL_SCHEME],Xt="video",Qt="audio",Jn="any",Xn="all";function yn(){var O,R,C,k,Y,ce=this.context;function G(){R={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:NaN},minBitrate:{},maxBitrate:{},initialBitrate:{}},C=[]}function ue(re,Se,de){try{R[re][Se]=de/1e3}catch(se){k.error(se)}}return O={getServiceDescriptionSettings:function(){return R},getProducerReferenceTimeOffsets:function(){return C},calculateProducerReferenceTimeOffsets:function(re){try{var Se=[];if(re&&re.length>0){var de=[l.a.VIDEO,l.a.AUDIO,l.a.TEXT],se=Y.getAvailabilityStartTime()/1e3;re.forEach(function(he){var j=de.reduce(function(Pe,be){return Pe=Pe.concat(Y.getAllMediaInfoForType(he,be))},[]).reduce(function(Pe,be){return Y.getProducerReferenceTimes(he,be).forEach(function(_e){var fe=Y.getVoRepresentations(be);if(fe&&fe.length>0&&fe[0].adaptation&&fe[0].segmentInfoType===f.a.SEGMENT_TEMPLATE){var ye=fe[0],Ve=new Date(_e[f.a.WALL_CLOCK_TIME]).getTime()/1e3-(_e[f.a.PRESENTATION_TIME]/ye[f.a.TIMESCALE]-ye[f.a.PRESENTATION_TIME_OFFSET]+he.start),Ce=se-Ve;Pe.push({id:_e[f.a.ID],to:Ce})}}),Pe},[]);Se=Se.concat(j)})}C=Se}catch(he){k.error(he),C=[]}},applyServiceDescription:function(re){if(re&&re.serviceDescriptions){var Se=re.serviceDescriptions.filter(function(he){return En.includes(he.schemeIdUri)}),de=re.serviceDescriptions.filter(function(he){return he.schemeIdUri==null}),se=Se.length>0?Se[Se.length-1]:de[de.length-1];se&&(se.latency&&se.latency.target>0&&function(he){var j;if(j=he.schemeIdUri===l.a.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function(fe){var ye=fe.latency.target/1e3,Ve=!isNaN(fe.latency.max)&&fe.latency.max>fe.latency.target?(fe.latency.max-fe.latency.target+500)/1e3:NaN,Ce=fe.latency.referenceId||NaN;return{liveDelay:ye,maxDrift:Ve,referenceId:Ce}}(he):function(fe){var ye=fe.latency.target/1e3,Ve=!isNaN(fe.latency.max)&&fe.latency.max>fe.latency.target?(fe.latency.max-fe.latency.target+500)/1e3:NaN,Ce=fe.latency.referenceId||NaN;return{liveDelay:ye,maxDrift:Ve,referenceId:Ce}}(he),C.length>0){var Pe=function(fe){var ye,Ve=0,Ce=C.filter(function(Re){return Re.id===fe.referenceId});return Ce.length===0?(Ve=C.length>0?C[0].to:0,ye=C[0].id||NaN):(Ve=Ce[0].to||0,ye=Ce[0].id||NaN),{to:Ve,id:ye}}(j),be=Pe.to,_e=Pe.id;R.liveDelay=j.liveDelay-be,R.liveCatchup.maxDrift=j.maxDrift,k.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(be," from ProducerReferenceTime element with id ").concat(_e,`.
                Live Delay: `).concat(j.liveDelay-be,", Live catchup max drift: ").concat(j.maxDrift,`
            `))}else R.liveDelay=j.liveDelay,R.liveCatchup.maxDrift=j.maxDrift,k.debug("Found latency properties coming from service description: Live Delay: ".concat(j.liveDelay,", Live catchup max drift: ").concat(j.maxDrift))}(se),se.playbackRate&&se.playbackRate.max>1&&function(he){var j=Math.round(1e3*(he.playbackRate.max-1))/1e3;R.liveCatchup.playbackRate=j,k.debug("Found latency properties coming from service description: Live catchup playback rate: ".concat(j))}(se),se.operatingQuality,se.operatingBandwidth&&function(he){if(!(!he||!he.operatingBandwidth||!he.operatingBandwidth.mediaType||he.operatingBandwidth.mediaType===Xn)){var j={};j.minBandwidth=he.operatingBandwidth.min,j.maxBandwidth=he.operatingBandwidth.max,j.targetBandwidth=he.operatingBandwidth.target;var Pe=[];he.operatingBandwidth.mediaType===Xt||he.operatingBandwidth.mediaType===Qt?Pe.push(he.operatingBandwidth.mediaType):he.operatingBandwidth.mediaType===Jn&&(Pe.push(Qt),Pe.push(Xt)),Pe.forEach(function(be){isNaN(j.minBandwidth)||ue("minBitrate",be,j.minBandwidth),isNaN(j.maxBandwidth)||ue("maxBitrate",be,j.maxBandwidth),isNaN(j.targetBandwidth)||ue("initialBitrate",be,j.targetBandwidth)})}}(se))}},reset:function(){G()},setConfig:function(re){re&&re.adapter&&(Y=re.adapter)}},k=Object(T.a)(ce).getInstance().getLogger(O),G(),O}yn.__dashjs_factory_name="ServiceDescriptionController";var rr=p.a.getSingletonFactory(yn);function un(){var O,R,C,k,Y,ce,G,ue,re=this.context,Se=Object(m.a)(re).getInstance();function de(B,z){return B&&C[z]&&C[z][B]?C[z][B].list:[]}function se(B,z){return B&&C[z]&&C[z][B]?C[z][B].current:null}function he(B){var z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(B&&B.streamInfo){var ne=B.type,W=B.streamInfo,ge=W.id,Ae=se(ne,ge);if(C[ge]&&C[ge][ne]&&!be(B,Ae)&&(C[ge][ne].current=B,C[ge][ne].current&&(ne!==l.a.TEXT||ne===l.a.TEXT&&B.isFragmented)&&Se.trigger(c.a.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ae,newMediaInfo:B,switchMode:k.get().streaming.trackSwitchMode[ne]},{streamId:ge}),!z)){var we=fe(B);if(!we||!C[ge][ne].storeLastSettings)return;we.roles&&(we.role=we.roles[0],delete we.roles),we.accessibility&&(we.accessibility=we.accessibility[0]),we.audioChannelConfiguration&&(we.audioChannelConfiguration=we.audioChannelConfiguration[0]),ce[ne]=we,ue.setSavedMediaSettings(ne,we)}}}function j(B,z){B&&z&&(Y[B]=z)}function Pe(B){return B?Y[B]:null}function be(B,z){if(!B&&!z)return!0;if(!B||!z)return!1;var ne=B.id===z.id,W=B.viewpoint===z.viewpoint,ge=B.lang===z.lang,Ae=B.codec===z.codec,we=B.roles.toString()===z.roles.toString(),Ze=B.accessibility.toString()===z.accessibility.toString(),et=B.audioChannelConfiguration.toString()===z.audioChannelConfiguration.toString();return ne&&Ae&&W&&ge&&we&&Ze&&et}function _e(){C={},ce={},Y={audio:null,video:null,text:null}}function fe(B){var z={lang:B.lang,viewpoint:B.viewpoint,roles:B.roles,accessibility:B.accessibility,audioChannelConfiguration:B.audioChannelConfiguration};return z.lang||z.viewpoint||z.role&&z.role.length>0||z.accessibility&&z.accessibility.length>0||z.audioChannelConfiguration&&z.audioChannelConfiguration.length>0?z:null}function ye(B,z){var ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2],W=!B.lang||z.lang.match(B.lang),ge=B.index===void 0||B.index===null||z.index===B.index,Ae=!B.viewpoint||B.viewpoint===z.viewpoint,we=!B.role||!!z.roles.filter(function(gt){return gt===B.role})[0],Ze=!B.accessibility||!!z.accessibility.filter(function(gt){return gt===B.accessibility})[0],et=!B.audioChannelConfiguration||!!z.audioChannelConfiguration.filter(function(gt){return gt===B.audioChannelConfiguration})[0];return W&&ge&&Ae&&(we||z.type===l.a.AUDIO&&ne)&&Ze&&et}function Ve(B){var z,ne=0,W=[];return B.forEach(function(ge){(z=Math.max.apply(Math,ge.bitrateList.map(function(Ae){return Ae.bandwidth})))>ne?(ne=z,W=[ge]):z===ne&&W.push(ge)}),W}function Ce(B){var z,ne=1/0,W=[];return B.forEach(function(ge){var Ae=ge.bitrateList.reduce(function(we,Ze){var et=Math.max(1,Ze.width*Ze.height);return we+Ze.bandwidth/et},0);(z=Ae/ge.bitrateList.length)<ne?(ne=z,W=[ge]):z===ne&&W.push(ge)}),W}function Re(B){var z,ne=0,W=[];return B.forEach(function(ge){(z=ge.representationCount)>ne?(ne=z,W=[ge]):z===ne&&W.push(ge)}),W}function xe(B,z){if(B===l.a.TEXT)return z[0];var ne,W=k.get().streaming.selectionModeForInitialTrack,ge=G.getCustomInitialTrackSelectionFunction();if(ge&&typeof ge=="function")ne=ge(z);else switch(W){case l.a.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ne=function(Ae){var we=(Ze=Ae,et=0,gt=[],Ze.forEach(function(st){isNaN(st.selectionPriority)||(st.selectionPriority>et?(et=st.selectionPriority,gt=[st]):st.selectionPriority===et&&gt.push(st))}),gt),Ze,et,gt;return we.length>1&&(we=Ve(we)),we.length>1&&(we=Re(we)),we}(z);break;case l.a.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ne=function(Ae){var we=Ve(Ae);return we.length>1&&(we=Re(we)),we}(z);break;case l.a.TRACK_SELECTION_MODE_FIRST_TRACK:ne=Qe(z);break;case l.a.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ne=function(Ae){var we=Ce(Ae);return we.length>1&&(we=Ve(we)),we}(z);break;case l.a.TRACK_SELECTION_MODE_WIDEST_RANGE:ne=function(Ae){var we=Re(Ae);return we.length>1&&(we=Ve(Ae)),we}(z);break;default:R.warn("Track selection mode ".concat(W," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ne=Qe(z)}return ne.length>0?ne[0]:z[0]}function Qe(B){return B[0]}return O={setInitialMediaSettingsForType:function(B,z){var ne=ce[B]||Pe(B),W=de(B,z.id),ge=[];ne||(ne=ue.getSavedMediaSettings(B),j(B,ne)),W&&W.length!==0&&(ne&&W.forEach(function(Ae){ye(ne,Ae,!!ce[B])&&ge.push(Ae)}),ge.length===0?he(xe(B,W),!0):ge.length>1?he(xe(B,ge,ce[B])):he(ge[0]))},addTrack:function(B){if(B){var z=B.type;if((ne=z)===l.a.AUDIO||ne===l.a.VIDEO||ne===l.a.TEXT||ne===l.a.IMAGE){var ne,W=B.streamInfo.id;C[W]||(C[W]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ge=C[W][z].list,Ae=0,we=ge.length;Ae<we;++Ae)if(be(ge[Ae],B))return;ge.push(B)}}},getTracksFor:de,getCurrentTrackFor:se,isCurrentTrack:function(B){if(!B)return!1;var z=B.type,ne=B.streamInfo.id;return C[ne]&&C[ne][z]&&be(C[ne][z].current,B)},setTrack:he,selectInitialTrack:xe,setInitialSettings:j,getInitialSettings:Pe,getTracksWithHighestBitrate:Ve,getTracksWithHighestEfficiency:Ce,getTracksWithWidestRange:Re,isTracksEqual:be,matchSettings:ye,saveTextSettingsDisabled:function(){ue.setSavedMediaSettings(l.a.TEXT,null)},setConfig:function(B){B&&(B.domStorage&&(ue=B.domStorage),B.settings&&(k=B.settings),B.customParametersModel&&(G=B.customParametersModel))},reset:_e},R=Object(T.a)(re).getInstance().getLogger(O),_e(),O}un.__dashjs_factory_name="MediaController";var Qn=p.a.getSingletonFactory(un);p.a.updateSingletonFactory(un.__dashjs_factory_name,Qn);var qn=Qn,wn=i(44),bn=function O(R,C){(function(k,Y){if(!(k instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,O),this.data={baseUrls:R||null,selectedIdx:C||NaN},this.children=[]};function Or(){var O,R,C,k=this.context,Y=Object(wn.a)(k).getInstance();function ce(re,Se,de){var se=C.getBaseURLsFromElement(de);re[Se]?Y.areEqual(se,re[Se].data.baseUrls)||(re[Se].data.baseUrls=se,re[Se].data.selectedIdx=NaN):re[Se]=new bn(se)}function G(re){(function(){if(!C||!C.hasOwnProperty("getBaseURLsFromElement")||!C.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var Se=C.getBaseURLsFromElement(re);Y.areEqual(Se,R.data.baseUrls)||(R.data.baseUrls=Se,R.data.selectedIdx=NaN),re&&re.Period_asArray&&re.Period_asArray.forEach(function(de,se){ce(R.children,se,de),de.AdaptationSet_asArray&&de.AdaptationSet_asArray.forEach(function(he,j){ce(R.children[se].children,j,he),he.Representation_asArray&&he.Representation_asArray.sort(C.getRepresentationSortFunction()).forEach(function(Pe,be){ce(R.children[se].children[j].children,be,Pe)})})})}function ue(){R=new bn}return O={reset:ue,update:function(re){G(re)},getForPath:function(re){var Se=R,de=[Se.data];return re&&re.forEach(function(se){(Se=Se.children[se])&&de.push(Se.data)}),de.filter(function(se){return se.baseUrls.length})},invalidateSelectedIndexes:function(re){(function Se(de,se){var he=se||R;de(he.data),he.children&&he.children.forEach(function(j){return Se(de,j)})})(function(Se){isNaN(Se.selectedIdx)||re===Se.baseUrls[Se.selectedIdx].serviceLocation&&(Se.selectedIdx=NaN)})},setConfig:function(re){re.adapter&&(C=re.adapter)}},ue(),O}Or.__dashjs_factory_name="BaseURLTreeModel";var ur=p.a.getClassFactory(Or);function Pn(O){var R=(O=O||{}).blacklistController;return{select:function(C){return C&&function(Y){var ce,G,ue=0,re=[],Se=0;if((G=Y.sort(function(de,se){var he=de.dvb_priority-se.dvb_priority;return isNaN(he)?0:he}).filter(function(de,se,he){return!se||he[0].dvb_priority&&de.dvb_priority&&he[0].dvb_priority===de.dvb_priority})).length)return G.length>1&&(G.forEach(function(de){ue+=de.dvb_weight,re.push(ue)}),ce=Math.floor(Math.random()*(ue-1)),re.every(function(de,se){return Se=se,!(ce<de)})),G[Se]}((k=[],C.filter(function(Y){return!R.contains(Y.serviceLocation)||(Y.dvb_priority&&k.push(Y.dvb_priority),!1)}).filter(function(Y){return!k.length||!Y.dvb_priority||k.indexOf(Y.dvb_priority)===-1})));var k}}}Pn.__dashjs_factory_name="DVBSelector";var _n=p.a.getClassFactory(Pn);function Dr(O){var R=(O=O||{}).blacklistController;return{select:function(C){var k,Y=0;return C&&C.some(function(ce,G){return Y=G,!R.contains(ce.serviceLocation)})&&(k=C[Y]),k}}}Dr.__dashjs_factory_name="BasicSelector";var Ni=p.a.getClassFactory(Dr);function li(){var O,R,C,k,Y,ce=this.context,G=Object(m.a)(ce).getInstance();function ue(){R.reset()}return O={chooseSelector:function(re){Object(ve.b)(re,"boolean"),Y=re?k:C},select:function(re){if(re){var Se=re.baseUrls,de=re.selectedIdx;if(!isNaN(de))return Se[de];var se=Y.select(Se);return se?(re.selectedIdx=Se.indexOf(se),se):(G.trigger(c.a.URL_RESOLUTION_FAILED,{error:new A.a(N.a.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,N.a.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(Y===C&&ue()))}},reset:ue,setConfig:function(re){re.selector&&(Y=re.selector)}},R=le(ce).create({updateEventName:c.a.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:c.a.SERVICE_LOCATION_BLACKLIST_ADD}),C=Ni(ce).create({blacklistController:R}),k=_n(ce).create({blacklistController:R}),Y=C,O}li.__dashjs_factory_name="BaseURLSelector";var Oi=p.a.getClassFactory(li),_i=i(39);function ci(){var O,R,C,k,Y=this.context,ce=Object(m.a)(Y).getInstance(),G=Object(We.a)(Y).getInstance();function ue(re){C.invalidateSelectedIndexes(re.entry)}return O={reset:function(){C.reset(),k.reset()},initialize:function(re){var Se;C.setConfig({adapter:R}),Se=re,C.update(Se),k.chooseSelector(R.getIsDVB(Se))},resolve:function(re){var Se=C.getForPath(re).reduce(function(de,se){var he=k.select(se);return he?(G.isRelative(he.url)?de.url=G.resolve(he.url,de.url):(de.url=he.url,de.serviceLocation=he.serviceLocation),de.availabilityTimeOffset=he.availabilityTimeOffset,de.availabilityTimeComplete=he.availabilityTimeComplete,de):new _i.a},new _i.a);if(!G.isRelative(Se.url))return Se},setConfig:function(re){re.baseURLTreeModel&&(C=re.baseURLTreeModel),re.baseURLSelector&&(k=re.baseURLSelector),re.adapter&&(R=re.adapter)}},C=ur(Y).create(),k=Oi(Y).create(),ce.on(c.a.SERVICE_LOCATION_BLACKLIST_CHANGED,ue,O),O}ci.__dashjs_factory_name="BaseURLController";var aa=p.a.getClassFactory(ci),yr=i(21),Hr=i(17);function oa(O){return(oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(O)}function Di(O,R){return(Di=Object.setPrototypeOf||function(C,k){return C.__proto__=k,C})(O,R)}function vo(O){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,k=ua(O);if(R){var Y=ua(this).constructor;C=Reflect.construct(k,arguments,Y)}else C=k.apply(this,arguments);return sa(this,C)}}function sa(O,R){return!R||oa(R)!=="object"&&typeof R!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(O):R}function ua(O){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(O)}var la=function(O){(function(k,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(Y&&Y.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Y&&Di(k,Y)})(C,O);var R=vo(C);function C(k,Y){var ce;return function(G,ue){if(!(G instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,C),(ce=R.call(this)).url=k||null,ce.type=Y||null,ce.mediaType=l.a.STREAM,ce.responseType="",ce}return C}(Hr.a);function ca(O){O=O||{};var R=this.context,C=Object(m.a)(R).getInstance(),k=Object(yr.a)(R).create({errHandler:O.errHandler,dashMetrics:O.dashMetrics,mediaPlayerModel:O.mediaPlayerModel,requestModifier:O.requestModifier,errors:N.a});return{load:function(Y,ce,G){var ue=function(Se,de){ce.resolved=!0,ce.resolvedContent=Se||null,C.trigger(c.a.XLINK_ELEMENT_LOADED,{element:ce,resolveObject:G,error:Se||de?null:new A.a(N.a.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,N.a.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+Y)})};if(Y==="urn:mpeg:dash:resolve-to-zero:2013")ue(null,!0);else{var re=new la(Y,S.a.XLINK_EXPANSION_TYPE);k.load({request:re,success:function(Se){ue(Se)},error:function(){ue(null)}})}},reset:function(){k&&(k.abort(),k=null)}}}ca.__dashjs_factory_name="XlinkLoader";var Eo=p.a.getClassFactory(ca),bo=i(45);function fa(O){O=O||{};var R,C,k,Y,ce,G,ue=this.context,re=Object(m.a)(ue).getInstance(),Se=Object(We.a)(ue).getInstance();function de(be,_e,fe){var ye,Ve,Ce={};Ce.elements=be,Ce.type=_e,Ce.resolveType=fe,Ce.elements.length===0&&he(Ce);for(var Re=0;Re<Ce.elements.length;Re++)ye=Ce.elements[Re],Ve=Se.isHTTPURL(ye.url)?ye.url:ye.originalContent.BaseURL+ye.url,G.load(Ve,ye,Ce)}function se(be){var _e,fe,ye="";if(_e=be.element,fe=be.resolveObject,_e.resolvedContent){var Ve=0;_e.resolvedContent.indexOf("<?xml")===0&&(Ve=_e.resolvedContent.indexOf("?>")+2),ye=_e.resolvedContent.substr(0,Ve)+"<response>"+_e.resolvedContent.substr(Ve)+"</response>",_e.resolvedContent=ce.xml_str2json(ye)}(function(Ce){var Re;for(Re=0;Re<Ce.elements.length;Re++)if(Ce.elements[Re].resolved===!1)return!1;return!0})(fe)&&he(fe)}function he(be){var _e,fe,ye=[];if(function(Ve){var Ce,Re,xe,Qe,B,z,ne=[];for(Qe=Ve.elements.length-1;Qe>=0;Qe--){if(Ce=Ve.elements[Qe],Re=Ce.type+"_asArray",Ce.resolvedContent){if(Ce.resolvedContent)for(B=0;B<Ce.resolvedContent[Re].length;B++)xe=Ce.resolvedContent[Re][B],ne.push(xe)}else delete Ce.originalContent["xlink:actuate"],delete Ce.originalContent["xlink:href"],ne.push(Ce.originalContent);for(Ce.parentElement[Re].splice(Ce.index,1),z=0;z<ne.length;z++)Ce.parentElement[Re].splice(Ce.index+z,0,ne[z]);ne=[]}Ve.elements.length>0&&k.run(Y)}(be),be.resolveType==="onActuate"&&re.trigger(c.a.XLINK_READY,{manifest:Y}),be.resolveType==="onLoad")switch(be.type){case f.a.PERIOD:for(_e=0;_e<Y[f.a.PERIOD+"_asArray"].length;_e++)(fe=Y[f.a.PERIOD+"_asArray"][_e]).hasOwnProperty(f.a.ADAPTATION_SET+"_asArray")&&(ye=ye.concat(j(fe[f.a.ADAPTATION_SET+"_asArray"],fe,f.a.ADAPTATION_SET,"onLoad"))),fe.hasOwnProperty(f.a.EVENT_STREAM+"_asArray")&&(ye=ye.concat(j(fe[f.a.EVENT_STREAM+"_asArray"],fe,f.a.EVENT_STREAM,"onLoad")));de(ye,f.a.ADAPTATION_SET,"onLoad");break;case f.a.ADAPTATION_SET:re.trigger(c.a.XLINK_READY,{manifest:Y})}}function j(be,_e,fe,ye){var Ve,Ce,Re,xe=[];for(Ce=be.length-1;Ce>=0;Ce--)(Ve=be[Ce]).hasOwnProperty("xlink:href")&&Ve["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&be.splice(Ce,1);for(Ce=0;Ce<be.length;Ce++)(Ve=be[Ce]).hasOwnProperty("xlink:href")&&Ve.hasOwnProperty("xlink:actuate")&&Ve["xlink:actuate"]===ye&&(Re=Pe(Ve["xlink:href"],_e,fe,Ce,ye,Ve),xe.push(Re));return xe}function Pe(be,_e,fe,ye,Ve,Ce){return{url:be,parentElement:_e,type:fe,index:ye,resolveType:Ve,originalContent:Ce,resolvedContent:null,resolved:!1}}return R={resolveManifestOnLoad:function(be){ce=new bo.a({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:C}),(Y=be).Period_asArray?de(j(Y.Period_asArray,Y,f.a.PERIOD,"onLoad"),f.a.PERIOD,"onLoad"):re.trigger(c.a.XLINK_READY,{manifest:Y})},setMatchers:function(be){be&&(C=be)},setIron:function(be){be&&(k=be)},reset:function(){re.off(c.a.XLINK_ELEMENT_LOADED,se,R),G&&(G.reset(),G=null)}},re.on(c.a.XLINK_ELEMENT_LOADED,se,R),G=Eo(ue).create({errHandler:O.errHandler,dashMetrics:O.dashMetrics,mediaPlayerModel:O.mediaPlayerModel,requestModifier:O.requestModifier,settings:O.settings}),R}fa.__dashjs_factory_name="XlinkController";var ps=p.a.getClassFactory(fa),Vu=i(61);function Ao(O){O=O||{};var R,C,k,Y,ce,G=this.context,ue=O.debug,re=Object(m.a)(G).getInstance(),Se=Object(We.a)(G).getInstance(),de=O.mssHandler,se=O.errHandler;function he(j){re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:j.manifest})}return R={load:function(j){var Pe=new la(j,S.a.MPD_TYPE);k.load({request:Pe,success:function(be,_e,fe){var ye,Ve,Ce;if(Y)if(fe&&fe!==j?(Ve=Se.parseBaseUrl(fe),ye=fe):(Se.isRelative(j)&&(j=Se.resolve(j,window.location.href)),Ve=Se.parseBaseUrl(j)),_e!="No Content")if(ce===null&&(ce=function(Re){var xe=null;return Re.indexOf("SmoothStreamingMedia")>-1?(de&&(xe=de.createMssParser(),de.registerEvents()),xe):Re.indexOf("MPD")>-1||Re.indexOf("Patch")>-1?Object(Vu.a)(G).create({debug:ue}):xe}(be)),ce!==null){Y.setMatchers(ce.getMatchers()),Y.setIron(ce.getIron());try{Ce=ce.parse(be)}catch{return void re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new A.a(N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(j))})}Ce?(Ce.url=ye||j,Ce.originalUrl||(Ce.originalUrl=Ce.url),Ce.hasOwnProperty(l.a.LOCATION)&&(Ve=Se.parseBaseUrl(Ce.Location_asArray[0]),C.debug("BaseURI set by Location to: "+Ve)),Ce.baseUri=Ve,Ce.loadedTime=new Date,Y.resolveManifestOnLoad(Ce),re.trigger(c.a.ORIGINAL_MANIFEST_LOADED,{originalManifest:be})):re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new A.a(N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(j))})}else re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new A.a(N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,N.a.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(j))});else re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(be,_e,fe){re.trigger(c.a.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new A.a(N.a.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,N.a.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(j,", ").concat(fe))})}})},reset:function(){re.off(c.a.XLINK_READY,he,R),de&&de.reset(),Y&&(Y.reset(),Y=null),k&&(k.abort(),k=null)}},C=ue.getLogger(R),re.on(c.a.XLINK_READY,he,R),k=Object(yr.a)(G).create({errHandler:O.errHandler,dashMetrics:O.dashMetrics,mediaPlayerModel:O.mediaPlayerModel,requestModifier:O.requestModifier,urlUtils:Se,constants:l.a,dashConstants:f.a,errors:N.a}),Y=ps(G).create({errHandler:se,dashMetrics:O.dashMetrics,mediaPlayerModel:O.mediaPlayerModel,requestModifier:O.requestModifier,settings:O.settings}),ce=null,R}Ao.__dashjs_factory_name="ManifestLoader";var ms=p.a.getClassFactory(Ao);function gs(){var O=this.context,R=Object(m.a)(O).getInstance();return{error:function(C){R.trigger(c.a.ERROR,{error:C})}}}gs.__dashjs_factory_name="ErrorHandler";var Og=p.a.getSingletonFactory(gs),x0=i(50);function F0(){var O,R,C,k,Y,ce,G=this.context,ue=Object(m.a)(G).getInstance();function re(Se,de){if(!de||!de.Period_asArray||de.Period_asArray.length===0)return Promise.resolve();var se=[];return de.Period_asArray.forEach(function(he){se.push(function(j,Pe){return new Promise(function(be){if(j&&j.AdaptationSet_asArray&&j.AdaptationSet_asArray.length!==0){var _e=[];j.AdaptationSet_asArray.forEach(function(fe){R.getIsTypeOf(fe,Pe)&&_e.push(function(ye,Ve){return new Promise(function(Ce){if(ye.Representation_asArray&&ye.Representation_asArray.length!==0){var Re=[],xe=[];ye.Representation_asArray.forEach(function(Qe,B){var z=R.getCodec(ye,B,!1),ne=function(W,ge,Ae){switch(W){case l.a.VIDEO:return function(we,Ze){var et=we.width||null,gt=we.height||null,st=we.frameRate||null,ft=we.bandwidth||null;return{codec:Ze,width:et,height:gt,framerate:st,bitrate:ft}}(ge,Ae);case l.a.AUDIO:return function(we,Ze){var et=we.audioSamplingRate||null,gt=we.bandwidth||null;return{codec:Ze,bitrate:gt,samplerate:et}}(ge,Ae);default:return null}}(Ve,Qe,z);xe.push(ne),Re.push(C.supportsCodec(ne,Ve))}),Promise.all(Re).then(function(Qe){ye.Representation_asArray=ye.Representation_asArray.filter(function(B,z){return Qe[z]||ce.debug("[Stream] Codec ".concat(xe[z].codec," not supported ")),Qe[z]}),Ce()}).catch(function(){Ce()})}else Ce()})}(fe,Pe))}),Promise.all(_e).then(function(){j.AdaptationSet_asArray=j.AdaptationSet_asArray.filter(function(fe){var ye=fe.Representation_asArray&&fe.Representation_asArray.length>0;return ye||(ue.trigger(c.a.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:fe}),ce.warn("AdaptationSet has been removed because of no supported Representation")),ye}),be()}).catch(function(){be()})}else be()})}(he,Se))}),Promise.all(se)}return O={setConfig:function(Se){Se&&(Se.adapter&&(R=Se.adapter),Se.capabilities&&(C=Se.capabilities),Se.settings&&(k=Se.settings),Se.customParametersModel&&(Y=Se.customParametersModel))},filterUnsupportedFeatures:function(Se){return new Promise(function(de){var se=[];se.push(re(l.a.VIDEO,Se)),se.push(re(l.a.AUDIO,Se)),Promise.all(se).then(function(){k.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(he){!he||!he.Period_asArray||he.Period_asArray.length===0||he.Period_asArray.forEach(function(j){j.AdaptationSet_asArray=j.AdaptationSet_asArray.filter(function(Pe){return!Pe.Representation_asArray||Pe.Representation_asArray.length===0||(Pe.Representation_asArray=Pe.Representation_asArray.filter(function(be){var _e=R.getEssentialPropertiesForRepresentation(be);if(_e&&_e.length>0)for(var fe=0;fe<_e.length;){if(!C.supportsEssentialProperty(_e[fe]))return ce.debug("[Stream] EssentialProperty not supported: "+_e[fe].schemeIdUri),!1;fe+=1}return!0}),Pe.Representation_asArray&&Pe.Representation_asArray.length>0)})})}(Se),function(he){var j=Y.getCustomCapabilitiesFilters();!j||j.length===0||!he||!he.Period_asArray||he.Period_asArray.length===0||he.Period_asArray.forEach(function(Pe){Pe.AdaptationSet_asArray=Pe.AdaptationSet_asArray.filter(function(be){return!be.Representation_asArray||be.Representation_asArray.length===0||(be.Representation_asArray=be.Representation_asArray.filter(function(_e){return!j.some(function(fe){return!fe(_e)})}),be.Representation_asArray&&be.Representation_asArray.length>0)})})}(Se),de()}).catch(function(){de()})})}},ce=Object(T.a)(G).getInstance().getLogger(O),O}F0.__dashjs_factory_name="CapabilitiesFilter";var Dg=p.a.getSingletonFactory(F0),Pg=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function k0(){var O;return{initialize:function(R){if(O=new Pg,!R)return null;var C=R.indexOf("#");if(C!==-1)for(var k=R.substr(C+1).split("&"),Y=0,ce=k.length;Y<ce;++Y){var G=k[Y],ue=G.indexOf("=");if(ue!==-1){var re=G.substring(0,ue);O.hasOwnProperty(re)&&(O[re]=G.substr(ue+1))}}},getURIFragmentData:function(){return O}}}k0.__dashjs_factory_name="URIFragmentModel";var Lg=p.a.getSingletonFactory(k0);function U0(){var O,R=this.context,C=Object(m.a)(R).getInstance();return{getValue:function(){return O},setValue:function(k){O=k,k&&C.trigger(c.a.MANIFEST_LOADED,{data:k})}}}U0.__dashjs_factory_name="ManifestModel";var xg=p.a.getSingletonFactory(U0);function B0(){var O,R,C=this.context,k=Object(H.a)(C).getInstance();function Y(){var ce=k.get().streaming.buffer.stableBufferTime>0?k.get().streaming.buffer.stableBufferTime:k.get().streaming.buffer.fastSwitchEnabled?20:12,G=O.getLiveDelay();return!isNaN(G)&&G>0?Math.min(ce,G):ce}return{getCatchupMaxDrift:function(){if(!isNaN(k.get().streaming.liveCatchup.maxDrift)&&k.get().streaming.liveCatchup.maxDrift>0)return k.get().streaming.liveCatchup.maxDrift;var ce=R.getServiceDescriptionSettings();return ce&&ce.liveCatchup&&!isNaN(ce.liveCatchup.maxDrift)&&ce.liveCatchup.maxDrift>0?ce.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return k.get().streaming.liveCatchup.enabled!==null?k.get().streaming.liveCatchup.enabled:O.getInitialCatchupModeActivated()},getLiveCatchupLatencyThreshold:function(){try{var ce=k.get().streaming.liveCatchup.latencyThreshold,G=O.getLiveDelay();return ce===null||isNaN(ce)?NaN:Math.max(ce,G)}catch{return NaN}},getStableBufferTime:Y,getInitialBufferLevel:function(){var ce=k.get().streaming.buffer.initialBufferLevel;return isNaN(ce)||ce<0?0:Math.min(Y(),ce)},getRetryAttemptsForType:function(ce){var G=isNaN(k.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:k.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return O.getLowLatencyModeEnabled()?k.get().streaming.retryAttempts[ce]*G:k.get().streaming.retryAttempts[ce]},getRetryIntervalsForType:function(ce){var G=isNaN(k.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:k.get().streaming.retryIntervals.lowLatencyReductionFactor;return O.getLowLatencyModeEnabled()?k.get().streaming.retryIntervals[ce]/G:k.get().streaming.retryIntervals[ce]},getCatchupPlaybackRate:function(){if(!isNaN(k.get().streaming.liveCatchup.playbackRate)&&k.get().streaming.liveCatchup.playbackRate>0)return k.get().streaming.liveCatchup.playbackRate;var ce=R.getServiceDescriptionSettings();return ce&&ce.liveCatchup&&!isNaN(ce.liveCatchup.playbackRate)&&ce.liveCatchup.playbackRate>0?ce.liveCatchup.playbackRate:.5},getAbrBitrateParameter:function(ce,G){try{var ue=k.get().streaming.abr[ce][G];if(!isNaN(ue)&&ue!==-1)return ue;var re=R.getServiceDescriptionSettings();return re&&re[ce]&&!isNaN(re[ce][G])?re[ce][G]:-1}catch{return-1}},setConfig:function(ce){ce.playbackController&&(O=ce.playbackController),ce.serviceDescriptionController&&(R=ce.serviceDescriptionController)},reset:function(){}}}B0.__dashjs_factory_name="MediaPlayerModel";var Fg=p.a.getSingletonFactory(B0),kg=i(27);function G0(O){var R=(O=O||{}).abrController,C=O.switchHistory,k=O.droppedFramesHistory,Y=O.currentRequest,ce=O.useBufferOccupancyABR,G=O.useL2AABR,ue=O.useLoLPABR,re=O.streamProcessor?O.streamProcessor.getScheduleController():null,Se=O.streamProcessor?O.streamProcessor.getRepresentationInfo():null,de=O.videoModel?O.videoModel:null;function se(){return Se?Se.mediaInfo:null}return{getMediaType:function(){var he=se();return he?he.type:null},getMediaInfo:se,getDroppedFramesHistory:function(){return k},getCurrentRequest:function(){return Y},getSwitchHistory:function(){return C},getStreamInfo:function(){var he=se();return he?he.streamInfo:null},getScheduleController:function(){return re},getAbrController:function(){return R},getRepresentationInfo:function(){return Se},useBufferOccupancyABR:function(){return ce},useL2AABR:function(){return G},useLoLPABR:function(){return ue},getVideoModel:function(){return de}}}G0.__dashjs_factory_name="RulesContext";var j0=p.a.getClassFactory(G0),ys=i(8);function H0(){var O=[],R=[];return{push:function(C){C.newValue===ys.a.NO_CHANGE&&(C.newValue=C.oldValue),O[C.oldValue]||(O[C.oldValue]={noDrops:0,drops:0,dropSize:0});var k=C.newValue-C.oldValue,Y=k<0?1:0,ce=Y?-k:0,G=Y?0:1;if(O[C.oldValue].drops+=Y,O[C.oldValue].dropSize+=ce,O[C.oldValue].noDrops+=G,R.push({idx:C.oldValue,noDrop:G,drop:Y,dropSize:ce}),R.length>8){var ue=R.shift();O[ue.idx].drops-=ue.drop,O[ue.idx].dropSize-=ue.dropSize,O[ue.idx].noDrops-=ue.noDrop}},getSwitchRequests:function(){return O},reset:function(){O=[],R=[]}}}H0.__dashjs_factory_name="SwitchRequestHistory";var Ug=p.a.getClassFactory(H0);function V0(){var O={},R={},C={};return{push:function(k,Y,ce){if(Y){O[k]||(O[k]=[],R[k]=0,C[k]=0);var G=ce&&ce.droppedVideoFrames?ce.droppedVideoFrames:0,ue=ce&&ce.totalVideoFrames?ce.totalVideoFrames:0,re=G-R;R[k]=G;var Se=ue-C;C[k]=ue;var de=O[k];isNaN(Y)||(de[Y]?(de[Y].droppedVideoFrames+=re,de[Y].totalVideoFrames+=Se):de[Y]={droppedVideoFrames:re,totalVideoFrames:Se})}},getFrameHistory:function(k){return O[k]},clearForStream:function(k){try{delete O[k],delete R[k],delete C[k]}catch{}},reset:function(){O={},R={},C={}}}}V0.__dashjs_factory_name="DroppedFramesHistory";var Bg=p.a.getClassFactory(V0);function q0(O){var R,C,k,Y,ce,G=(O=O||{}).settings;function ue(j,Pe,be,_e){var fe=Math.pow(.5,be/_e.fast);j.fastEstimate=(1-fe)*Pe+fe*j.fastEstimate;var ye=Math.pow(.5,be/_e.slow);j.slowEstimate=(1-ye)*Pe+ye*j.slowEstimate,j.totalWeight+=be}function re(j,Pe,be){return G.get().streaming.abr.movingAverageMethod!==l.a.MOVING_AVERAGE_SLIDING_WINDOW?function(_e,fe){var ye=_e?ce.throughputHalfLife:ce.latencyHalfLife,Ve=_e?k[fe]:Y[fe];if(!Ve||Ve.totalWeight<=0)return NaN;var Ce=Ve.fastEstimate/(1-Math.pow(.5,Ve.totalWeight/ye.fast)),Re=Ve.slowEstimate/(1-Math.pow(.5,Ve.totalWeight/ye.slow));return _e?Math.min(Ce,Re):Math.max(Ce,Re)}(j,Pe):function(_e,fe,ye){var Ve=function(Re,xe,Qe){var B,z;if(Re?(B=R[xe],z=Qe?3:4):(B=C[xe],z=4),B){if(z>=B.length)z=B.length;else if(Re)for(var ne=1;ne<z;++ne){var W=B[B.length-ne]/B[B.length-ne-1];if((W>=1.3||W<=.7692307692307692)&&(z+=1)===B.length)break}}else z=0;return z}(_e,fe,ye),Ce=(_e?R:C)[fe];return Ve===0||!Ce||Ce.length===0?NaN:(Ce=Ce.slice(-Ve)).reduce(function(Re,xe){return Re+xe})/Ce.length}(j,Pe,be)}function Se(j,Pe){return re(!0,j,Pe)}function de(j){R[j]=R[j]||[],C[j]=C[j]||[],k[j]=k[j]||{fastEstimate:0,slowEstimate:0,totalWeight:0},Y[j]=Y[j]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function se(){R={},C={},k={},Y={}}var he={push:function(j,Pe,be){if(Pe.trace&&Pe.trace.length){var _e=Pe.tresponse.getTime()-Pe.trequest.getTime()||1,fe=Pe._tfinish.getTime()-Pe.tresponse.getTime()||1,ye=Pe.trace.reduce(function(xe,Qe){return xe+Qe.b[0]},0),Ve=0,Ce=0;if(Pe._fileLoaderType&&Pe._fileLoaderType===l.a.FILE_LOADER_TYPES.FETCH){if(G.get().streaming.abr.fetchThroughputCalculationMode===l.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING){var Re=Pe.trace.reduce(function(xe,Qe){return xe+Qe._t},0);Ce=Math.round(Re/Pe.trace.length)}Ce===0&&(Ve=Pe.trace.reduce(function(xe,Qe){return xe+Qe.d},0))}else Ve=be?fe:_e+fe;if(Ve!==0&&(Ce=Math.round(8*ye/Ve)),de(j),function(xe,Qe,B){return xe===l.a.VIDEO?B<G.get().streaming.cacheLoadThresholds[l.a.VIDEO]:xe===l.a.AUDIO?B<G.get().streaming.cacheLoadThresholds[l.a.AUDIO]:void 0}(j,0,fe)){if(R[j].length>0&&!R[j].hasCachedEntries)return;R[j].hasCachedEntries=!0}else R[j]&&R[j].hasCachedEntries&&function(xe){delete R[xe],delete C[xe],delete k[xe],delete Y[xe],de(xe)}(j);R[j].push(Ce),R[j].length>20&&R[j].shift(),C[j].push(_e),C[j].length>20&&C[j].shift(),ue(k[j],Ce,.001*fe,ce.throughputHalfLife),ue(Y[j],_e,1,ce.latencyHalfLife)}},getAverageThroughput:Se,getSafeAverageThroughput:function(j,Pe){var be=Se(j,Pe);return isNaN(be)||(be*=G.get().streaming.abr.bandwidthSafetyFactor),be},getAverageLatency:function(j){return re(!1,j)},reset:se};return ce={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},se(),he}q0.__dashjs_factory_name="ThroughputHistory";var Gg=p.a.getClassFactory(q0);function qu(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve,Ce,Re,xe,Qe,B,z,ne=this.context,W=Object(T.a)(ne).getInstance(),ge=Object(m.a)(ne).getInstance();function Ae(){Y={},ce={},ue={},G={},ye={},Re={},xe={},Qe={},Se===void 0&&(Se=!1),Ve&&Ve.reset(),fe=void 0,Ve=void 0,Ce=void 0,clearTimeout(re),re=null}function we(Fe){var Xe=Fe.request.mediaType,rt=Fe.streamId;if(Xe&&rt&&G[rt]&&z.get().streaming.abr.autoSwitchBitrate[Xe]){var lt=G[rt][Xe];if(lt){var yt=j0(ne).create({abrController:O,streamProcessor:lt,currentRequest:Fe.request,useBufferOccupancyABR:Re[Xe],useL2AABR:xe[Xe],useLoLPABR:Qe[Xe],videoModel:j}),mt=C.shouldAbandonFragment(yt,rt);if(mt.quality>ys.a.NO_CHANGE){var ct=lt.getFragmentModel();ct.getRequests({state:w.a.FRAGMENT_MODEL_LOADING,index:Fe.request.index})[0]&&(ct.abortRequests(),ue[rt][Xe].state=d.a.ABANDON_LOAD,ye[rt][Xe].reset(),ye[rt][Xe].push({oldValue:ft(Xe,rt),newValue:mt.quality,confidence:1,reason:mt.reason}),Ye(Xe,k.getActiveStreamInfo(),mt.quality,mt.reason),clearTimeout(re),re=setTimeout(function(){ue[rt][Xe].state=d.a.ALLOW_LOAD,re=null},z.get().streaming.abandonLoadTimeout))}}}}function Ze(Fe){Fe.mediaType===l.a.VIDEO&&(fe!==void 0&&Ve.push(Fe.streamId,fe,j.getPlaybackQuality()),fe=Fe.newQuality)}function et(Fe){var Xe,rt;Fe.metric!==d.a.HTTP_REQUEST||!Fe.value||Fe.value.type!==S.a.MEDIA_SEGMENT_TYPE||Fe.mediaType!==l.a.AUDIO&&Fe.mediaType!==l.a.VIDEO||Ce.push(Fe.mediaType,Fe.value,z.get().streaming.abr.useDeadTimeLatency),Fe.metric!==d.a.BUFFER_LEVEL||Fe.mediaType!==l.a.AUDIO&&Fe.mediaType!==l.a.VIDEO||(Xe=Fe.mediaType,rt=.001*Fe.value.level,z.get().streaming.abr.ABRStrategy===l.a.ABR_STRATEGY_DYNAMIC&&function(lt,yt){try{var mt=Pe.getStableBufferTime(),ct=mt,Ct=.5*mt,Pt=Re[lt],Gt=yt>(Pt?Ct:ct);Re[lt]=Gt,Gt!==Pt&&(Gt?R.info("["+lt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+yt.toFixed(3)+")."):R.info("["+lt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+yt.toFixed(3)+")."))}catch(Yt){R.error(Yt)}}(Xe,rt))}function gt(Fe,Xe){try{return Y[Xe]=Y[Xe]||{},Y[Xe].hasOwnProperty(Fe)||(Y[Xe][Fe]=0),function(rt,lt,yt){if(lt!==l.a.VIDEO||!z.get().streaming.abr.limitBitrateByPortal||!G[yt]||!G[yt][lt])return rt;Se||pt();var mt=G[yt][lt].getStreamInfo(),ct=he.getAdaptationForType(mt.index,lt,mt).Representation,Ct=rt;if(de>0&&se>0){for(;Ct>0&&ct[Ct]&&de<ct[Ct].width&&de-ct[Ct-1].width<ct[Ct].width-de;)Ct-=1;for(;Ct<ct.length-1&&ct[Ct].width===ct[Ct+1].width;)Ct+=1}return Ct}(function(rt,lt,yt){var mt=Y[yt][lt],ct=z.get().streaming.abr.maxRepresentationRatio[lt];return isNaN(ct)||ct>=1||ct<0?rt:Math.min(rt,Math.round(mt*ct))}(function(rt,lt){var yt=Y[lt][rt],mt=yt;if(!G[lt]||!G[lt][rt])return mt;var ct=st(rt,lt);ct!==void 0&&(mt=Math.max(yt,ct));var Ct=function(Pt,Gt){try{var Yt=Pe.getAbrBitrateParameter("maxBitrate",Pt);return Yt>-1?nt(G[Gt][Pt].getMediaInfo(),Yt,Gt):void 0}catch{return}}(rt,lt);return Ct!==void 0&&(mt=Math.min(mt,Ct)),mt}(Fe,Xe),Fe,Xe),Fe,Xe)}catch{return}}function st(Fe,Xe){try{return function(rt,lt){try{var yt=Pe.getAbrBitrateParameter("minBitrate",rt);if(yt>-1){var mt=G[lt][rt].getMediaInfo(),ct=it(mt),Ct=nt(mt,yt,lt);return ct[Ct]&&Ct<ct.length-1&&ct[Ct].bitrate<1e3*yt&&Ct++,Ct}return}catch{return}}(Fe,Xe)}catch{return}}function ft(Fe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return Xe||(Xe=k.getActiveStreamInfo().id),Fe&&G[Xe]&&G[Xe][Fe]&&Xe?(ce[Xe]=ce[Xe]||{},ce[Xe].hasOwnProperty(Fe)||(ce[Xe][Fe]=0),ce[Xe][Fe]):0}catch{return 0}}function Ye(Fe,Xe,rt){var lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Xe&&Xe.id&&Fe){var yt=Xe.id,mt=ft(Fe,yt);Object(ve.a)(rt);var ct=gt(Fe,yt);rt!==mt&&rt>=0&&rt<=ct&&Oe(Fe,mt,rt,ct,lt,yt)}}function Oe(Fe,Xe,rt,lt,yt,mt){if(Fe&&G[mt]&&G[mt][Fe]){var ct=G[mt][Fe].getStreamInfo(),Ct=ct&&ct.manifestInfo&&ct.manifestInfo.isDynamic,Pt=B.getCurrentBufferLevel(Fe);R.info("Stream ID: "+mt+" ["+Fe+"] switch from "+Xe+" to "+rt+"/"+lt+" (buffer: "+Pt+") "+(yt?JSON.stringify(yt):".")),ce[mt]=ce[mt]||{},ce[mt][Fe]=rt;var Gt=function(Ht,Bt,Vt){if(Bt&&G&&G[Ht]&&G[Ht][Bt]){var dn=it(G[Ht][Bt].getMediaInfo());return dn[Vt]?dn[Vt]:null}return null}(mt,Fe,rt);ge.trigger(c.a.QUALITY_CHANGE_REQUESTED,{oldQuality:Xe,newQuality:rt,reason:yt,streamInfo:ct,bitrateInfo:Gt,maxIdx:lt,mediaType:Fe},{streamId:ct.id,mediaType:Fe});var Yt=Ce.getAverageThroughput(Fe,Ct);isNaN(Yt)||_e.setSavedBitrateSettings(Fe,Yt)}}function nt(Fe,Xe,rt){var lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,yt=Fe&&Fe.type?G[rt][Fe.type].getRepresentationInfo():null;if(z.get().streaming.abr.useDeadTimeLatency&&lt&&yt&&yt.fragmentDuration){lt/=1e3;var mt=yt.fragmentDuration;if(lt>mt)return 0;var ct=lt/mt;Xe*=1-ct}for(var Ct=it(Fe),Pt=Ct.length-1;Pt>=0;Pt--){var Gt=Ct[Pt];if(1e3*Xe>=Gt.bitrate)return Pt}return 0}function it(Fe){var Xe=[];if(!Fe||!Fe.bitrateList)return Xe;for(var rt,lt=Fe.bitrateList,yt=Fe.type,mt=0,ct=lt.length;mt<ct;mt++)(rt=new I).mediaType=yt,rt.qualityIndex=mt,rt.bitrate=lt[mt].bandwidth,rt.width=lt[mt].width,rt.height=lt[mt].height,rt.scanType=lt[mt].scanType,Xe.push(rt);return Xe}function pt(){if(j){var Fe=z.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;de=j.getClientWidth()*Fe,se=j.getClientHeight()*Fe}}return O={initialize:function(){Ve=Bg(ne).create(),Ce=Gg(ne).create({settings:z}),(C=Object(kg.a)(ne).create({dashMetrics:B,customParametersModel:be,mediaPlayerModel:Pe,settings:z})).initialize(),ge.on(g.a.QUALITY_CHANGE_RENDERED,Ze,O),ge.on(g.a.METRIC_ADDED,et,O),ge.on(c.a.LOADING_PROGRESS,we,O)},isPlayingAtTopQuality:function(Fe){var Xe=Fe?Fe.id:null,rt=ft(l.a.AUDIO,Xe),lt=ft(l.a.VIDEO,Xe);return rt===gt(l.a.AUDIO,Xe)&&lt===gt(l.a.VIDEO,Xe)},updateTopQualityIndex:function(Fe){var Xe=Fe.type,rt=Fe.streamInfo.id,lt=Fe.representationCount-1;return Y[rt]=Y[rt]||{},Y[rt][Xe]=lt,lt},clearDataForStream:function(Fe){Ve&&Ve.clearForStream(Fe),G[Fe]&&delete G[Fe],ye[Fe]&&delete ye[Fe],ue[Fe]&&delete ue[Fe]},getThroughputHistory:function(){return Ce},getBitrateList:it,getQualityForBitrate:nt,getTopBitrateInfoFor:function(Fe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Xe||(Xe=k.getActiveStreamInfo().id),Fe&&G&&G[Xe]&&G[Xe][Fe]){var rt=gt(Fe,Xe),lt=it(G[Xe][Fe].getMediaInfo());return lt[rt]?lt[rt]:null}return null},getMinAllowedIndexFor:st,getMaxAllowedIndexFor:gt,getInitialBitrateFor:function(Fe,Xe){if(function(){if(!_e||!_e.hasOwnProperty("getSavedBitrateSettings"))throw new Error(l.a.MISSING_CONFIG_ERROR)}(),Fe===l.a.TEXT)return NaN;var rt=_e.getSavedBitrateSettings(Fe),lt=Pe.getAbrBitrateParameter("initialBitrate",Fe),yt=z.get().streaming.abr.initialRepresentationRatio[Fe];if(lt===-1)if(yt>-1){var mt=G[Xe][Fe].getStreamInfo(),ct=he.getAdaptationForType(mt.index,Fe,mt).Representation;Array.isArray(ct)?lt=ct[Math.max(Math.round(ct.length*yt)-1,0)].bandwidth/1e3:lt=0}else lt=isNaN(rt)?Fe===l.a.VIDEO?1e3:100:rt;return lt},getQualityFor:ft,getAbandonmentStateFor:function(Fe,Xe){return ue[Fe]&&ue[Fe][Xe]?ue[Fe][Xe].state:null},setPlaybackQuality:Ye,checkPlaybackQuality:function(Fe,Xe){try{if(!(Fe&&G&&G[Xe]&&G[Xe][Fe]))return!1;if(Ve){var rt=j.getPlaybackQuality();rt&&Ve.push(Xe,fe,rt)}if(!z.get().streaming.abr.autoSwitchBitrate[Fe])return!1;var lt=ft(Fe,Xe),yt=j0(ne).create({abrController:O,switchHistory:ye[Xe][Fe],droppedFramesHistory:Ve,streamProcessor:G[Xe][Fe],currentValue:lt,useBufferOccupancyABR:Re[Fe],useL2AABR:xe[Fe],useLoLPABR:Qe[Fe],videoModel:j}),mt=st(Fe,Xe),ct=gt(Fe,Xe),Ct=C.getMaxQuality(yt),Pt=Ct.quality;return mt!==void 0&&(Pt>ys.a.NO_CHANGE?Pt:lt)<mt&&(Pt=mt),Pt>ct&&(Pt=ct),ye[Xe][Fe].push({oldValue:lt,newValue:Pt}),Pt>ys.a.NO_CHANGE&&Pt!==lt&&(ue[Xe][Fe].state===d.a.ALLOW_LOAD||Pt>lt)&&(Oe(Fe,lt,Pt,ct,Ct.reason,Xe),!0)}catch{return!1}},setElementSize:pt,setWindowResizeEventCalled:function(Fe){Se=Fe},registerStreamType:function(Fe,Xe){var rt=Xe.getStreamInfo().id;G[rt]||(G[rt]={}),ye[rt]||(ye[rt]={}),ue[rt]||(ue[rt]={}),ye[rt][Fe]=Ug(ne).create(),G[rt][Fe]=Xe,ue[rt][Fe]={},ue[rt][Fe].state=d.a.ALLOW_LOAD,function(lt){var yt=z.get().streaming.abr.ABRStrategy;yt===l.a.ABR_STRATEGY_L2A?(Re[lt]=!1,Qe[lt]=!1,xe[lt]=!0):yt===l.a.ABR_STRATEGY_LoLP?(Re[lt]=!1,Qe[lt]=!0,xe[lt]=!1):yt===l.a.ABR_STRATEGY_BOLA?(Re[lt]=!0,Qe[lt]=!1,xe[lt]=!1):yt===l.a.ABR_STRATEGY_THROUGHPUT?(Re[lt]=!1,Qe[lt]=!1,xe[lt]=!1):yt===l.a.ABR_STRATEGY_DYNAMIC&&(Re[lt]=!(!Re||!Re[lt])&&Re[lt],Qe[lt]=!1,xe[lt]=!1)}(Fe),Fe===l.a.VIDEO&&pt()},unRegisterStreamType:function(Fe,Xe){try{G[Fe]&&G[Fe][Xe]&&delete G[Fe][Xe],ye[Fe]&&ye[Fe][Xe]&&delete ye[Fe][Xe],ue[Fe]&&ue[Fe][Xe]&&delete ue[Fe][Xe]}catch{}},setConfig:function(Fe){Fe&&(Fe.streamController&&(k=Fe.streamController),Fe.domStorage&&(_e=Fe.domStorage),Fe.mediaPlayerModel&&(Pe=Fe.mediaPlayerModel),Fe.customParametersModel&&(be=Fe.customParametersModel),Fe.dashMetrics&&(B=Fe.dashMetrics),Fe.adapter&&(he=Fe.adapter),Fe.videoModel&&(j=Fe.videoModel),Fe.settings&&(z=Fe.settings))},reset:function(){Ae(),ge.off(c.a.LOADING_PROGRESS,we,O),ge.off(g.a.QUALITY_CHANGE_RENDERED,Ze,O),ge.off(g.a.METRIC_ADDED,et,O),C&&C.reset()}},R=W.getLogger(O),Ae(),O}qu.__dashjs_factory_name="AbrController";var Yu=p.a.getSingletonFactory(qu);Yu.QUALITY_DEFAULT=0,p.a.updateSingletonFactory(qu.__dashjs_factory_name,Yu);var jg=Yu,Hg=i(46),Vg=new Map([[l.a.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[l.a.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[l.a.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[l.a.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Y0(){var O,R,C,k,Y,ce=this.context,G=Object(m.a)(ce).getInstance(),ue=[];function re(){C&&(C.playbackRate=1,C.removeEventListener("canplay",re))}function Se(){return ue.length>0}function de(){if(C&&Se()&&C.playbackRate===0){var fe=document.createEvent("Event");fe.initEvent("waiting",!0,!1),C.dispatchEvent(fe)}}function se(fe,ye){C&&C.addEventListener(fe,ye)}function he(fe,ye){C&&C.removeEventListener(fe,ye)}function j(){return C?C.readyState:NaN}function Pe(){return C?C.buffered:null}function be(fe,ye,Ve,Ce,Re){if(C){for(var xe=0;xe<C.textTracks.length;xe++)if(C.textTracks[xe].kind===fe&&(!ye||C.textTracks[xe].label==ye)&&C.textTracks[xe].language===Ve&&C.textTracks[xe].isTTML===Ce&&C.textTracks[xe].isEmbedded===Re)return C.textTracks[xe]}return null}function _e(fe,ye){fe===l.a.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||j()>=fe?ye():function(Ve,Ce){se(Ve,function Re(){he(Ve,Re),Ce(Ve)})}(Vg.get(fe),ye)}return O={initialize:function(){G.on(c.a.PLAYBACK_PLAYING,de,this)},setCurrentTime:function(fe,ye){k=fe,_e(l.a.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(C){if(C.currentTime===k)return void(k=NaN);try{k=ye?function(Ve){var Ce=Pe(),Re=Ve,xe=9999999999;if(Ce)for(var Qe=0;Qe<Ce.length;Qe++){var B=Ce.start(Qe),z=Ce.end(Qe),ne=Math.abs(B-Ve),W=Math.abs(z-Ve);if(Ve>=B&&Ve<=z)return Ve;ne<xe&&(xe=ne,Re=B),W<xe&&(xe=W,Re=z)}return Re}(k):k,C.currentTime=k,k=NaN}catch(Ve){C.readyState===0&&Ve.code===Ve.INVALID_STATE_ERR&&setTimeout(function(){C.currentTime=k,k=NaN},400)}}})},play:function(){if(C){C.autoplay=!0;var fe=C.play();fe&&fe.catch&&typeof Promise<"u"&&fe.catch(function(ye){ye.name==="NotAllowedError"&&G.trigger(c.a.PLAYBACK_NOT_ALLOWED),R.warn("Caught pending play exception - continuing (".concat(ye,")"))})}},isPaused:function(){return C?C.paused:null},pause:function(){C&&(C.pause(),C.autoplay=!1)},isStalled:Se,isSeeking:function(){return C?C.seeking||!isNaN(k):null},getTime:function(){return C?isNaN(k)?C.currentTime:k:null},getPlaybackRate:function(){return C?C.playbackRate:null},setPlaybackRate:function(fe){var ye=arguments.length>1&&arguments[1]!==void 0&&arguments[1];C&&(!ye&&C.readyState<=2&&fe>0?C.addEventListener("canplay",re):C.playbackRate=fe)},getPlayedRanges:function(){return C?C.played:null},getEnded:function(){return C?C.ended:null},setStallState:function(fe,ye){(function(Ve,Ce){Ce?function(Re){Re===null||!C||C.seeking||ue.indexOf(Re)!==-1||ue.push(Re)}(Ve):function(Re){var xe=ue.indexOf(Re);Re!==null&&xe!==-1&&ue.splice(xe,1)}(Ve)})(fe,ye)},getElement:function(){return C},setElement:function(fe){if(!(fe==null||fe&&/^(VIDEO|AUDIO)$/i.test(fe.nodeName)))throw"element is not video or audio DOM type!";(C=fe)&&(C.preload="auto")},setSource:function(fe){C&&(fe?C.src=fe:(C.removeAttribute("src"),C.load()))},getSource:function(){return C?C.src:null},getTTMLRenderingDiv:function(){return Y},setTTMLRenderingDiv:function(fe){(Y=fe).style.position="absolute",Y.style.display="flex",Y.style.overflow="hidden",Y.style.pointerEvents="none",Y.style.top=0,Y.style.left=0},getPlaybackQuality:function(){if(!C)return null;var fe="webkitDroppedFrameCount"in C&&"webkitDecodedFrameCount"in C,ye=null;return"getVideoPlaybackQuality"in C?ye=C.getVideoPlaybackQuality():fe&&(ye={droppedVideoFrames:C.webkitDroppedFrameCount,totalVideoFrames:C.webkitDroppedFrameCount+C.webkitDecodedFrameCount,creationTime:new Date}),ye},addEventListener:se,removeEventListener:he,getReadyState:j,getBufferRange:Pe,getClientWidth:function(){return C?C.clientWidth:NaN},getClientHeight:function(){return C?C.clientHeight:NaN},getTextTracks:function(){return C?C.textTracks:[]},getTextTrack:be,addTextTrack:function(fe,ye,Ve,Ce,Re){if(!C)return null;var xe=be(fe,ye,Ve,Ce,Re);return xe||((xe=C.addTextTrack(fe,ye,Ve)).isEmbedded=Re,xe.isTTML=Ce),xe},appendChild:function(fe){C&&(C.appendChild(fe),fe.isTTML!==void 0&&(C.textTracks[C.textTracks.length-1].isTTML=fe.isTTML,C.textTracks[C.textTracks.length-1].isEmbedded=fe.isEmbedded))},removeChild:function(fe){C&&C.removeChild(fe)},getVideoWidth:function(){return C?C.videoWidth:NaN},getVideoHeight:function(){return C?C.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var fe=C.parentNode.host||C.parentNode;return fe?C.getBoundingClientRect().top-fe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){var fe=C.parentNode.host||C.parentNode;return fe?C.getBoundingClientRect().left-fe.getBoundingClientRect().left:NaN},waitForReadyState:_e,reset:function(){G.off(c.a.PLAYBACK_PLAYING,de,this)}},R=Object(T.a)(ce).getInstance().getLogger(O),k=NaN,O}Y0.__dashjs_factory_name="VideoModel";var qg=p.a.getSingletonFactory(Y0),Yg=i(42),$g=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];function $0(O){O=O||{};var R,C,k,Y=this.context,ce=O.settings;function G(de){if(k!==void 0)return k;k=!1;var se;try{typeof window<"u"&&(se=window[de])}catch(he){return C.warn("DOMStorage access denied: "+he.message),k}if(!se||de!=="localStorage"&&de!=="sessionStorage")return k;try{se.setItem("1","1"),se.removeItem("1"),k=!0}catch(he){C.warn("DOMStorage is supported, but cannot be used: "+he.message)}return k}function ue(){return 6e5*Math.round(new Date().getTime()/6e5)}function re(de,se){return G(de)&&ce.get().streaming[se+"CachingInfo"].enabled}function Se(){if(!ce)throw new Error(l.a.MISSING_CONFIG_ERROR)}return R={getSavedBitrateSettings:function(de){var se=NaN;if(Se(),re("localStorage","lastBitrate")){var he="dashjs_?_bitrate".replace(/\?/,de);try{var j=JSON.parse(localStorage.getItem(he))||{},Pe=new Date().getTime()-parseInt(j.timestamp,10)>=ce.get().streaming.lastBitrateCachingInfo.ttl||!1,be=parseFloat(j.bitrate);isNaN(be)||Pe?Pe&&localStorage.removeItem(he):(se=be,C.debug("Last saved bitrate for "+de+" was "+be))}catch{return null}}return se},setSavedBitrateSettings:function(de,se){if(re("localStorage","lastBitrate")&&se){var he="dashjs_?_bitrate".replace(/\?/,de);try{localStorage.setItem(he,JSON.stringify({bitrate:se.toFixed(3),timestamp:ue()}))}catch(j){C.error(j.message)}}},getSavedMediaSettings:function(de){var se=null;if(Se(),re("localStorage","lastMediaSettings")){var he="dashjs_?_settings".replace(/\?/,de);try{var j=JSON.parse(localStorage.getItem(he))||{},Pe=new Date().getTime()-parseInt(j.timestamp,10)>=ce.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;se=j.settings,Pe&&(localStorage.removeItem(he),se=null)}catch{return null}}return se},setSavedMediaSettings:function(de,se){if(re("localStorage","lastMediaSettings")){var he="dashjs_?_settings".replace(/\?/,de);try{localStorage.setItem(he,JSON.stringify({settings:se,timestamp:ue()}))}catch(j){C.error(j.message)}}}},C=Object(T.a)(Y).getInstance().getLogger(R),G("localStorage")&&$g.forEach(function(de){var se=localStorage.getItem(de.oldKey);if(se){localStorage.removeItem(de.oldKey);try{localStorage.setItem(de.newKey,se)}catch(he){C.error(he.message)}}}),R}$0.__dashjs_factory_name="DOMStorage";var Wg=p.a.getSingletonFactory($0),zg=i(55),W0=i(32);function z0(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j=this.context;function Pe(_e,fe,ye){ye({segments:_e,representation:fe,error:_e?void 0:new A.a(re.SEGMENT_BASE_LOADER_ERROR_CODE,re.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function be(_e){if(_e.url){var fe=new Hr.a;return fe.setInfo(_e),fe}}return O={setConfig:function(_e){_e.baseURLController&&(he=_e.baseURLController),_e.dashMetrics&&(ce=_e.dashMetrics),_e.mediaPlayerModel&&(G=_e.mediaPlayerModel),_e.errHandler&&(C=_e.errHandler),_e.boxParser&&(k=_e.boxParser),_e.debug&&(R=_e.debug.getLogger(O)),_e.requestModifier&&(Y=_e.requestModifier),_e.errors&&(re=_e.errors),_e.urlUtils&&(se=_e.urlUtils),_e.constants&&(Se=_e.constants),_e.dashConstants&&(de=_e.dashConstants)},initialize:function(){ue=Object(yr.a)(j).create({errHandler:C,dashMetrics:ce,mediaPlayerModel:G,requestModifier:Y,boxParser:k,errors:re,urlUtils:se,constants:Se,dashConstants:de})},loadInitialization:function(_e,fe){return new Promise(function(ye){(function Ve(Ce,Re,xe,Qe){var B=null,z=Ce?he.resolve(Ce.path):null,ne=Qe||{init:!0,url:z?z.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Re};R.debug("Start searching for initialization.");var W=be(ne),ge=function(Ae){if(ne.bytesLoaded=ne.range.end,!(B=k.findInitRange(Ae)))return ne.range.end=ne.bytesLoaded+ne.bytesToLoad,Ve(Ce,Re,xe,ne);Ce.range=B,xe(Ce)};ue.load({request:W,success:ge,error:function(){xe(Ce)}}),R.debug("Perform init search: "+ne.url)})(_e,fe,ye)})},loadSegments:function(_e,fe,ye){return new Promise(function(Ve){(function Ce(Re,xe,Qe,B,z,ne){if(Qe&&(Qe.start===void 0||Qe.end===void 0)){var W=Qe?Qe.toString().split("-"):null;Qe=W?{start:parseFloat(W[0]),end:parseFloat(W[1])}:null}z=z||Pe;var ge=null,Ae=null,we=!!Qe,Ze=Re?he.resolve(Re.path):null,et={init:!1,url:Ze?Ze.url:void 0,range:we?Qe:{start:0,end:1500},searching:!we,bytesLoaded:ne?ne.bytesLoaded:0,bytesToLoad:1500,mediaType:xe},gt=be(et),st=function(ft){var Ye=et.bytesToLoad,Oe=ft.byteLength;if(et.bytesLoaded=et.range.end-et.range.start,ge=k.parse(ft),(Ae=ge.getBox("sidx"))&&Ae.isComplete){var nt,it,pt=Ae.references;if(pt!=null&&pt.length>0&&(nt=pt[0].reference_type===1),nt){var Fe,Xe,rt,lt;R.debug("Initiate multiple SIDX load."),et.range.end=et.range.start+Ae.size;var yt=[],mt=0,ct=(Ae.offset||et.range.start)+Ae.size,Ct=function(Gt){Gt?(yt=yt.concat(Gt),++mt>=Xe&&(yt.sort(function(Yt,Ht){return Yt.startTime-Ht.startTime<0?-1:0}),z(yt,Re,B))):z(null,Re,B)};for(Fe=0,Xe=pt.length;Fe<Xe;Fe++)rt=ct,lt=ct+pt[Fe].referenced_size-1,ct+=pt[Fe].referenced_size,Ce(Re,xe,{start:rt,end:lt},B,Ct,et)}else R.debug("Parsing segments from SIDX. representation "+xe+" - id: "+Re.id+" for range : "+et.range.start+" - "+et.range.end),it=function(Gt,Yt){for(var Ht,Bt,Vt,dn,ln=Gt.references,hn=ln.length,On=Gt.timescale,pn=Gt.earliest_presentation_time,Zt=Yt.range.start+Gt.offset+Gt.first_offset+Gt.size,Tn=[],qe=0;qe<hn;qe++)Vt=ln[qe].subsegment_duration,dn=ln[qe].referenced_size,(Ht=new W0.a).duration=Vt,Ht.startTime=pn,Ht.timescale=On,Bt=Zt+dn-1,Ht.mediaRange=Zt+"-"+Bt,Tn.push(Ht),pn+=Vt,Zt+=dn;return Tn}(Ae,et),z(it,Re,B)}else{if(Ae)et.range.start=Ae.offset||et.range.start,et.range.end=et.range.start+(Ae.size||Ye);else{if(Oe<et.bytesLoaded)return void z(null,Re,B);var Pt=ge.getLastBox();Pt&&Pt.size?(et.range.start=Pt.offset+Pt.size,et.range.end=et.range.start+Ye):et.range.end+=Ye}Ce(Re,xe,et.range,B,null,et)}};ue.load({request:gt,success:st,error:function(){z(null,Re,B)}}),R.debug("Perform SIDX load for type ".concat(xe," : ").concat(et.url," with range ").concat(et.range.start," - ").concat(et.range.end))})(_e,fe,ye,Ve)})},reset:function(){ue&&(ue.abort(),ue=null)}}}z0.__dashjs_factory_name="SegmentBaseLoader";var Kg=p.a.getSingletonFactory(z0);function K0(O){var R;O=O||{};var C=new DataView(O.data),k=0;function Y(G,ue){var re=!0,Se=0;if(ue===void 0&&(ue=!1),G.tag>16777215?(C.getUint32(k)!==G.tag&&(re=!1),Se=4):G.tag>65535?(256*C.getUint16(k)+C.getUint8(k+2)!==G.tag&&(re=!1),Se=3):G.tag>255?(C.getUint16(k)!==G.tag&&(re=!1),Se=2):(C.getUint8(k)!==G.tag&&(re=!1),Se=1),!re&&G.required&&!ue)throw new Error("required tag not found");return re&&(k+=Se),re}function ce(G){var ue=1,re=128,Se=-1,de=0,se=C.getUint8(k),he=0;for(he=0;he<8;he+=1){if((se&re)===re){de=G===void 0?se&~re:se,Se=he;break}re>>=1}for(he=0;he<Se;he+=1,ue+=1)de=de<<8|255&C.getUint8(k+ue);return k+=ue,de}return R={getPos:function(){return k},setPos:function(G){k=G},consumeTag:Y,consumeTagAndSize:function(G,ue){var re=Y(G,ue);return re&&ce(),re},parseTag:function(G){var ue;return Y(G),ue=ce(),R[G.parse](ue)},skipOverElement:function(G,ue){var re,Se=Y(G,ue);return Se&&(re=ce(),k+=re),Se},getMatroskaCodedNum:ce,getMatroskaFloat:function(G){var ue;switch(G){case 4:ue=C.getFloat32(k),k+=4;break;case 8:ue=C.getFloat64(k),k+=8}return ue},getMatroskaUint:function(G){for(var ue=0,re=0;re<G;re+=1)ue<<=8,ue|=255&C.getUint8(k+re);return k+=G,ue},moreData:function(){return k<C.byteLength}}}K0.__dashjs_factory_name="EBMLParser";var X0=p.a.getClassFactory(K0);function Q0(){var O,R,C,k,Y,ce,G,ue,re,Se,de=this.context;function se(j,Pe,be,_e){var fe,ye,Ve,Ce,Re,xe,Qe,B;for(Ve=[],Re=0,xe=(ye=function(z){var ne,W,ge=[],Ae=X0(de).create({data:z});for(Ae.consumeTagAndSize(C.Segment.Cues);Ae.moreData()&&Ae.consumeTagAndSize(C.Segment.Cues.CuePoint,!0);){for((ne={}).CueTime=Ae.parseTag(C.Segment.Cues.CuePoint.CueTime),ne.CueTracks=[];Ae.moreData()&&Ae.consumeTag(C.Segment.Cues.CuePoint.CueTrackPositions,!0);){var we=Ae.getMatroskaCodedNum(),Ze=Ae.getPos();if((W={}).Track=Ae.parseTag(C.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),W.Track===0)throw new Error("Cue track cannot be 0");W.ClusterPosition=Ae.parseTag(C.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ne.CueTracks.push(W),Ae.setPos(Ze+we)}if(ne.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");ge.push(ne)}if(ge.length===0)throw new Error("mandatory cuepoint not found");return ge}(j)).length;Re<xe;Re+=1)Ce=new W0.a,fe=0,fe=Re<ye.length-1?ye[Re+1].CueTime-ye[Re].CueTime:_e-ye[Re].CueTime,Ce.duration=fe,Ce.startTime=ye[Re].CueTime,Ce.timescale=1e3,Qe=ye[Re].CueTracks[0].ClusterPosition+Pe,B=Re<ye.length-1?ye[Re+1].CueTracks[0].ClusterPosition+Pe-1:be-1,Ce.mediaRange=Qe+"-"+B,Ve.push(Ce);return R.debug("Parsed cues: "+Ve.length+" cues."),Ve}function he(j){var Pe=new Hr.a;return Pe.setInfo(j),Pe}return O={setConfig:function(j){if(!(j.baseURLController&&j.dashMetrics&&j.mediaPlayerModel&&j.errHandler))throw new Error(l.a.MISSING_CONFIG_ERROR);Se=j.baseURLController,ce=j.dashMetrics,G=j.mediaPlayerModel,k=j.errHandler,re=j.errors,R=j.debug.getLogger(O),Y=j.requestModifier},initialize:function(){ue=Object(yr.a)(de).create({errHandler:k,dashMetrics:ce,mediaPlayerModel:G,requestModifier:Y,errors:re})},loadInitialization:function(j,Pe){return new Promise(function(be){var _e=null,fe=j?Se.resolve(j.path):null,ye=j?j.range.split("-"):null,Ve={range:{start:ye?parseFloat(ye[0]):null,end:ye?parseFloat(ye[1]):null},request:_e,url:fe?fe.url:void 0,init:!0,mediaType:Pe};R.info("Start loading initialization."),_e=he(Ve),ue.load({request:_e,success:function(){be(j)},error:function(){be(j)}}),R.debug("Perform init load: "+Ve.url)})},loadSegments:function(j,Pe,be){return new Promise(function(_e){var fe=null,ye=j?Se.resolve(j.path):null,Ve=ye?ye.url:void 0;fe=he({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:fe,url:Ve,init:!1,mediaType:Pe}),R.debug("Parsing ebml header"),ue.load({request:fe,success:function(Ce){(function(Re,xe,Qe,B){if(Re&&Re.byteLength!==0){var z,ne,W,ge,Ae=X0(de).create({data:Re}),we=Qe?Qe.split("-"):null,Ze=null,et={url:xe,range:{start:we?parseFloat(we[0]):null,end:we?parseFloat(we[1]):null},request:Ze};for(R.debug("Parse EBML header: "+et.url),Ae.skipOverElement(C.EBML),Ae.consumeTag(C.Segment),W=Ae.getMatroskaCodedNum(),W+=Ae.getPos(),ge=Ae.getPos();Ae.moreData()&&!Ae.consumeTagAndSize(C.Segment.Info,!0);)if(!(Ae.skipOverElement(C.Segment.SeekHead,!0)||Ae.skipOverElement(C.Segment.Tracks,!0)||Ae.skipOverElement(C.Segment.Cues,!0)||Ae.skipOverElement(C.Void,!0)))throw new Error("no valid top level element found");for(;z===void 0;){var gt=Ae.getMatroskaCodedNum(!0),st=Ae.getMatroskaCodedNum();switch(gt){case C.Segment.Info.Duration.tag:z=Ae[C.Segment.Info.Duration.parse](st);break;default:Ae.setPos(Ae.getPos()+st)}}Ze=he(et),ue.load({request:Ze,success:function(ft){ne=se(ft,ge,W,z),B(ne)},error:function(){R.error("Download Error: Cues "+et.url),B(null)}}),R.debug("Perform cues load: "+et.url+" bytes="+et.range.start+"-"+et.range.end)}else B(null)})(Ce,Ve,be,function(Re){_e({segments:Re,representation:j,error:Re?void 0:new A.a(re.SEGMENT_BASE_LOADER_ERROR_CODE,re.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){_e({representation:j,error:new A.a(re.SEGMENT_BASE_LOADER_ERROR_CODE,re.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){ue&&(ue.abort(),ue=null)}},C={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},O}Q0.__dashjs_factory_name="WebmSegmentBaseLoader";var Xg=p.a.getSingletonFactory(Q0);function Z0(O){O=O||{};var R,C,k,Y=this.context,ce=O.eventBus,G=O.events,ue=O.dashMetrics,re=O.mediaPlayerModel,Se=O.errHandler,de=O.baseURLController,se=O.debug,he=O.boxParser,j=O.requestModifier,Pe=O.errors;function be(_e){return(_e?_e.split("/")[1]:"").toLowerCase()==="webm"}return R={initialize:function(){C.initialize(),k.initialize()},getSegmentBaseInitSegment:function(_e){return be(_e.representation.mimeType)?k.loadInitialization(_e.representation,_e.mediaType):C.loadInitialization(_e.representation,_e.mediaType)},getSegmentList:function(_e){return be(_e.mimeType)?k.loadSegments(_e.representation,_e.mediaType,_e.representation?_e.representation.indexRange:null):C.loadSegments(_e.representation,_e.mediaType,_e.representation?_e.representation.indexRange:null)},reset:function(){C.reset(),k.reset()}},C=Kg(Y).getInstance(),k=Xg(Y).getInstance(),C.setConfig({baseURLController:de,dashMetrics:ue,mediaPlayerModel:re,errHandler:Se,eventBus:ce,events:G,errors:Pe,debug:se,boxParser:he,requestModifier:j}),k.setConfig({baseURLController:de,dashMetrics:ue,mediaPlayerModel:re,errHandler:Se,eventBus:ce,events:G,errors:Pe,debug:se,requestModifier:j}),R}Z0.__dashjs_factory_name="SegmentBaseController";var Qg=p.a.getSingletonFactory(Z0),J0=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},$u=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1},ef=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},Zg=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},Jg=i(43),tf=i(33);function ey(O,R){for(var C=0;C<R.length;C++){var k=R[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}var ty=function(){function O(k){var Y=this;(function(ce,G){if(!(ce instanceof G))throw new TypeError("Cannot call a class as a function")})(this,O),this.valid=k[0]=="/",this.path=k.split("/").filter(function(ce){return ce.length!==0}).map(function(ce){var G={name:ce},ue=ce.indexOf("[");if(ue!=-1){G.name=ce.substring(0,ue);var re=ce.substring(ue+1,ce.length-1);Y.valid=Y.valid&&re.indexOf("[")==-1;var Se=re.indexOf("=");Se!=-1?(G.attribute={name:re.substring(1,Se),value:re.substring(Se+1)},["'",'"'].indexOf(G.attribute.value[0])!=-1&&(G.attribute.value=G.attribute.value.substring(1,G.attribute.value.length-1))):G.position=parseInt(re,10)-1}return G})}var R,C;return R=O,(C=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(k,Y){for(var ce=null,G=k,ue=1,re="MPD";ue<this.path.length&&G!==null;){ce=G;var Se=this.path[ue];if(re=Se.name,ue!==this.path.length-1||!re.startsWith("@")){var de=ce[re+"_asArray"]||[];de.length===0&&ce[re]&&de.push(ce[re]),Se.position?G=de[Se.position]||null:Se.attribute?function(){var se=Se.attribute;G=de.filter(function(he){return he[se.name]==se.value})[0]||null}():G=de[0]||null}ue++}return G===null?null:re.startsWith("@")?{name:re.substring(1),leaf:G,target:G}:{name:re,leaf:G,target:Y?ce:G}}}])&&ey(R.prototype,C),O}();function ny(O,R){for(var C=0;C<R.length;C++){var k=R[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}var ry=function(){function O(k,Y,ce){(function(G,ue){if(!(G instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,O),this.action=k,this.xpath=Y,this.value=ce,this.position=null}var R,C;return R=O,(C=[{key:"getMpdTarget",value:function(k){var Y=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(k,Y)}}])&&ny(R.prototype,C),O}();function nf(){var O,R,C=this.context;return O={getIsPatch:function(k){return k&&k.hasOwnProperty(f.a.ORIGINAL_MPD_ID)||!1},getPublishTime:function(k){return k&&k.hasOwnProperty(f.a.PUBLISH_TIME)?new Date(k[f.a.PUBLISH_TIME]):null},getOriginalPublishTime:function(k){return k&&k.hasOwnProperty(f.a.ORIGINAL_PUBLISH_TIME)?new Date(k[f.a.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(k){return k&&k[f.a.ORIGINAL_MPD_ID]||null},getPatchOperations:function(k){return k?(k.__children||[]).map(function(Y){var ce=Object.keys(Y)[0];if(ce!=="add"&&ce!=="remove"&&ce!=="replace")return R.warn("Ignoring node of invalid action: ".concat(ce)),null;var G=Y[ce],ue=G.sel;if(ce==="add"&&G.type){if(!G.type.startsWith("@"))return R.warn("Ignoring add action for prefixed namespace declaration: ".concat(G.type,"=").concat(G.__text)),null;ue="".concat(ue,"/").concat(G.type)}var re=new ty(ue);if(!re.isValid())return R.warn("Ignoring action with invalid selector: ".concat(ce," - ").concat(ue)),null;var Se=null;re.findsAttribute()?Se=G.__text||"":ce!=="remove"&&(Se=G.__children.reduce(function(se,he){var j=Object.keys(he)[0];return j!=="#text"&&(se[j]=se[j]||[],se[j].push(he[j])),se},{}));var de=new ry(ce,re,Se);return ce==="add"&&(de.position=G.pos),de}).filter(function(Y){return!!Y}):[]}},R=Object(T.a)(C).getInstance().getLogger(O),O}nf.__dashjs_factory_name="PatchManifestModel";var iy=p.a.getSingletonFactory(nf);function rf(){var O,R,C,k,Y,ce,G,ue=this.context;function re(B,z,ne){var W,ge=R.getAdaptationsForType(k[0].mpd.manifest,B,z);if(!ge||ge.length===0)return null;if(ge.length>1&&ne){var Ae=se(ne,z);if(Y[ne.id]&&Y[ne.id][z]){for(var we=0,Ze=ge.length;we<Ze;we++)if(Se(Y[ne.id][z],Ae[we]))return ge[we]}for(var et=0,gt=ge.length;et<gt;et++)if(W=ge[et],R.getRolesForAdaptation(W).filter(function(st){return st.value===f.a.MAIN})[0])return ge[et]}return ge[0]}function Se(B,z){if(!B||!z)return!1;var ne=B.id===z.id,W=B.codec===z.codec,ge=B.viewpoint===z.viewpoint,Ae=B.lang===z.lang,we=B.roles.toString()===z.roles.toString(),Ze=B.accessibility.toString()===z.accessibility.toString(),et=B.audioChannelConfiguration.toString()===z.audioChannelConfiguration.toString();return ne&&W&&ge&&Ae&&we&&Ze&&et}function de(B,z,ne,W,ge,Ae){var we,Ze,et,gt,st,ft,Ye=[];if(!W||W.length===0)return[];var Oe=R.getAdaptationsForPeriod(z);for(gt=0,ft=W.length;gt<ft;gt++)if(we=W[gt],Ze=ye(Oe[et=R.getIndexForAdaptation(we,B,ne.index)]),Ae){var nt=Ze.accessibility.length;for(st=0;st<nt;st++)if(Ze){var it=Ze.accessibility[st];if(it.indexOf("cea-608:")===0){var pt=it.substring(8).split(";");if(pt[0].substring(0,2)==="CC")for(st=0;st<pt.length;st++)Ze||(Ze=ye.call(this,Oe[et])),Ve(Ze,pt[st].substring(0,3),pt[st].substring(4)),Ye.push(Ze),Ze=null;else for(st=0;st<pt.length;st++)Ze||(Ze=ye.call(this,Oe[et])),Ve(Ze,"CC"+(st+1),pt[st]),Ye.push(Ze),Ze=null}else it.indexOf("cea-608")===0&&(Ve(Ze,ce.CC1,"eng"),Ye.push(Ze),Ze=null)}}else ge===ce.IMAGE?(Ze.type=ce.IMAGE,Ye.push(Ze),Ze=null):Ze&&Ye.push(Ze);return Ye}function se(B,z,ne){var W=k,ge=ne,Ae=[];if(ge)Re(),W=he(ge);else{if(!(k.length>0))return Ae;ge=k[0].mpd.manifest}var we=fe(B,W),Ze=R.getAdaptationsForType(ge,B?B.index:null,z);return Ae=de(ge,we,B,Ze,z),z===ce.TEXT&&(Ze=R.getAdaptationsForType(ge,B?B.index:null,ce.VIDEO),Ae=Ae.concat(de(ge,we,B,Ze,z,!0))),Ae}function he(B){var z=j(B);return R.getRegularPeriods(z)}function j(B){var z=be(B);return R.getMpd(z)}function Pe(){k=[],Y={}}function be(B){return B||(k.length>0?k[0].mpd.manifest:null)}function _e(B){try{var z=fe(B.streamInfo,k),ne=R.getAdaptationsForPeriod(z);return B&&B.streamInfo&&B.streamInfo.id!==void 0&&ne?ne[B.index]:null}catch{return null}}function fe(B,z){for(var ne=z.length,W=0;W<ne;W++){var ge=z[W];if(B&&B.id===ge.id)return ge}return null}function ye(B){if(!B)return null;var z,ne=new $u,W=B.period.mpd.manifest.Period_asArray[B.period.index].AdaptationSet_asArray[B.index];if(ne.id=B.id,ne.index=B.index,ne.type=B.type,ne.streamInfo=Ce(B.period),ne.representationCount=R.getRepresentationCount(W),ne.labels=R.getLabelsForAdaptation(W),ne.lang=R.getLanguageForAdaptation(W),z=R.getViewpointForAdaptation(W),ne.viewpoint=z?z.value:void 0,ne.accessibility=R.getAccessibilityForAdaptation(W).map(function(we){var Ze=we.value,et=Ze;return we.schemeIdUri&&we.schemeIdUri.search("cea-608")>=0&&G!==void 0&&(et=Ze?"cea-608:"+Ze:"cea-608",ne.embeddedCaptions=!0),et}),ne.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(W).map(function(we){return we.value}),ne.audioChannelConfiguration.length===0&&Array.isArray(W.Representation_asArray)&&W.Representation_asArray.length>0&&(ne.audioChannelConfiguration=R.getAudioChannelConfigurationForRepresentation(W.Representation_asArray[0]).map(function(we){return we.value})),ne.roles=R.getRolesForAdaptation(W).map(function(we){return we.value}),ne.codec=R.getCodec(W),ne.mimeType=R.getMimeType(W),ne.contentProtection=R.getContentProtectionData(W),ne.bitrateList=R.getBitrateListForAdaptation(W),ne.selectionPriority=R.getSelectionPriority(W),ne.contentProtection){var ge=ne.contentProtection.map(function(we){return R.getKID(we)}).filter(function(we){return we!==null});if(ge.length){var Ae=ge[0];ne.contentProtection.forEach(function(we){we.keyId=Ae})}}return ne.isText=R.getIsText(W),ne.supplementalProperties=R.getSupplementalProperties(W),ne.isFragmented=R.getIsFragmented(W),ne.isEmbedded=!1,ne}function Ve(B,z,ne){B.id=z,B.index=100+parseInt(z.substring(2,3)),B.type=ce.TEXT,B.codec="cea-608-in-SEI",B.isEmbedded=!0,B.isFragmented=!1,B.lang=ne,B.roles=["caption"]}function Ce(B){var z,ne,W=new ef;return W.id=B.id,W.index=B.index,W.start=B.start,W.duration=B.duration,W.manifestInfo=(z=B.mpd,(ne=new Zg).dvrWindowSize=z.timeShiftBufferDepth,ne.loadedTime=z.manifest.loadedTime,ne.availableFrom=z.availabilityStartTime,ne.minBufferTime=z.manifest.minBufferTime,ne.maxFragmentDuration=z.maxSegmentDuration,ne.duration=R.getDuration(z.manifest),ne.isDynamic=R.getIsDynamic(z.manifest),ne.serviceDescriptions=R.getServiceDescriptions(z.manifest),ne.protocol=z.manifest.protocol,ne),W.isLast=B.mpd.manifest.Period_asArray.length===1||Math.abs(W.start+W.duration-W.manifestInfo.duration)<1,W}function Re(){if(!ce)throw new Error("setConfig function has to be called previously")}function xe(B){return k.length>0?k[0].mpd.manifest.Period_asArray[B]:null}function Qe(B,z,ne){var W,ge,Ae,we,Ze;if(B){for(W=B.AdaptationSet_asArray,we=0;we<W.length;we+=1)for(Ae=W[we].Representation_asArray,Ze=0;Ze<Ae.length;Ze+=1)if(z===(ge=Ae[Ze]).id)return ne?Ze:ge}return null}return O={getBandwidthForRepresentation:function(B,z){var ne;return(ne=Qe(xe(z),B))?ne.bandwidth:null},getIndexForRepresentation:function(B,z){return function(ne,W){var ge=Qe(ne,W,!0);return ge!==null?ge:-1}(xe(z),B)},getMaxIndexForBufferType:function(B,z){return function(ne,W){var ge,Ae,we,Ze;if(!ne||!W)return-1;for(Ae=ne.AdaptationSet_asArray,Ze=0;Ze<Ae.length;Ze+=1)if(ge=Ae[Ze],we=ge.Representation_asArray,R.getIsTypeOf(ge,W))return we.length;return-1}(xe(z),B)},convertRepresentationToRepresentationInfo:function(B){if(B){var z=new J0,ne=B.adaptation.period.mpd.manifest.Period_asArray[B.adaptation.period.index].AdaptationSet_asArray[B.adaptation.index],W=R.getRepresentationFor(B.index,ne);return z.id=B.id,z.quality=B.index,z.bandwidth=R.getBandwidth(W),z.fragmentDuration=B.segmentDuration||(B.segments&&B.segments.length>0?B.segments[0].duration:NaN),z.MSETimeOffset=B.MSETimeOffset,z.mediaInfo=ye(B.adaptation),z}return null},getStreamsInfo:function(B,z){var ne=[],W=k;if(B&&(Re(),W=he(B)),W.length>0){(!z||z>W.length)&&(z=W.length);for(var ge=0;ge<z;ge++)ne.push(Ce(W[ge]))}return ne},getMediaInfoForType:function(B,z){if(k.length===0||!B)return null;var ne=fe(B,k);if(!ne)return null;var W=R.getAdaptationsForPeriod(ne),ge=re(B.index,z,B);return ge?ye(W[R.getIndexForAdaptation(ge,k[0].mpd.manifest,B.index)]):null},getAllMediaInfoForType:se,getAdaptationForType:re,getRealAdaptation:function(B,z){var ne,W,ge=fe(B,k);return ne=z?z.id:null,k.length>0&&ge&&(W=ne?R.getAdaptationForId(ne,k[0].mpd.manifest,ge.index):R.getAdaptationForIndex(z?z.index:null,k[0].mpd.manifest,ge.index)),W},getProducerReferenceTimes:function(B,z){var ne,W,ge=fe(B,k);return ne=z?z.id:null,k.length>0&&ge&&(W=ne?R.getAdaptationForId(ne,k[0].mpd.manifest,ge.index):R.getAdaptationForIndex(z?z.index:null,k[0].mpd.manifest,ge.index)),W?R.getProducerReferenceTimesForAdaptation(W):[]},getRealPeriodByIndex:function(B){return R.getRealPeriodForIndex(B,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(B){try{return R.getEssentialPropertiesForRepresentation(B)}catch{return[]}},getVoRepresentations:function(B){var z=_e(B);return R.getRepresentationsForAdaptation(z)},getEventsFor:function(B,z){var ne=[];if(k.length>0){var W=k[0].mpd.manifest;B instanceof ef?ne=R.getEventsForPeriod(fe(B,k)):B instanceof $u?ne=R.getEventStreamForAdaptationSet(W,_e(B)):B instanceof J0&&(ne=R.getEventStreamForRepresentation(W,z))}return ne},getEvent:function(B,z,ne,W){try{if(!B||!z||isNaN(ne)||!W)return null;var ge=B.scheme_id_uri,Ae=B.value;if(!z[ge+"/"+Ae])return null;var we,Ze=new Jg.a,et=B.timescale||1,gt=W.adaptation.period.start,st=z[ge+"/"+Ae],ft=isNaN(W.presentationTimeOffset)?isNaN(st.presentationTimeOffset)?0:st.presentationTimeOffset:W.presentationTimeOffset,Ye=B.presentation_time_delta/et;we=B.version===0?gt+ne-ft+Ye:gt-ft+Ye;var Oe=B.event_duration,nt=B.id,it=B.message_data;return Ze.eventStream=st,Ze.eventStream.value=Ae,Ze.eventStream.timescale=et,Ze.duration=Oe,Ze.id=nt,Ze.calculatedPresentationTime=we,Ze.messageData=it,Ze.presentationTimeDelta=Ye,Ze}catch{return null}},getMpd:j,setConfig:function(B){B&&(B.constants&&(ce=B.constants),B.cea608parser&&(G=B.cea608parser),B.errHandler&&R.setConfig({errHandler:B.errHandler}),B.BASE64&&R.setConfig({BASE64:B.BASE64}))},updatePeriods:function(B){if(!B)return null;Re(),k=he(B)},getIsTextTrack:function(B){return R.getIsText(B)},getUTCTimingSources:function(){var B=be();return R.getUTCTimingSources(B)},getSuggestedPresentationDelay:function(){var B=k.length>0?k[0].mpd:null;return R.getSuggestedPresentationDelay(B)},getAvailabilityStartTime:function(B){var z=j(B);return R.getAvailabilityStartTime(z)},getIsTypeOf:function(B,z){return R.getIsTypeOf(B,z)},getIsDynamic:function(B){var z=be(B);return R.getIsDynamic(z)},getDuration:function(B){var z=be(B);return R.getDuration(z)},getRegularPeriods:he,getLocation:function(B){return R.getLocation(B)},getPatchLocation:function(B){var z=R.getPatchLocation(B),ne=R.getPublishTime(B);if(!z||!ne)return null;if(z.hasOwnProperty("ttl")&&ne){var W=1e3*parseFloat(z.ttl);if(ne.getTime()+W<=new Date().getTime())return null}return z.__text},getManifestUpdatePeriod:function(B){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return R.getManifestUpdatePeriod(B,z)},getPublishTime:function(B){return R.getPublishTime(B)},getIsDVB:function(B){return R.hasProfile(B,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(B){return C.getIsPatch(B)},getBaseURLsFromElement:function(B){return R.getBaseURLsFromElement(B)},getRepresentationSortFunction:function(){return R.getRepresentationSortFunction()},getCodec:function(B,z,ne){return R.getCodec(B,z,ne)},getPeriodById:function(B){if(!B||k.length===0)return null;var z=k.filter(function(ne){return ne.id===B});return z&&z.length>0?z[0]:null},setCurrentMediaInfo:function(B,z,ne){Y[B]=Y[B]||{},Y[B][z]=Y[B][z]||{},Y[B][z]=ne},isPatchValid:function(B,z){var ne=R.getId(B),W=C.getMpdId(z),ge=R.getPublishTime(B),Ae=C.getPublishTime(z),we=C.getOriginalPublishTime(z);return!!(ne&&W&&ne==W&&ge&&we&&ge.getTime()==we.getTime()&&Ae&&ge.getTime()<Ae.getTime())},applyPatchToManifest:function(B,z){C.getPatchOperations(z).forEach(function(ne){var W=ne.getMpdTarget(B);if(W!==null){var ge=W.name,Ae=W.target,we=W.leaf;if(ne.xpath.findsAttribute())switch(ne.action){case"add":case"replace":Ae[ge]=ne.value;break;case"remove":delete Ae[ge]}else{var Ze=(Ae[ge+"_asArray"]||[]).indexOf(we),et=ne.position==="prepend"||ne.position==="before";if((ne.action==="remove"||ne.action==="replace")&&(delete Ae[ge],Ze!=-1)){var gt=Ae[ge+"_asArray"];gt.splice(Ze,1),gt.length>1?Ae[ge]=gt:gt.length==1?Ae[ge]=gt[0]:delete Ae[ge+"_asArray"]}ne.action!=="add"&&ne.action!=="replace"||Object.keys(ne.value).forEach(function(st){var ft=ne.value[st],Ye=Ae[st+"_asArray"]||[];if(Ye.length===0&&Ae[st]&&Ye.push(Ae[st]),Ye.length===0)Ye=ft;else{var Oe=Ye.length;Oe=st==ge&&Ze!=-1?Ze+(et?0:1)+(ne.action=="replace"?-1:0):et?0:Ye.length,Ye.splice.apply(Ye,[Oe,0].concat(ft))}Ae[st+"_asArray"]=Ye,Ae[st]=Ye.length==1?Ye[0]:Ye})}}})},areMediaInfosEqual:Se,reset:Pe},R=Object(tf.a)(ue).getInstance(),C=iy(ue).getInstance(),Pe(),O}rf.__dashjs_factory_name="DashAdapter";var ay=p.a.getSingletonFactory(rf);function af(O,R){for(var C=0;C<R.length;C++){var k=R[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}var oy=function(){function O(){(function(Y,ce){if(!(Y instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,O)}var R,C,k;return R=O,k=[{key:"round10",value:function(Y,ce){return function(G,ue,re){return re===void 0||+re==0?Math[G](ue):(re=+re,(ue=+ue)===null||isNaN(ue)||typeof re!="number"||re%1!=0?NaN:(ue=ue.toString().split("e"),+((ue=(ue=Math[G](+(ue[0]+"e"+(ue[1]?+ue[1]-re:-re)))).toString().split("e"))[0]+"e"+(ue[1]?+ue[1]+re:re))))}("round",Y,ce)}}],(C=null)&&af(R.prototype,C),k&&af(R,k),O}(),sy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},uy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.t=null,this.mt=null,this.to=null,this.lto=null},ly=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.t=null,this.level=null},cy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.target=null,this.state=d.a.BUFFER_EMPTY},fy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.time=null,this.range=null,this.manifestInfo=null},dy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.time=null,this.droppedFrames=null};function Wu(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}var hy=function O(){Wu(this,O),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},py=function O(){Wu(this,O),this.id=null,this.index=null,this.start=null,this.duration=null},my=function O(){Wu(this,O),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},gy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},yy=function O(){(function(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O),this.loadingRequests=[],this.executedRequests=[]};function of(O){var R,C,k=(O=O||{}).settings,Y=this.context,ce=Object(m.a)(Y).getInstance();function G(){ce.trigger(c.a.METRICS_CHANGED)}function ue(j){ce.trigger(c.a.METRIC_CHANGED,{mediaType:j}),G()}function re(j,Pe,be){ce.trigger(c.a.METRIC_UPDATED,{mediaType:j,metric:Pe,value:be}),ue(j)}function Se(j,Pe,be){ce.trigger(c.a.METRIC_ADDED,{mediaType:j,metric:Pe,value:be}),ue(j)}function de(j,Pe){var be=null;return j&&(C.hasOwnProperty(j)?be=C[j]:Pe||(be=new sy,C[j]=be)),be}function se(j,Pe,be){var _e=de(j);_e!==null&&(_e[Pe].push(be),_e[Pe].length>k.get().streaming.metrics.maxListDepth&&_e[Pe].shift())}function he(j,Pe,be){se(j,Pe,be),Se(j,Pe,be)}return R={clearCurrentMetricsForType:function(j){delete C[j],ue(j)},clearAllCurrentMetrics:function(){C={},G()},getMetricsFor:de,addHttpRequest:function j(Pe,be,_e,fe,ye,Ve,Ce,Re,xe,Qe,B,z,ne,W,ge,Ae){var we=new S.a;Ve&&Ve!==fe&&(j(Pe,null,_e,fe,ye,null,null,Re,xe,null,null,null,ne,null,null,Ae),we.actualurl=Ve),we.tcpid=be,we.type=_e,we.url=fe,we.range=Re,we.trequest=xe,we.tresponse=Qe,we.responsecode=z,we._tfinish=B,we._stream=Pe,we._mediaduration=ne,we._quality=ye,we._responseHeaders=W,we._serviceLocation=Ce,we._fileLoaderType=Ae,ge?ge.forEach(function(Ze){(function(et,gt,st,ft,Ye){var Oe=new S.b;Oe.s=gt,Oe.d=st,Oe.b=ft,Oe._t=Ye,et.trace.push(Oe),et.interval||(et.interval=0),et.interval+=st})(we,Ze.s,Ze.d,Ze.b,Ze.t)}):(delete we.interval,delete we.trace),he(Pe,d.a.HTTP_REQUEST,we)},addRepresentationSwitch:function(j,Pe,be,_e,fe){var ye=new uy;ye.t=Pe,ye.mt=be,ye.to=_e,fe?ye.lto=fe:delete ye.lto,he(j,d.a.TRACK_SWITCH,ye)},addBufferLevel:function(j,Pe,be){var _e=new ly;_e.t=Pe,_e.level=be,he(j,d.a.BUFFER_LEVEL,_e)},addBufferState:function(j,Pe,be){var _e=new cy;_e.target=be,_e.state=Pe,he(j,d.a.BUFFER_STATE,_e)},addDVRInfo:function(j,Pe,be,_e){var fe=new fy;fe.time=Pe,fe.range=_e,fe.manifestInfo=be,he(j,d.a.DVR_INFO,fe)},addDroppedFrames:function(j,Pe){var be=new dy,_e=de(j).DroppedFrames;Pe&&(be.time=Pe.creationTime,be.droppedFrames=Pe.droppedVideoFrames,_e.length>0&&_e[_e.length-1]==be||he(j,d.a.DROPPED_FRAMES,be))},addSchedulingInfo:function(j,Pe,be,_e,fe,ye,Ve,Ce,Re){var xe=new gy;xe.mediaType=j,xe.t=Pe,xe.type=be,xe.startTime=_e,xe.availabilityStartTime=fe,xe.duration=ye,xe.quality=Ve,xe.range=Ce,xe.state=Re,he(j,d.a.SCHEDULING_INFO,xe)},addRequestsQueue:function(j,Pe,be){var _e=new yy;_e.loadingRequests=Pe,_e.executedRequests=be,de(j).RequestsQueue=_e,Se(j,d.a.REQUESTS_QUEUE,_e)},addManifestUpdate:function(j,Pe,be,_e,fe,ye,Ve,Ce,Re,xe){var Qe=new hy;Qe.mediaType=j,Qe.type=Pe,Qe.requestTime=be,Qe.fetchTime=_e,Qe.availabilityStartTime=fe,Qe.presentationStartTime=ye,Qe.clientTimeOffset=Ve,Qe.currentTime=Ce,Qe.buffered=Re,Qe.latency=xe,se(l.a.STREAM,d.a.MANIFEST_UPDATE,Qe),Se(j,d.a.MANIFEST_UPDATE,Qe)},updateManifestUpdateInfo:function(j,Pe){if(j){for(var be in Pe)j[be]=Pe[be];re(j.mediaType,d.a.MANIFEST_UPDATE,j)}},addManifestUpdateStreamInfo:function(j,Pe,be,_e,fe){if(j){var ye=new py;ye.id=Pe,ye.index=be,ye.start=_e,ye.duration=fe,j.streamInfo.push(ye),re(j.mediaType,d.a.MANIFEST_UPDATE_STREAM_INFO,j)}},addManifestUpdateRepresentationInfo:function(j,Pe,be,_e,fe,ye,Ve,Ce){if(j&&j.representationInfo){var Re=new my;Re.id=Pe,Re.index=be,Re.streamIndex=_e,Re.mediaType=fe,Re.startNumber=Ve,Re.fragmentInfoType=Ce,Re.presentationTimeOffset=ye,j.representationInfo.push(Re),re(j.mediaType,d.a.MANIFEST_UPDATE_TRACK_INFO,j)}},addPlayList:function(j){j.trace&&Array.isArray(j.trace)?j.trace.forEach(function(Pe){Pe.hasOwnProperty("subreplevel")&&!Pe.subreplevel&&delete Pe.subreplevel}):delete j.trace,he(l.a.STREAM,d.a.PLAY_LIST,j)},addDVBErrors:function(j){he(l.a.STREAM,d.a.DVB_ERRORS,j)}},C={},R}of.__dashjs_factory_name="MetricsModel";var _y=p.a.getSingletonFactory(of),sf=i(15);function uf(O){O=O||{};var R,C,k,Y,ce=this.context,G=O.metricsModel;function ue(de){var se=G.getMetricsFor(de,!0);if(!se)return null;var he,j=se.HttpList,Pe=null;if(!j||j.length<=0)return null;for(he=j.length-1;he>=0;){if(j[he].responsecode){Pe=j[he];break}he--}return Pe}function re(de){var se=G.getMetricsFor(de,!0);return se&&se.HttpList?se.HttpList:[]}function Se(de,se){if(!de)return null;var he=de[se];return he&&he.length!==0?he[he.length-1]:null}return R={getCurrentRepresentationSwitch:function(de){return Se(G.getMetricsFor(de,!0),d.a.TRACK_SWITCH)},getCurrentBufferState:function(de){return Se(G.getMetricsFor(de,!0),d.a.BUFFER_STATE)},getCurrentBufferLevel:function(de){var se=Se(G.getMetricsFor(de,!0),d.a.BUFFER_LEVEL);return se?oy.round10(se.level/1e3,-3):0},getCurrentHttpRequest:ue,getHttpRequests:re,getCurrentDroppedFrames:function(){return Se(G.getMetricsFor(l.a.VIDEO,!0),d.a.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(de){return Se(G.getMetricsFor(de,!0),d.a.SCHEDULING_INFO)},getCurrentDVRInfo:function(de){return Se(de?G.getMetricsFor(de,!0):G.getMetricsFor(l.a.VIDEO,!0)||G.getMetricsFor(l.a.AUDIO,!0),d.a.DVR_INFO)},getCurrentManifestUpdate:function(){return Se(G.getMetricsFor(l.a.STREAM),d.a.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(de,se){if(!se)return null;var he={},j=ue(de);j&&(he=sf.a.parseHttpHeaders(j._responseHeaders));var Pe=he[se.toLowerCase()];return Pe===void 0?null:Pe},getLatestMPDRequestHeaderValueByID:function(de){if(!de)return null;var se,he,j,Pe={};for(j=(se=re(l.a.STREAM)).length-1;j>=0;j--)if((he=se[j]).type===S.a.MPD_TYPE){Pe=sf.a.parseHttpHeaders(he._responseHeaders);break}var be=Pe[de.toLowerCase()];return be===void 0?null:be},addRepresentationSwitch:function(de,se,he,j,Pe){G.addRepresentationSwitch(de,se,he,j,Pe)},addDVRInfo:function(de,se,he,j){G.addDVRInfo(de,se,he,j)},updateManifestUpdateInfo:function(de){var se=this.getCurrentManifestUpdate();G.updateManifestUpdateInfo(se,de)},addManifestUpdateStreamInfo:function(de){if(de){var se=this.getCurrentManifestUpdate();G.addManifestUpdateStreamInfo(se,de.id,de.index,de.start,de.duration)}},addManifestUpdateRepresentationInfo:function(de,se){if(de){var he=this.getCurrentManifestUpdate();G.addManifestUpdateRepresentationInfo(he,de.id,de.index,de.streamIndex,se,de.presentationTimeOffset,de.startNumber,de.fragmentInfoType)}},addManifestUpdate:function(de){G.addManifestUpdate(l.a.STREAM,de.type,de.requestStartDate,de.requestEndDate)},addHttpRequest:function(de,se,he,j,Pe){G.addHttpRequest(de.mediaType,null,de.type,de.url,de.quality,se,de.serviceLocation||null,de.range||null,de.requestStartDate,de.firstByteDate,de.requestEndDate,he,de.duration,j,Pe,de.fileLoaderType)},addSchedulingInfo:function(de,se){G.addSchedulingInfo(de.mediaType,new Date,de.type,de.startTime,de.availabilityStartTime,de.duration,de.quality,de.range,se)},addRequestsQueue:function(de,se,he){G.addRequestsQueue(de,se,he)},addBufferLevel:function(de,se,he){G.addBufferLevel(de,se,he)},addBufferState:function(de,se,he){G.addBufferState(de,se,he)},addDroppedFrames:function(de){G.addDroppedFrames(l.a.VIDEO,de)},addPlayList:function(){Y&&(G.addPlayList(Y),Y=null)},addDVBErrors:function(de){G.addDVBErrors(de)},createPlaylistMetrics:function(de,se){(Y=new Ue).start=new Date,Y.mstart=de,Y.starttype=se},createPlaylistTraceMetrics:function(de,se,he){C===!0&&(C=!1,(k=new $e).representationid=de,k.start=new Date,k.mstart=se,k.playbackspeed=he!==null?he.toString():null)},updatePlayListTraceMetrics:function(de){if(k)for(var se in k)k[se]=de[se]},pushPlayListTraceMetrics:function(de,se){if(C===!1&&Y&&k&&k.start){var he=k.start,j=de.getTime()-he.getTime();k.duration=j,k.stopreason=se,Y.trace.push(k),C=!0}},clearAllCurrentMetrics:function(){G.clearAllCurrentMetrics()}},G=G||_y(ce).getInstance({settings:O.settings}),C=!0,k=null,Y=null,R}uf.__dashjs_factory_name="DashMetrics";var Ty=p.a.getSingletonFactory(uf);function lf(){var O,R,C,k,Y=this.context,ce=Object(m.a)(Y).getInstance(),G=Object(H.a)(Y).getInstance();function ue(fe){k=fe}function re(fe,ye,Ve,Ce){var Re,xe=ye.adaptation.period.mpd,Qe=xe.availabilityStartTime;if(Ce)Re=Ve&&xe.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Qe.getTime()+1e3*(fe+xe.timeShiftBufferDepth)):xe.availabilityEndTime;else if(Ve){var B=ye.availabilityTimeOffset;Re=new Date(Qe.getTime()+1e3*(fe-B))}else Re=Qe;return Re}function Se(fe,ye){return(fe.getTime()-ye.mpd.availabilityStartTime.getTime()+1e3*k)/1e3}function de(fe,ye){return fe+(ye.adaptation.period.start-ye.presentationTimeOffset)}function se(fe){var ye={start:NaN,end:NaN},Ve=fe[0].getAdapter().getRegularPeriods()[0],Ce=Se(new Date,Ve);if(!fe||fe.length===0)return{range:ye,now:Ce};fe.forEach(function(xe){var Qe=xe.getAdapter(),B=Qe.getMediaInfoForType(xe.getStreamInfo(),l.a.VIDEO)||Qe.getMediaInfoForType(xe.getStreamInfo(),l.a.AUDIO),z=Qe.getVoRepresentations(B)[0],ne={start:NaN,end:NaN};if(z)if(z.segmentInfoType===f.a.SEGMENT_TIMELINE)ne=function(ge){var Ae,we,Ze,et,gt=ge.adaptation.period.mpd.manifest.Period_asArray[ge.adaptation.period.index].AdaptationSet_asArray[ge.adaptation.index],st=R.getRepresentationFor(ge.index,gt),ft=st.SegmentTemplate.SegmentTimeline,Ye=st.SegmentTemplate.timescale,Oe=ft.S_asArray,nt={start:0,end:0},it=0;for(nt.start=de(Oe[0].t/Ye,ge),Ze=0,et=Oe.length;Ze<et;Ze++)Ae=Oe[Ze],we=0,Ae.hasOwnProperty("r")&&(we=Ae.r),it+=Ae.d/Ye*(1+we);return nt.end=nt.start+it,nt}(z);else{var W=z.adaptation.period;ne.start=W.start,ne.end=Math.max(Ce,W.start+W.duration)}!isNaN(ne.start)&&(isNaN(ye.start)||ye.start>ne.start)&&(ye.start=ne.start),!isNaN(ne.end)&&(isNaN(ye.end)||ye.end<ne.end)&&(ye.end=ne.end)}),ye.end=Math.min(Ce,ye.end);var Re=j(fe,ye.end,!0);return ye.end=isNaN(Re)?ye.end:Re,ye.start=Ve&&Ve.mpd&&Ve.mpd.timeShiftBufferDepth&&!isNaN(Ve.mpd.timeShiftBufferDepth)&&!isNaN(ye.end)?Math.max(ye.end-Ve.mpd.timeShiftBufferDepth,ye.start):ye.start,ye.start=j(fe,ye.start),{range:ye,now:Ce}}function he(fe,ye){C=fe-ye.end}function j(fe,ye){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var Ce=0,Re=!1,xe=NaN;!Re&&Ce<fe.length;){var Qe=fe[Ce].getStreamInfo();Qe.start<=ye&&(!isFinite(Qe.duration)||Qe.start+Qe.duration>=ye)?(xe=ye,Re=!0):!Ve&&Qe.start>ye&&(isNaN(xe)||Qe.start<xe)?xe=Qe.start:Ve&&Qe.start+Qe.duration<ye&&(isNaN(xe)||Qe.start+Qe.duration>xe)&&(xe=Qe.start+Qe.duration),Ce+=1}return xe}catch{return ye}}function Pe(fe){fe.offset===void 0||isNaN(fe.offset)||ue(fe.offset/1e3)}function be(){k=0,C=0}function _e(){ce.off(c.a.UPDATE_TIME_SYNC_OFFSET,Pe,this),be()}return O={initialize:function(){be(),ce.on(c.a.UPDATE_TIME_SYNC_OFFSET,Pe,this)},getClientTimeOffset:function(){return k},setClientTimeOffset:ue,getClientReferenceTime:function(){return Date.now()-1e3*C+1e3*k},calcAvailabilityStartTimeFromPresentationTime:function(fe,ye,Ve){return re(fe,ye,Ve)},calcAvailabilityEndTimeFromPresentationTime:function(fe,ye,Ve){return re(fe,ye,Ve,!0)},calcPresentationTimeFromWallTime:Se,calcPresentationTimeFromMediaTime:de,calcPeriodRelativeTimeFromMpdRelativeTime:function(fe,ye){return ye-fe.adaptation.period.start},calcMediaTimeFromPresentationTime:function(fe,ye){return fe-ye.adaptation.period.start+ye.presentationTimeOffset},calcWallTimeForSegment:function(fe,ye){var Ve,Ce,Re;return ye&&(Ve=fe.representation.adaptation.period.mpd.suggestedPresentationDelay,Ce=fe.presentationStartTime+Ve,Re=new Date(fe.availabilityStartTime.getTime()+1e3*Ce)),Re},calcTimeShiftBufferWindow:function(fe,ye){if(!ye)return function(Ce){var Re={start:NaN,end:NaN},xe=0,Qe=NaN;return Ce.forEach(function(B){var z=B.getStreamInfo();xe+=z.duration,(isNaN(Qe)||z.start<Qe)&&(Qe=z.start)}),Re.start=Qe,Re.end=Qe+xe,Re}(fe);if(G.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ve=se(fe);return he(Ve.now,Ve.range),Ve.range}return function(Ce){var Re={start:NaN,end:NaN};if(!Ce||Ce.length===0)return Re;var xe=Ce[0].getAdapter().getRegularPeriods()[0],Qe=Se(new Date,xe),B=xe.mpd.timeShiftBufferDepth,z=isNaN(B)?0:Qe-B;if(Re.start=j(Ce,z),Re.end=!isNaN(Re.start)&&Qe<Re.start?Qe:j(Ce,Qe,!0),!isNaN(B)&&Re.end<Qe-B&&(Re.end=NaN),G.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var ne=se(Ce);if(ne.range.end<Re.start)return ce.trigger(g.a.CONFORMANCE_VIOLATION,{level:bt.LEVELS.WARNING,event:bt.EVENTS.INVALID_DVR_WINDOW}),he(ne.now,ne.range),ne.range}return Re}(fe)},reset:_e},R=Object(tf.a)(Y).getInstance(),_e(),O}lf.__dashjs_factory_name="TimelineConverter";var vy=p.a.getSingletonFactory(lf),Ey=i(56),zu=i.n(Ey),by=i(24),_s=i.n(by);function cf(O){return(cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(O)}function ff(O,R){return(ff=Object.setPrototypeOf||function(C,k){return C.__proto__=k,C})(O,R)}function Ay(O){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,k=Ku(O);if(R){var Y=Ku(this).constructor;C=Reflect.construct(k,arguments,Y)}else C=k.apply(this,arguments);return Sy(this,C)}}function Sy(O,R){return!R||cf(R)!=="object"&&typeof R!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(O):R}function Ku(O){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(O)}var Iy=function(O){(function(k,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(Y&&Y.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Y&&ff(k,Y)})(C,O);var R=Ay(C);function C(){var k;return function(Y,ce){if(!(Y instanceof ce))throw new TypeError("Cannot call a class as a function")}(this,C),(k=R.call(this)).captionData=null,k.label=null,k.defaultTrack=!1,k.kind=null,k.isFragmented=!1,k.isEmbedded=!1,k.isTTML=null,k}return C}($u),wy=i(49);function df(){var O=0;function R(ue){for(var re="",Se=0;Se<ue.length;++Se)re+=ue[Se].uchar;return re.length-re.replace(/^\s+/,"").length}function C(ue){return"left: "+3.125*ue.x+"%; top: "+6.66*ue.y1+"%; width: "+(100-3.125*ue.x)+"%; height: "+6.66*Math.max(ue.y2-1-ue.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function k(ue){return ue==="red"?"rgb(255, 0, 0)":ue==="green"?"rgb(0, 255, 0)":ue==="blue"?"rgb(0, 0, 255)":ue==="cyan"?"rgb(0, 255, 255)":ue==="magenta"?"rgb(255, 0, 255)":ue==="yellow"?"rgb(255, 255, 0)":ue==="white"?"rgb(255, 255, 255)":ue==="black"?"rgb(0, 0, 0)":ue}function Y(ue,re){var Se=ue.videoHeight/15;return re?"font-size: "+Se+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(re.foreground?k(re.foreground):"rgb(255, 255, 255)")+"; font-style: "+(re.italics?"italic":"normal")+"; text-decoration: "+(re.underline?"underline":"none")+"; white-space: pre; background-color: "+(re.background?k(re.background):"transparent")+";":"font-size: "+Se+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function ce(ue){return ue.replace(/^\s+/g,"")}function G(ue){return ue.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(ue,re,Se,de){var se,he,j=null,Pe=!1,be=-1,_e={start:re,end:Se,spans:[]},fe="style_cea608_white_black",ye={},Ve={},Ce=[];for(se=0;se<15;++se){var Re=de.rows[se],xe="",Qe=null;if(Re.isEmpty()===!1){var B=R(Re.chars);j===null&&(j={x:B,y1:se,y2:se+1,p:[]}),B!==be&&Pe&&(j.p.push(_e),_e={start:re,end:Se,spans:[]},j.y2=se,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,ye.hasOwnProperty(j.name)===!1?(Ce.push(j),ye[j.name]=j):ye[j.name].p.contat(j.p),j={x:B,y1:se,y2:se+1,p:[]});for(var z=0;z<Re.chars.length;++z){var ne=Re.chars[z],W=ne.penState;if(Qe===null||!W.equals(Qe)){xe.trim().length>0&&(_e.spans.push({name:fe,line:xe,row:se}),xe="");var ge="style_cea608_"+W.foreground+"_"+W.background;W.underline&&(ge+="_underline"),W.italics&&(ge+="_italics"),Ve.hasOwnProperty(ge)||(Ve[ge]=JSON.parse(JSON.stringify(W))),Qe=W,fe=ge}xe+=ne.uchar}xe.trim().length>0&&_e.spans.push({name:fe,line:xe,row:se}),Pe=!0,be=B}else Pe=!1,be=-1,j&&(j.p.push(_e),_e={start:re,end:Se,spans:[]},j.y2=se,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,ye.hasOwnProperty(j.name)===!1?(Ce.push(j),ye[j.name]=j):ye[j.name].p.contat(j.p),j=null)}j&&(j.p.push(_e),j.y2=se+1,j.name="region_"+j.x+"_"+j.y1+"_"+j.y2,ye.hasOwnProperty(j.name)===!1?(Ce.push(j),ye[j.name]=j):ye[j.name].p.contat(j.p),j=null);var Ae=[];for(se=0;se<Ce.length;++se){var we=Ce[se],Ze="sub_cea608_"+O++,et=document.createElement("div");et.id=Ze;var gt=C(we);et.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+gt;var st=document.createElement("div");st.className="paragraph bodyStyle",st.style.cssText=Y(ue);var ft=document.createElement("div");ft.className="cueUniWrapper",ft.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ye=0;Ye<we.p.length;++Ye){var Oe=we.p[Ye],nt=0;for(he=0;he<Oe.spans.length;++he){var it=Oe.spans[he];if(it.line.length>0){if(he!==0&&nt!=it.row){var pt=document.createElement("br");pt.className="lineBreak",ft.appendChild(pt)}var Fe=!1;nt===it.row&&(Fe=!0),nt=it.row;var Xe=Ve[it.name],rt=document.createElement("span");rt.className="spanPadding "+it.name+" customSpanColor",rt.style.cssText=Y(ue,Xe),he!==0&&Fe?he===Oe.spans.length-1?rt.textContent=G(it.line):rt.textContent=it.line:Oe.spans.length>1&&he<Oe.spans.length-1&&it.row===Oe.spans[he+1].row?rt.textContent=ce(it.line):rt.textContent=it.line.trim(),ft.appendChild(rt)}}}st.appendChild(ft),et.appendChild(st);var lt={bodyStyle:["%",90]};for(var yt in Ve)Ve.hasOwnProperty(yt)&&(lt[yt]=["%",90]);Ae.push({type:"html",start:re,end:Se,cueHTMLElement:et,cueID:Ze,cellResolution:[32,15],isFromCEA608:!0,fontSize:lt,lineHeight:{},linePadding:{}})}return Ae}}}df.__dashjs_factory_name="EmbeddedTextHtmlRender";var Ry=p.a.getSingletonFactory(df);function hf(O){var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe=O.errHandler,ye=O.manifestModel,Ve=O.mediaController,Ce=O.videoModel,Re=O.textTracks,xe=O.vttParser,Qe=O.ttmlParser,B=O.streamInfo,z=this.context,ne=Object(m.a)(z).getInstance(),W=!1;function ge(){G=null,re=NaN,Se=[],de=null,ue=!1,ce=[],Y=null}function Ae(Oe){var nt=new Iy;for(var it in Oe)nt[it]=Oe[it];nt.labels=Oe.labels,nt.defaultTrack=function(pt){var Fe=!1;return he.length>1&&pt.isEmbedded?Fe=pt.id&&pt.id===l.a.CC1:he.length===1?pt.id&&typeof pt.id=="string"&&pt.id.substring(0,2)==="CC"&&(Fe=!0):he.length===0&&(Fe=pt.index===ce[0].index),Fe}(Oe),nt.isFragmented=Oe.isFragmented,nt.isEmbedded=!!Oe.isEmbedded,nt.isTTML=function(pt){return pt.codec&&pt.codec.search(l.a.STPP)>=0||pt.mimeType&&pt.mimeType.search(l.a.TTML)>=0}(Oe),nt.kind=function(pt,Fe){var Xe=pt.roles&&pt.roles.length>0?Fe[pt.roles[0]]:Fe.caption;return Xe=Xe===Fe.caption||Xe===Fe.subtitle?Xe:Fe.caption}(Oe,{subtitle:"subtitles",caption:"captions"}),Re.addTextTrack(nt)}function we(Oe){var nt=Oe.chunk;nt.mediaInfo.embeddedCaptions&&et(nt.bytes,nt)}function Ze(Oe){se=Oe}function et(Oe,nt){var it=nt.mediaInfo,pt=it.type,Fe=it.mimeType,Xe=it.codec||Fe;Xe?it.codec.indexOf("application/mp4")!==-1?function(rt,lt,yt){var mt,ct;if(lt.segmentType==="InitializationSegment")ue=!0,re=k.getMediaTimescaleFromMoov(rt);else{if(!ue)return;ct=k.getSamplesInfo(rt),(mt=ct.sampleList).length>0&&(de=mt[0].cts-lt.start*re),yt.search(l.a.STPP)>=0?function(Ct,Pt,Gt){var Yt,Ht;for(Y=Y!==null?Y:ft(Gt),Yt=0;Yt<Pt.length;Yt++){var Bt=Pt[Yt],Vt=Bt.cts,dn=st(),ln=dn+Vt/re,hn=ln+Bt.duration/re;R.buffered.add(ln,hn);var On=new DataView(Ct,Bt.offset,Bt.subSizes[0]),pn=_s.a.Utils.dataViewToString(On,l.a.UTF8),Zt=[],Tn=Bt.offset+Bt.subSizes[0];for(Ht=1;Ht<Bt.subSizes.length;Ht++){var qe=new Uint8Array(Ct,Tn,Bt.subSizes[Ht]),Ne=String.fromCharCode.apply(null,qe);Zt.push(Ne),Tn+=Bt.subSizes[Ht]}try{var ee=ye.getValue().ttmlTimeIsRelative?Vt/re:0,ze=Y.parse(pn,ee,Vt/re,(Vt+Bt.duration)/re,Zt);Re.addCaptions(se,dn,ze)}catch(je){G.removeExecutedRequestsBeforeTime(),this.remove(),C.error("TTML parser error: "+je.message)}}}(rt,mt,yt):function(Ct,Pt){var Gt,Yt,Ht,Bt=[];for(Gt=0;Gt<Pt.length;Gt++){var Vt=Pt[Gt];Vt.cts-=de;var dn=st()+Vt.cts/re,ln=dn+Vt.duration/re;R.buffered.add(dn,ln);var hn=Ct.slice(Vt.offset,Vt.offset+Vt.size),On=_s.a.parseBuffer(hn);for(Yt=0;Yt<On.boxes.length;Yt++){var pn=On.boxes[Yt];if(C.debug("VTT box1: "+pn.type),pn.type!=="vtte"&&pn.type==="vttc")for(C.debug("VTT vttc boxes.length = "+pn.boxes.length),Ht=0;Ht<pn.boxes.length;Ht++){var Zt=pn.boxes[Ht];if(C.debug("VTT box2: "+Zt.type),Zt.type==="payl"){var Tn=Zt.cue_text;C.debug("VTT cue_text = "+Tn);var qe=Vt.cts/re,Ne=(Vt.cts+Vt.duration)/re;Bt.push({start:qe,end:Ne,data:Tn,styles:{}}),C.debug("VTT "+qe+"-"+Ne+" : "+Tn)}}}}Bt.length>0&&Re.addCaptions(se,0,Bt)}(rt,mt)}}(Oe,nt,Xe):pt===l.a.VIDEO?function(rt,lt){var yt,mt;if(lt.segmentType===S.a.INIT_SEGMENT_TYPE)j===0&&(j=k.getMediaTimescaleFromMoov(rt));else if(lt.segmentType===S.a.MEDIA_SEGMENT_TYPE){if(j===0)return void C.warn("CEA-608: No timescale for embeddedTextTrack yet");var ct=(mt=k.getSamplesInfo(rt)).lastSequenceNumber;if(be[0]||be[1]||function(){for(var Ht,Bt=0;Bt<he.length;Bt++){if((Ht=Re.getTrackIdxForId(he[Bt].id))===-1)return void C.warn("CEA-608: data before track is ready.");var Vt=gt(Ht);be[Bt]=new u.a.Cea608Parser(Bt+1,{newCue:Vt},null)}}(),j){if(Pe!==null&&ct!==Pe+mt.numSequences)for(yt=0;yt<be.length;yt++)be[yt]&&be[yt].reset();for(var Ct=function(Ht,Bt){if(Bt.length===0)return null;for(var Vt={splits:[],fields:[[],[]]},dn=new DataView(Ht),ln=0;ln<Bt.length;ln++)for(var hn=Bt[ln],On=u.a.findCea608Nalus(dn,hn.offset,hn.size),pn=null,Zt=0,Tn=0;Tn<On.length;Tn++)for(var qe=u.a.extractCea608DataFromRange(dn,On[Tn]),Ne=0;Ne<2;Ne++)if(qe[Ne].length>0){hn.cts!==pn?Zt=0:Zt+=1;var ee=st();Vt.fields[Ne].push([hn.cts+ee*j,qe[Ne],Zt]),pn=hn.cts}return Vt.fields.forEach(function(ze){ze.sort(function(je,ut){return je[0]===ut[0]?je[2]-ut[2]:je[0]-ut[0]})}),Vt}(rt,mt.sampleList),Pt=0;Pt<be.length;Pt++){var Gt=Ct.fields[Pt],Yt=be[Pt];if(Yt)for(yt=0;yt<Gt.length;yt++)Yt.addData(Gt[yt][0]/j,Gt[yt][1])}Pe=ct}}}(Oe,nt):function(rt,lt,yt){var mt,ct,Ct=new DataView(rt,0,rt.byteLength);ct=_s.a.Utils.dataViewToString(Ct,l.a.UTF8);try{mt=ft(yt).parse(ct,0),Re.addCaptions(Re.getCurrentTrackIdx(),0,mt),R.buffered&&R.buffered.add(lt.start,lt.end)}catch(Pt){fe.error(new A.a(N.a.TIMED_TEXT_ERROR_ID_PARSE_CODE,N.a.TIMED_TEXT_ERROR_MESSAGE_PARSE+Pt.message,ct))}}(Oe,nt,Xe):C.error("No text type defined")}function gt(Oe){return function(nt,it,pt){var Fe;Fe=Ce.getTTMLRenderingDiv()?_e.createHTMLCaptionsFromScreen(Ce.getElement(),nt,it,pt):[{start:nt,end:it,data:pt.getDisplayText(),styles:{}}],Fe&&Re.addCaptions(Oe,0,Fe)}}function st(){return isNaN(R.timestampOffset)?0:R.timestampOffset}function ft(Oe){var nt;return Oe.search(l.a.VTT)>=0?nt=xe:(Oe.search(l.a.TTML)>=0||Oe.search(l.a.STPP)>=0)&&(nt=Qe),nt}function Ye(Oe){he.forEach(function(nt){var it=Re.getTrackIdxForId(nt.id);it>=0&&Re.deleteCuesFromTrackIdx(it,Oe.from,Oe.to)})}return R={initialize:function(){W||(he=[],se=null,j=0,be=[],Pe=null,W=!0,_e=Ry(z).getInstance(),ne.on(c.a.VIDEO_CHUNK_RECEIVED,we,R),ne.on(c.a.BUFFER_CLEARED,Ye,R))},addMediaInfos:function(Oe,nt,it){if(ce=ce.concat(nt),Oe===l.a.TEXT&&nt[0].isFragmented&&!nt[0].isEmbedded){G=it,R.buffered=Object(wy.a)(z).create(),Se=Ve.getTracksFor(l.a.TEXT,B.id).filter(function(rt){return rt.isFragmented});for(var pt=Ve.getCurrentTrackFor(l.a.TEXT,B.id),Fe=0;Fe<Se.length;Fe++)if(Se[Fe]===pt){Ze(Fe);break}}for(var Xe=0;Xe<nt.length;Xe++)Ae(nt[Xe])},resetMediaInfos:function(){ce=[]},getStreamId:function(){return B.id},append:et,abort:function(){},addEmbeddedTrack:function(Oe){if(W&&Oe)if(Oe.id===l.a.CC1||Oe.id===l.a.CC3){for(var nt=0;nt<he.length;nt++)if(he[nt].id===Oe.id)return;he.push(Oe)}else C.warn("Embedded track "+Oe.id+" not supported!")},resetEmbedded:function(){ne.off(c.a.VIDEO_CHUNK_RECEIVED,we,R),ne.off(c.a.BUFFER_CLEARED,Ye,R),Re&&Re.deleteAllTextTracks(),W=!1,he=[],be=[null,null],Pe=null},getConfig:function(){return{fragmentModel:G,fragmentedTracks:Se,videoModel:Ce}},setCurrentFragmentedTrackIdx:Ze,remove:function(Oe,nt){Oe===void 0&&Oe===nt&&(Oe=R.buffered.start(0),nt=R.buffered.end(R.buffered.length-1)),R.buffered.remove(Oe,nt),Re.deleteCuesFromTrackIdx(se,Oe,nt)},reset:function(){ge(),ce=[],k=null}},C=Object(T.a)(z).getInstance().getLogger(R),k=Object($.a)(z).getInstance(),ge(),R}hf.__dashjs_factory_name="TextSourceBuffer";var Cy=p.a.getClassFactory(hf),Xu=i(48);function pf(O){var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye=this.context,Ve=Object(m.a)(ye).getInstance(),Ce=O.videoModel,Re=O.streamInfo;function xe(Ye,Oe,nt,it,pt,Fe){var Xe=0,rt=0;Ye/Oe>nt/it?Xe=(rt=Oe)/it*nt:rt=(Xe=Ye)/nt*it;var lt,yt,mt=0,ct=0;return Xe/rt>pt?(ct=rt,mt=rt*pt):(mt=Xe,ct=Xe/pt),lt=(Ye-mt)/2,yt=(Oe-ct)/2,Fe?{x:lt+.1*mt,y:yt+.1*ct,w:.8*mt,h:.8*ct}:{x:lt,y:yt,w:mt,h:ct}}function Qe(Ye,Oe){var nt=Ce.getClientWidth(),it=Ce.getClientHeight(),pt=Ce.getVideoWidth(),Fe=Ce.getVideoHeight(),Xe=Ce.getVideoRelativeOffsetTop(),rt=Ce.getVideoRelativeOffsetLeft();if(pt!==0&&Fe!==0){var lt=pt/Fe,yt=!1;Ye.isFromCEA608&&(lt=3.5/3,yt=!0);var mt=xe.call(this,nt,it,pt,Fe,lt,yt),ct=mt.w,Ct=mt.h,Pt=mt.x,Gt=mt.y;if(ct!=Se||Ct!=de||Pt!=ue||Gt!=re||Oe){if(ue=Pt+rt,re=Gt+Xe,Se=ct,de=Ct,se){var Yt=se.style;Yt&&(Yt.left=ue+"px",Yt.top=re+"px",Yt.width=Se+"px",Yt.height=de+"px",Yt.zIndex=j&&document[j]||Pe?_e:null,Ve.trigger(g.a.CAPTION_CONTAINER_RESIZE))}var Ht=Ye.activeCues;if(Ht)for(var Bt=Ht.length,Vt=0;Vt<Bt;++Vt){var dn=Ht[Vt];dn.scaleCue(dn)}}}}function B(Ye){var Oe,nt,it,pt,Fe,Xe=Se,rt=de;if(Ye.cellResolution){var lt=[Xe/Ye.cellResolution[0],rt/Ye.cellResolution[1]];if(Ye.linePadding){for(Oe in Ye.linePadding)if(Ye.linePadding.hasOwnProperty(Oe)){nt=(Ye.linePadding[Oe]*lt[0]).toString();for(var yt=document.getElementsByClassName("spanPadding"),mt=0;mt<yt.length;mt++)yt[mt].style.cssText=yt[mt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+nt),yt[mt].style.cssText=yt[mt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+nt)}}if(Ye.fontSize){for(Oe in Ye.fontSize)if(Ye.fontSize.hasOwnProperty(Oe)){Ye.fontSize[Oe][0]==="%"?it=Ye.fontSize[Oe][1]/100:Ye.fontSize[Oe][0]==="c"&&(it=Ye.fontSize[Oe][1]),nt=(it*lt[1]).toString(),Fe=Oe!=="defaultFontSize"?document.getElementsByClassName(Oe):document.getElementsByClassName("paragraph");for(var ct=0;ct<Fe.length;ct++)Fe[ct].style.cssText=Fe[ct].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+nt)}if(Ye.lineHeight){for(Oe in Ye.lineHeight)if(Ye.lineHeight.hasOwnProperty(Oe)){Ye.lineHeight[Oe][0]==="%"?pt=Ye.lineHeight[Oe][1]/100:Ye.fontSize[Oe][0]==="c"&&(pt=Ye.lineHeight[Oe][1]),nt=(pt*lt[1]).toString(),Fe=document.getElementsByClassName(Oe);for(var Ct=0;Ct<Fe.length;Ct++)Fe[Ct].style.cssText=Fe[Ct].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+nt)}}}}if(Ye.isd){var Pt=document.getElementById(Ye.cueID);Pt&&se.removeChild(Pt),z(Ye)}}function z(Ye){if(se){var Oe=document.createElement("div");se.appendChild(Oe),be=Object(Xu.renderHTML)(Ye.isd,Oe,function(nt){var it=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,pt=/^#(.*)$/;if(it.test(nt)){var Fe=it.exec(nt),Xe=parseInt(Fe[4],10)-1;return"data:image/png;base64,"+btoa(Ye.images[Xe])}if(pt.test(nt)){var rt=pt.exec(nt)[1];return"data:image/png;base64,"+Ye.embeddedImages[rt]}return null},se.clientHeight,se.clientWidth,!1,function(nt){C.info("renderCaption :",nt)},be,!0),Oe.id=Ye.cueID,Ve.trigger(g.a.CAPTION_RENDERED,{captionDiv:Oe,currentTrackIdx:G})}}function ne(Ye,Oe,nt){var it=W(Ye),pt=this;if(it&&Array.isArray(nt)&&nt.length!==0)for(var Fe=0;Fe<nt.length;Fe++){var Xe=void 0,rt=nt[Fe];it.cellResolution=rt.cellResolution,it.isFromCEA608=rt.isFromCEA608,rt.type!=="html"||!se||isNaN(rt.start)||isNaN(rt.end)?!rt.data||isNaN(rt.start)||isNaN(rt.end)||(Xe=new k(rt.start-Oe,rt.end-Oe,rt.data),rt.styles&&(rt.styles.align!==void 0&&"align"in Xe&&(Xe.align=rt.styles.align),rt.styles.line!==void 0&&"line"in Xe&&(Xe.line=rt.styles.line),rt.styles.position!==void 0&&"position"in Xe&&(Xe.position=rt.styles.position),rt.styles.size!==void 0&&"size"in Xe&&(Xe.size=rt.styles.size)),Xe.onenter=function(){it.mode===l.a.TEXT_SHOWING&&Ve.trigger(g.a.CAPTION_RENDERED,{currentTrackIdx:G})}):((Xe=new k(rt.start+Oe,rt.end+Oe,"")).cueHTMLElement=rt.cueHTMLElement,Xe.isd=rt.isd,Xe.images=rt.images,Xe.embeddedImages=rt.embeddedImages,Xe.cueID=rt.cueID,Xe.scaleCue=B.bind(pt),Xe.cellResolution=rt.cellResolution,Xe.lineHeight=rt.lineHeight,Xe.linePadding=rt.linePadding,Xe.fontSize=rt.fontSize,se.style.left=ue+"px",se.style.top=re+"px",se.style.width=Se+"px",se.style.height=de+"px",Xe.onenter=function(){it.mode===l.a.TEXT_SHOWING&&(this.isd?(z(this),C.debug("Cue enter id:"+this.cueID)):(se.appendChild(this.cueHTMLElement),B.call(pt,this),Ve.trigger(g.a.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:G})))},Xe.onexit=function(){if(se)for(var lt=se.childNodes,yt=0;yt<lt.length;++yt)lt[yt].id===this.cueID&&(C.debug("Cue exit id:"+lt[yt].id),se.removeChild(lt[yt]),--yt)});try{Xe?we(it,Xe)||it.addCue(Xe):C.error("impossible to display subtitles.")}catch(lt){throw et(it),it.addCue(Xe),lt}}}function W(Ye){return Ye>=0&&Y[Ye]?Ce.getTextTrack(Y[Ye].kind,Y[Ye].id,Y[Ye].lang,Y[Ye].isTTML,Y[Ye].isEmbedded):null}function ge(Ye){var Oe=this;if(Ye!==G){var nt=W(G=Ye);Ae.call(this,nt),he&&(clearInterval(he),he=null),nt&&nt.renderingType==="html"&&(Qe.call(this,nt,!0),window.ResizeObserver?(fe=new window.ResizeObserver(function(){Qe.call(Oe,nt,!0)})).observe(Ce.getElement()):he=setInterval(Qe.bind(this,nt),500))}}function Ae(Ye){ft.call(this),Ye&&Ye.renderingType==="html"?gt.call(this):st.call(this)}function we(Ye,Oe){if(!Ye.cues)return!1;for(var nt=0;nt<Ye.cues.length;nt++)if(Ye.cues[nt].startTime===Oe.startTime&&Ye.cues[nt].endTime===Oe.endTime)return!0;return!1}function Ze(Ye,Oe,nt){var it=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(isNaN(Oe)||(it?Ye.startTime:Ye.endTime)>=Oe)&&(isNaN(nt)||(it?Ye.endTime:Ye.startTime)<=nt)}function et(Ye,Oe,nt){var it=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Ye.cues)for(var pt=Ye.cues,Fe=pt.length-1,Xe=Fe;Xe>=0;Xe--)Ze(pt[Xe],Oe,nt,it)&&(pt[Xe].onexit&&pt[Xe].onexit(),Ye.removeCue(pt[Xe]))}function gt(){var Ye=document.getElementById("native-cue-style");if(!Ye){(Ye=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ye);var Oe=Ye.sheet,nt=Ce.getElement();try{nt&&(nt.id?Oe.insertRule("#"+nt.id+"::cue {background: transparent}",0):nt.classList.length!==0?Oe.insertRule("."+nt.className+"::cue {background: transparent}",0):Oe.insertRule("video::cue {background: transparent}",0))}catch(it){C.info(""+it.message)}}}function st(){var Ye=document.getElementById("native-cue-style");Ye&&document.head.removeChild(Ye)}function ft(){if(se)for(;se.firstChild;)se.removeChild(se.firstChild)}return R={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(k=window.VTTCue||window.TextTrackCue,Y=[],ce=[],G=-1,ue=0,re=0,Se=0,de=0,se=null,he=null,Pe=!1,_e=2147483647,be=null,document.fullscreenElement!==void 0?j="fullscreenElement":document.webkitIsFullScreen!==void 0?j="webkitIsFullScreen":document.msFullscreenElement?j="msFullscreenElement":document.mozFullScreen&&(j="mozFullScreen"))},getStreamId:function(){return Re.id},addTextTrack:function(Ye){Y.push(Ye)},addCaptions:ne,createTracks:function(){Y.sort(function(Ct,Pt){return Ct.index-Pt.index}),se=Ce.getTTMLRenderingDiv();for(var Ye,Oe,nt,it,pt,Fe,Xe=-1,rt=0;rt<Y.length;rt++){var lt=(Ye=Y[rt],Oe=void 0,nt=void 0,it=void 0,pt=void 0,Fe=void 0,Oe=Ye.kind,nt=Ye.id!==void 0?Ye.id:Ye.lang,it=Ye.lang,pt=Ye.isTTML,Fe=Ye.isEmbedded,Ce.addTextTrack(Oe,nt,it,pt,Fe));ce.push(lt),Y[rt].defaultTrack&&(lt.default=!0,Xe=rt);var yt=W(rt);yt&&(yt.mode=l.a.TEXT_SHOWING,se&&(Y[rt].isTTML||Y[rt].isEmbedded)?yt.renderingType="html":yt.renderingType="default"),ne(rt,0,Y[rt].captionData),Ve.trigger(g.a.TEXT_TRACK_ADDED)}if(ge.call(this,Xe),Xe>=0){Ve.on(g.a.PLAYBACK_METADATA_LOADED,function Ct(){var Pt=W(Xe);Pt&&Pt.renderingType==="html"&&Qe.call(this,Pt,!0),Ve.off(g.a.PLAYBACK_METADATA_LOADED,Ct,this)},this);for(var mt=0;mt<Y.length;mt++){var ct=W(mt);ct&&(ct.mode=mt===Xe?l.a.TEXT_SHOWING:l.a.TEXT_HIDDEN)}}Ve.trigger(c.a.TEXT_TRACKS_QUEUE_INITIALIZED,{index:G,tracks:Y,streamId:Re.id})},getCurrentTrackIdx:function(){return G},setCurrentTrackIdx:ge,getTrackIdxForId:function(Ye){for(var Oe=-1,nt=0;nt<Y.length;nt++)if(Y[nt].id===Ye){Oe=nt;break}return Oe},getCurrentTrackInfo:function(){return Y[G]},setModeForTrackIdx:function(Ye,Oe){var nt=W(Ye);nt&&nt.mode!==Oe&&(nt.mode=Oe)},deleteCuesFromTrackIdx:function(Ye,Oe,nt){var it=W(Ye);it&&et(it,Oe,nt)},deleteAllTextTracks:function(){for(var Ye=ce?ce.length:0,Oe=0;Oe<Ye;Oe++){var nt=W(Oe);nt&&et.call(this,nt,Re.start,Re.start+Re.duration,!1)}ce=[],Y=[],he&&(clearInterval(he),he=null),fe&&Ce&&(fe.unobserve(Ce.getElement()),fe=null),G=-1,ft.call(this)},deleteTextTrack:function(Ye){Ce.removeChild(ce[Ye]),ce.splice(Ye,1)}},C=Object(T.a)(ye).getInstance().getLogger(R),R}pf.__dashjs_factory_name="TextTracks";var My=p.a.getClassFactory(pf);function mf(){var O,R,C,k,Y,ce,G=this.context;function ue(se){var he=se.split(":"),j=he.length-1;return se=60*parseInt(he[j-1],10)+parseFloat(he[j]),j===2&&(se+=3600*parseInt(he[0],10)),se}function re(se){var he=se.split(k),j=he[1].split(ce);return j.shift(),he[1]=j[0],j.shift(),{cuePoints:he,styles:Se(j)}}function Se(se){var he={};return se.forEach(function(j){if(j.split(/:/).length>1){var Pe=j.split(/:/)[1];Pe&&Pe.search(/%/)!=-1&&(Pe=parseInt(Pe.replace(/%/,""),10)),(j.match(/align/)||j.match(/A/))&&(he.align=Pe),(j.match(/line/)||j.match(/L/))&&(he.line=Pe),(j.match(/position/)||j.match(/P/))&&(he.position=Pe),(j.match(/size/)||j.match(/S/))&&(he.size=Pe)}}),he}function de(se,he){for(var j,Pe=he,be="",_e="";se[Pe]!==""&&Pe<se.length;)Pe++;if((j=Pe-he)>1)for(var fe=0;fe<j;fe++){if((_e=se[he+fe]).match(k)){be="";break}be+=_e,fe!==j-1&&(be+=`
`)}else(_e=se[he]).match(k)||(be=_e);return be}return O={parse:function(se){var he,j,Pe=[];if(!se)return Pe;he=(se=se.split(C)).length,j=-1;for(var be=0;be<he;be++){var _e=se[be];if(_e.length>0&&_e!=="WEBVTT"&&_e.match(k)){var fe=re(_e),ye=fe.cuePoints,Ve=fe.styles,Ce=de(se,be+1),Re=ue(ye[0].replace(Y,"")),xe=ue(ye[1].replace(Y,""));!isNaN(Re)&&!isNaN(xe)&&Re>=j&&xe>Re?Ce!==""?(j=Re,Pe.push({start:Re,end:xe,data:Ce,styles:Ve})):R.error("Skipping cue due to empty/malformed cue text"):R.error("Skipping cue due to incorrect cue timing")}}return Pe}},R=Object(T.a)(G).getInstance().getLogger(O),C=/(?:\r\n|\r|\n)/gm,k=/-->/,Y=/(^[\s]+|[\s]+$)/g,ce=/\s\b/g,O}mf.__dashjs_factory_name="VTTParser";var Ny=p.a.getSingletonFactory(mf);function gf(){var O,R,C=this.context,k=Object(m.a)(C).getInstance(),Y=0;return O={parse:function(ce,G,ue,re,Se){var de,se,he,j="",Pe=[],be={},_e={},fe="",ye="",Ve={onOpenTag:function(B,z,ne){if(ne[" imagetype"]&&!ne[" imageType"]&&(k.trigger(g.a.CONFORMANCE_VIOLATION,{level:bt.LEVELS.ERROR,event:bt.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),ne[" imageType"]=ne[" imagetype"]),z==="image"&&(B==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||B==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!ne[" imageType"]||ne[" imageType"].value!=="PNG")return void R.warn("smpte-tt imageType != PNG. Discarded");fe=ne["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(_e[fe]=ye.trim()),ye="",fe=""},onText:function(B){fe&&(ye+=B)}};if(!ce)throw j="no ttml data to parse",new Error(j);be.data=ce,k.trigger(c.a.TTML_TO_PARSE,be);var Ce=Object(Xu.fromXML)(be.data,function(B){j=B},Ve);k.trigger(c.a.TTML_PARSED,{ttmlString:be.data,ttmlDoc:Ce});var Re,xe=Ce.getMediaTimeEvents();for(he=0;he<xe.length;he++){var Qe=Object(Xu.generateISD)(Ce,xe[he],function(B){j=B});Qe.contents.some(function(B){return B.contents.length})&&(de=xe[he]+G<ue?ue:xe[he]+G)<(se=xe[he+1]+G>re?re:xe[he+1]+G)&&Pe.push({start:de,end:se,type:"html",cueID:(Re=void 0,Re="cue_TTML_"+Y,Y++,Re),isd:Qe,images:Se,embeddedImages:_e})}if(j!=="")throw R.error(j),new Error(j);return Pe}},R=Object(T.a)(C).getInstance().getLogger(O),O}gf.__dashjs_factory_name="TTMLParser";var Oy=p.a.getSingletonFactory(gf);function yf(O){var R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe=this.context,be=O.adapter,_e=O.errHandler,fe=O.manifestModel,ye=O.mediaController,Ve=O.videoModel,Ce=O.settings;function Re(W){var ge=W.tracks,Ae=W.index,we=W.streamId;Ce.get().streaming.text.defaultEnabled===!1&&!Qe()||j?B(we,-1):(re&&ge.some(function(Ze,et){if(ye.matchSettings(re,Ze))return B(we,et),Ae=et,!0}),de=!1),C[we].lastEnabledIndex=Ae,ue.trigger(g.a.TEXT_TRACKS_ADDED,{enabled:Qe(),index:Ae,tracks:ge,streamId:we}),he=!0}function xe(W){if(!Se&&W&&W.newMediaInfo){var ge=W.newMediaInfo;ge.type===l.a.TEXT&&(re={lang:ge.lang,role:ge.roles[0],index:ge.index,codec:ge.codec,accessibility:ge.accessibility[0]})}}function Qe(){var W=!0;return de&&!se&&(W=!1),W}function B(W,ge){(de=ge===-1)&&ye&&ye.saveTextSettingsDisabled();var Ae=z(W);if(Ae!==ge&&Y[W]){Y[W].setModeForTrackIdx(Ae,l.a.TEXT_HIDDEN),Y[W].setCurrentTrackIdx(ge),Y[W].setModeForTrackIdx(ge,l.a.TEXT_SHOWING);var we=Y[W].getCurrentTrackInfo();we&&we.isFragmented&&!we.isEmbedded?function(Ze,et,gt){if(k[Ze])for(var st=k[Ze].getConfig().fragmentedTracks,ft=0;ft<st.length;ft++){var Ye=st[ft];if(et.lang===Ye.lang&&(Ye.id?et.id===Ye.id:et.index===Ye.index)){var Oe=ye.getCurrentTrackFor(l.a.TEXT,Ze);(Ye.id?Oe.id!==Ye.id:Oe.index!==Ye.index)?(Y[Ze].deleteCuesFromTrackIdx(gt),k[Ze].setCurrentFragmentedTrackIdx(ft)):gt===-1&&ue.trigger(c.a.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Ze,mediaType:l.a.TEXT})}}}(W,we,Ae):we&&!we.isFragmented&&function(Ze,et){ue.trigger(c.a.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:et},{streamId:Ze,mediaType:l.a.TEXT})}(W,we),ye.setTrack(we)}}function z(W){return Y[W].getCurrentTrackIdx()}function ne(){k={},Y={},C={},de=!0,he=!1,j=!1}return R={deactivateStream:function(W){if(W){var ge=W.id;k[ge]&&k[ge].resetMediaInfos(),Y[ge]&&Y[ge].deleteAllTextTracks()}},initialize:function(){ue.on(c.a.CURRENT_TRACK_CHANGED,xe,R),ue.on(c.a.TEXT_TRACKS_QUEUE_INITIALIZED,Re,R)},initializeForStream:function(W){var ge=W.id,Ae=My(Pe).create({videoModel:Ve,streamInfo:W});Ae.initialize(),Y[ge]=Ae;var we=Cy(Pe).create({errHandler:_e,adapter:be,manifestModel:fe,mediaController:ye,videoModel:Ve,textTracks:Ae,vttParser:ce,ttmlParser:G,streamInfo:W});we.initialize(),k[ge]=we,C[ge]={},C[ge].lastEnabledIndex=-1},createTracks:function(W){var ge=W.id;Y[ge]&&Y[ge].createTracks()},getTextSourceBuffer:function(W){var ge=W.id;if(k&&k[ge])return k[ge]},getAllTracksAreDisabled:function(){return de},addEmbeddedTrack:function(W,ge){var Ae=W.id;k[Ae]&&k[Ae].addEmbeddedTrack(ge)},setInitialSettings:function(W){re=W,Se=!0},enableText:function(W,ge){Object(ve.b)(ge,"boolean"),Qe()!==ge&&(ge&&B(W,C[W].lastEnabledIndex),ge||(C[W].lastEnabledIndex=z(W),he?B(W,-1):j=!0))},isTextEnabled:Qe,setTextTrack:B,getCurrentTrackIdx:z,enableForcedTextStreaming:function(W){Object(ve.b)(W,"boolean"),se=W},addMediaInfosToBuffer:function(W,ge,Ae){var we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Ze=W.id;k[Ze]&&k[Ze].addMediaInfos(ge,Ae,we)},reset:function(){ne(),ue.off(c.a.CURRENT_TRACK_CHANGED,xe,R),ue.off(c.a.TEXT_TRACKS_QUEUE_INITIALIZED,Re,R),Object.keys(k).forEach(function(W){k[W].resetEmbedded(),k[W].reset()})}},re=null,se=!1,he=!1,Se=!1,j=!1,ce=Ny(Pe).getInstance(),G=Oy(Pe).getInstance(),ue=Object(m.a)(Pe).getInstance(),ne(),R}yf.__dashjs_factory_name="TextController";var Dy=p.a.getClassFactory(yf),Py=i(31);function Qu(){var O,R,C,k,Y,ce,G,ue,re,Se,de,se,he,j,Pe,be,_e,fe,ye,Ve,Ce,Re,xe,Qe,B,z,ne,W,ge,Ae,we,Ze,et,gt,st,ft,Ye="You must first call initialize() and set a source before calling this method",Oe="You must first call initialize() and set a valid source and view before calling this method",nt="You must first call attachView() to set the video element before calling this method",it=this.context,pt=Object(m.a)(it).getInstance(),Fe=Object(H.a)(it).getInstance(),Xe=Object(T.a)(it).getInstance({settings:Fe});function rt(){ln(null),Vt(null),k=null,he&&(he.reset(),he=null),j&&(j.reset(),j=null),ye&&(ye.reset(),ye=null),Fe.reset(),be&&(be.reset(),be=null)}function lt(){return!!C&&!!et.getElement()}function yt(){return Object(zg.a)()}function mt(){if(!G)throw Oe;return ne.isPaused()}function ct(ee){var ze=Qe&&Qe.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,je=Ae.getCurrentDVRInfo(ze);if(!je)return 0;var ut=ne.getLiveDelay(),At=je.range.start+ee;return At>je.range.end-ut&&(At=je.range.end-ut),At}function Ct(ee){if(!G)throw Oe;var ze=Bt().currentTime;if(ee!==void 0)ze=Qe.getTimeRelativeToStreamId(ze,ee);else if(ne.getIsDynamic()){var je=Qe&&Qe.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,ut=Ae.getCurrentDVRInfo(je);ze=ut===null||ze===0?0:Math.max(0,ze-ut.range.start)}return ze}function Pt(){if(!G)throw Oe;var ee=Bt().duration;if(ne.getIsDynamic()){var ze=Qe&&Qe.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,je=Ae.getCurrentDVRInfo(ze);ee=je?je.range.end-je.range.start:0}return ee}function Gt(ee){Object(ve.b)(ee,"boolean"),ue=ee}function Yt(){ye.restoreDefaultUTCTimingSources()}function Ht(){return Ae}function Bt(){if(!et.getElement())throw nt;return et.getElement()}function Vt(ee){if(!Y)throw"MediaPlayer not initialized!";et.setElement(ee),ee&&(Zt(),function(){if(!j){var ze=dashjs.MetricsReporting;if(typeof ze=="function"){var je=ze(it).create();j=je.createMetricsReporting({debug:Xe,eventBus:pt,mediaElement:Bt(),adapter:_e,dashMetrics:Ae,mediaPlayerModel:fe,events:c.a,constants:l.a,metricsConstants:d.a})}}}(),function(){if(!Pe){var ze=dashjs.MssHandler;typeof ze=="function"&&(N.a.extend(ze.errors),Pe=ze(it).create({eventBus:pt,mediaPlayerModel:fe,dashMetrics:Ae,manifestModel:we,playbackController:ne,streamController:Qe,protectionController:he,baseURLController:Ce,errHandler:Ve,events:c.a,constants:l.a,debug:Xe,initSegmentType:S.a.INIT_SEGMENT_TYPE,BASE64:zu.a,ISOBoxer:_s.a,settings:Fe}))}}(),Qe&&Qe.switchToVideoElement()),G&&On(),Ne()}function dn(ee){if(!ce)throw Ye;var ze=Qe.getActiveStreamInfo();return ze?se.getTracksFor(ee,ze.id):[]}function ln(ee){if(!Y)throw"MediaPlayer not initialized!";typeof ee=="string"&&gt.initialize(ee),C=ee,(ce||G)&&On(),lt()&&Ne()}function hn(){if(!ce)throw Ye;var ee=Qe.getActiveStreamInfo();return ee?Qe.getStreamById(ee.id):null}function On(){G=!1,ce=!1,_e.reset(),Qe.reset(),z.reset(),ge.reset(),ne.reset(),W.reset(),re.reset(),se.reset(),ft.reset(),he&&(Fe.get().streaming.protection.keepProtectionMediaKeys?he.stop():(he.reset(),he=null,Zt())),B.reset(),Ze.reset()}function pn(){return ms(it).create({debug:Xe,errHandler:Ve,dashMetrics:Ae,mediaPlayerModel:fe,requestModifier:Object(Ke.a)(it).getInstance(),mssHandler:Pe,settings:Fe})}function Zt(){if(he)return he;var ee=dashjs.Protection;if(typeof ee=="function"){var ze=ee(it).create();return c.a.extend(ee.events),g.a.extend(ee.events,{publicOnly:!0}),N.a.extend(ee.errors),Re||(Re=Object(x0.a)(it).getInstance()),he=ze.createProtectionSystem({debug:Xe,errHandler:Ve,videoModel:et,customParametersModel:ye,capabilities:Re,eventBus:pt,events:c.a,BASE64:zu.a,constants:l.a,cmcdModel:Ze,settings:Fe})}return null}function Tn(){if(!Y)throw"MediaPlayer not initialized!";if(be)return be;var ee=dashjs.OfflineController;if(typeof ee=="function"){c.a.extend(ee.events),g.a.extend(ee.events,{publicOnly:!0}),N.a.extend(ee.errors);var ze=pn(),je=Q(it).create();return je.setConfig({manifestModel:we,adapter:_e,manifestLoader:ze,errHandler:Ve}),be=ee(it).create({debug:Xe,manifestUpdater:je,baseURLController:Ce,manifestLoader:ze,manifestModel:we,mediaPlayerModel:fe,abrController:re,playbackController:ne,adapter:_e,errHandler:Ve,dashMetrics:Ae,timelineConverter:de,segmentBaseController:ft,schemeLoaderFactory:Se,eventBus:pt,events:c.a,errors:N.a,constants:l.a,settings:Fe,dashConstants:f.a,urlUtils:Object(We.a)(it).getInstance()})}return null}function qe(ee){var ze=Qe&&Qe.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,je=Ae.getCurrentDVRInfo(ze);return je?ee+(je.manifestInfo.availableFrom.getTime()/1e3+je.range.start):0}function Ne(){var ee;be&&be.resetRecords(),!ce&&C&&(ce=!0,R.info("Streaming Initialized"),ee=pn(),Qe||(Qe=Rt(it).getInstance()),B||(B=Dy(it).create({errHandler:Ve,manifestModel:we,adapter:_e,mediaController:se,videoModel:et,settings:Fe})),xe.setConfig({capabilities:Re,customParametersModel:ye,adapter:_e,settings:Fe,manifestModel:we,errHandler:Ve}),Qe.setConfig({capabilities:Re,capabilitiesFilter:xe,manifestLoader:ee,manifestModel:we,mediaPlayerModel:fe,customParametersModel:ye,protectionController:he,textController:B,adapter:_e,dashMetrics:Ae,errHandler:Ve,timelineConverter:de,videoModel:et,playbackController:ne,serviceDescriptionController:W,abrController:re,mediaController:se,settings:Fe,baseURLController:Ce,uriFragmentModel:gt,segmentBaseController:ft}),z.setConfig({settings:Fe,playbackController:ne,streamController:Qe,videoModel:et,timelineConverter:de,adapter:_e}),ne.setConfig({streamController:Qe,serviceDescriptionController:W,dashMetrics:Ae,adapter:_e,videoModel:et,timelineConverter:de,settings:Fe}),ge.setConfig({streamController:Qe,playbackController:ne,mediaPlayerModel:fe,dashMetrics:Ae,videoModel:et,settings:Fe}),re.setConfig({streamController:Qe,domStorage:st,mediaPlayerModel:fe,customParametersModel:ye,dashMetrics:Ae,adapter:_e,videoModel:et,settings:Fe}),Ze.setConfig({abrController:re,dashMetrics:Ae,playbackController:ne}),re.initialize(),Qe.initialize(ue,k),B.initialize(),z.initialize(),ge.initialize(),Ze.initialize(),ft.initialize(),typeof C=="string"?Qe.load(C):Qe.loadWithManifest(C)),!G&&lt()&&(G=!0,R.info("Playback Initialized"))}return O={initialize:function(ee,ze,je){Re||(Re=Object(x0.a)(it).getInstance()).setConfig({settings:Fe}),Ve||(Ve=Og(it).getInstance()),Re.supportsMediaSource()?(Y||(Y=!0,de=vy(it).getInstance(),re||(re=jg(it).getInstance()).setConfig({settings:Fe}),Se||(Se=Object(Hg.a)(it).getInstance()),ne||(ne=v(it).getInstance()),se||(se=qn(it).getInstance()),Qe||(Qe=Rt(it).getInstance()),z||(z=Ut(it).getInstance()),ge||(ge=Mn(it).getInstance()),W||(W=rr(it).getInstance()),xe||(xe=Dg(it).getInstance()),_e=ay(it).getInstance(),we=xg(it).getInstance(),Ze=Object(Yg.a)(it).getInstance(),Ae=Ty(it).getInstance({settings:Fe}),st=Wg(it).getInstance({settings:Fe}),_e.setConfig({constants:l.a,cea608parser:u.a,errHandler:Ve,BASE64:zu.a}),Ce||(Ce=aa(it).create()),Ce.setConfig({adapter:_e}),W.setConfig({adapter:_e}),ft||(ft=Qg(it).getInstance({dashMetrics:Ae,mediaPlayerModel:fe,errHandler:Ve,baseURLController:Ce,events:c.a,eventBus:pt,debug:Xe,boxParser:Object($.a)(it).getInstance(),requestModifier:Object(Ke.a)(it).getInstance(),errors:N.a})),se.setConfig({domStorage:st,settings:Fe,customParametersModel:ye}),fe.setConfig({playbackController:ne,serviceDescriptionController:W}),Yt(),Gt(je===void 0||je),Tn()),ee&&Vt(ee),ze&&ln(ze),R.info("[dash.js "+yt()+"] MediaPlayer has been initialized")):Ve.error(new A.a(N.a.CAPABILITY_MEDIASOURCE_ERROR_CODE,N.a.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(ee){ee&&(ee.capabilities&&(Re=ee.capabilities),ee.capabilitiesFilter&&(xe=ee.capabilitiesFilter),ee.streamController&&(Qe=ee.streamController),ee.textController&&(B=ee.textController),ee.gapController&&(z=ee.gapController),ee.playbackController&&(ne=ee.playbackController),ee.serviceDescriptionController&&(W=ee.serviceDescriptionController),ee.catchupController&&(ge=ee.catchupController),ee.mediaPlayerModel&&(fe=ee.mediaPlayerModel),ee.customParametersModel&&(ye=ee.customParametersModel),ee.abrController&&(re=ee.abrController),ee.schemeLoaderFactory&&(Se=ee.schemeLoaderFactory),ee.mediaController&&(se=ee.mediaController),ee.settings&&(Fe=ee.settings))},on:function(ee,ze,je,ut){pt.on(ee,ze,je,ut)},off:function(ee,ze,je){pt.off(ee,ze,je)},extend:function(ee,ze,je){p.a.extend(ee,ze,je,it)},attachView:Vt,attachSource:ln,isReady:lt,play:function(){if(!G)throw Oe;(!ue||mt()&&G)&&ne.play()},isPaused:mt,pause:function(){if(!G)throw Oe;ne.pause()},isSeeking:function(){if(!G)throw Oe;return ne.isSeeking()},isDynamic:function(){if(!G)throw Oe;return ne.getIsDynamic()},getLowLatencyModeEnabled:function(){if(!G)throw Oe;return ne.getLowLatencyModeEnabled()},seek:function(ee){if(!G)throw Oe;if(Object(ve.b)(ee,"number"),isNaN(ee))throw l.a.BAD_ARGUMENT_ERROR;var ze=ne.getIsDynamic()?ct(ee):ee;ne.seek(ze)},setPlaybackRate:function(ee){Bt().playbackRate=ee},getPlaybackRate:function(){return Bt().playbackRate},setMute:function(ee){Object(ve.b)(ee,"boolean"),Bt().muted=ee},isMuted:function(){return Bt().muted},setVolume:function(ee){if(typeof ee!="number"||isNaN(ee)||ee<0||ee>1)throw l.a.BAD_ARGUMENT_ERROR;Bt().volume=ee},getVolume:function(){return Bt().volume},time:Ct,duration:Pt,timeAsUTC:function(){if(!G)throw Oe;return Ct()<0?NaN:qe(Ct())},durationAsUTC:function(){if(!G)throw Oe;return qe(Pt())},getActiveStream:hn,getDVRWindowSize:function(){var ee=Qe&&Qe.hasVideoTrack()?l.a.VIDEO:l.a.AUDIO,ze=Ae.getCurrentDVRInfo(ee);return ze?ze.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:ct,getTargetLiveDelay:function(){if(!G)throw Oe;return ne.getLiveDelay()},convertToTimeCode:function(ee){ee=Math.max(ee,0);var ze=Math.floor(ee/3600),je=Math.floor(ee%3600/60),ut=Math.floor(ee%3600%60);return(ze===0?"":ze<10?"0"+ze.toString()+":":ze.toString()+":")+(je<10?"0"+je.toString():je.toString())+":"+(ut<10?"0"+ut.toString():ut.toString())},formatUTC:function(ee,ze,je){var ut=arguments.length>3&&arguments[3]!==void 0&&arguments[3],At=new Date(1e3*ee),Mt=At.toLocaleDateString(ze),rn=At.toLocaleTimeString(ze,{hour12:je});return ut?rn+" "+Mt:rn},getVersion:yt,getDebug:function(){return Xe},getBufferLength:function(ee){var ze=[l.a.VIDEO,l.a.AUDIO,l.a.TEXT];if(ee){if(ze.indexOf(ee)!==-1){var je=Ht().getCurrentBufferLevel(ee);return je||NaN}return R.warn("getBufferLength requested for invalid type"),NaN}var ut=ze.map(function(At){return dn(At).length>0?Ht().getCurrentBufferLevel(At):Number.MAX_VALUE}).reduce(function(At,Mt){return Math.min(At,Mt)});return ut===Number.MAX_VALUE?NaN:ut},getTTMLRenderingDiv:function(){return et?et.getTTMLRenderingDiv():null},getVideoElement:Bt,getSource:function(){if(!C)throw"You must first call attachSource() with a valid source before calling this method";return C},updateSource:function(ee){C=ee,Qe.load(C)},getCurrentLiveLatency:function(){if(!Y)throw"MediaPlayer not initialized!";return G?ne.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(ee){if(!ce)throw Ye;return re.getTopBitrateInfoFor(ee)},setAutoPlay:Gt,getAutoPlay:function(){return ue},getDashMetrics:Ht,getQualityFor:function(ee){if(!ce)throw Ye;if(ee===l.a.IMAGE){var ze=hn();if(!ze)return-1;var je=ze.getThumbnailController();return je?je.getCurrentTrackIndex():-1}return re.getQualityFor(ee)},setQualityFor:function(ee,ze){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!ce)throw Ye;if(ee===l.a.IMAGE){var ut=hn();if(!ut)return;var At=ut.getThumbnailController();At&&At.setTrackByIndex(ze)}re.setPlaybackQuality(ee,Qe.getActiveStreamInfo(),ze,{forceReplace:je})},updatePortalSize:function(){re.setElementSize(),re.setWindowResizeEventCalled(!0)},enableText:function(ee){var ze=Qe.getActiveStreamInfo();return!(!ze||!B)&&B.enableText(ze.id,ee)},enableForcedTextStreaming:function(ee){return!(!Qe.getActiveStreamInfo()||!B)&&B.enableForcedTextStreaming(ee)},isTextEnabled:function(){var ee=Qe.getActiveStreamInfo();return!(!ee||!B)&&B.isTextEnabled(ee)},setTextTrack:function(ee){if(!G)throw Oe;var ze=Qe.getActiveStreamInfo();ze&&B&&B.setTextTrack(ze.id,ee)},getBitrateInfoListFor:function(ee){if(!ce)throw Ye;var ze=hn();return ze?ze.getBitrateListFor(ee):[]},getStreamsFromManifest:function(ee){if(!ce)throw Ye;return _e.getStreamsInfo(ee)},getTracksFor:dn,getTracksForTypeFromManifest:function(ee,ze,je){if(!ce)throw Ye;return(je=je||_e.getStreamsInfo(ze,1)[0])?_e.getAllMediaInfoForType(je,ee,ze):[]},getCurrentTrackFor:function(ee){if(!ce)throw Ye;var ze=Qe.getActiveStreamInfo();return se.getCurrentTrackFor(ee,ze.id)},setInitialMediaSettingsFor:function(ee,ze){if(!Y)throw"MediaPlayer not initialized!";se.setInitialSettings(ee,ze)},getInitialMediaSettingsFor:function(ee){if(!Y)throw"MediaPlayer not initialized!";return se.getInitialSettings(ee)},setCurrentTrack:function(ee){if(!ce)throw Ye;se.setTrack(ee)},addABRCustomRule:function(ee,ze,je){ye.addAbrCustomRule(ee,ze,je)},removeABRCustomRule:function(ee){ye.removeAbrCustomRule(ee)},removeAllABRCustomRule:function(){ye.removeAllAbrCustomRule()},getABRCustomRules:function(){return ye.getAbrCustomRules()},getAverageThroughput:function(ee){var ze=re.getThroughputHistory(),je=ne.getIsDynamic();return ze?ze.getAverageThroughput(ee,je):0},retrieveManifest:function(ee,ze){var je=pn(),ut=this;pt.on(c.a.INTERNAL_MANIFEST_LOADED,function At(Mt){Mt.error?ze(null,Mt.error):ze(Mt.manifest),pt.off(c.a.INTERNAL_MANIFEST_LOADED,At,ut),je.reset()},ut),gt.initialize(ee),je.load(ee)},addUTCTimingSource:function(ee,ze){ye.addUTCTimingSource(ee,ze)},removeUTCTimingSource:function(ee,ze){ye.removeUTCTimingSource(ee,ze)},clearDefaultUTCTimingSources:function(){ye.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Yt,setXHRWithCredentialsForType:function(ee,ze){ye.setXHRWithCredentialsForType(ee,ze)},getXHRWithCredentialsForType:function(ee){return ye.getXHRWithCredentialsForType(ee)},getProtectionController:function(){return Zt()},attachProtectionController:function(ee){he=ee},setProtectionData:function(ee){k=ee,Qe&&Qe.setProtectionData(k)},registerLicenseRequestFilter:function(ee){ye.registerLicenseRequestFilter(ee)},registerLicenseResponseFilter:function(ee){ye.registerLicenseResponseFilter(ee)},unregisterLicenseRequestFilter:function(ee){ye.unregisterLicenseRequestFilter(ee)},unregisterLicenseResponseFilter:function(ee){ye.unregisterLicenseResponseFilter(ee)},registerCustomCapabilitiesFilter:function(ee){ye.registerCustomCapabilitiesFilter(ee)},unregisterCustomCapabilitiesFilter:function(ee){ye.unregisterCustomCapabilitiesFilter(ee)},setCustomInitialTrackSelectionFunction:function(ee){ye.setCustomInitialTrackSelectionFunction(ee)},resetCustomInitialTrackSelectionFunction:function(){ye.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(ee){if(!et.getElement())throw nt;et.setTTMLRenderingDiv(ee)},getCurrentTextTrackIndex:function(){var ee=Qe.getActiveStreamInfo();if(ee&&B)return B.getCurrentTrackIdx(ee.id)},provideThumbnail:function(ee,ze){if(typeof ze=="function")if(ee<0)ze(null);else{var je=ne.getIsDynamic()?ct(ee):ee,ut=Qe.getStreamForTime(je);if(ut!==null){var At=ut.getThumbnailController();if(At)return At.provide(je,ze);ze(null)}else ze(null)}},getDashAdapter:function(){return _e},getOfflineController:function(){return Tn()},getSettings:function(){return Fe.get()},updateSettings:function(ee){Fe.update(ee)},resetSettings:function(){Fe.reset()},reset:rt,destroy:function(){rt(),p.a.deleteSingletonInstances(it)}},R=Xe.getLogger(O),Y=!1,G=!1,ce=!1,ue=!0,he=null,be=null,k=null,_e=null,ft=null,c.a.extend(g.a),fe=Fg(it).getInstance(),ye=Object(Py.a)(it).getInstance(),et=qg(it).getInstance(),gt=Lg(it).getInstance(),O}Qu.__dashjs_factory_name="MediaPlayer";var Ts=p.a.getClassFactory(Qu);Ts.events=g.a,Ts.errors=N.a,p.a.updateClassFactory(Qu.__dashjs_factory_name,Ts),r.a=Ts},function(n,r,i){i.d(r,"a",function(){return o});function o(){return"4.4.0"}},function(n,r,i){var o,u,l,f,d,m={encode:function(p){for(var T=[],g=0;g<p.length;++g){var D=p.charCodeAt(g);D<128?T.push(D):D<2048?(T.push(192|D>>6),T.push(128|63&D)):D<65536?(T.push(224|D>>12),T.push(128|63&D>>6),T.push(128|63&D)):(T.push(240|D>>18),T.push(128|63&D>>12),T.push(128|63&D>>6),T.push(128|63&D))}return T},decode:function(p){for(var T=[],g=0;g<p.length;){var D=p[g++];D<128||(D<224?(D=(31&D)<<6,D|=63&p[g++]):D<240?(D=(15&D)<<12,D|=(63&p[g++])<<6,D|=63&p[g++]):(D=(7&D)<<18,D|=(63&p[g++])<<12,D|=(63&p[g++])<<6,D|=63&p[g++])),T.push(String.fromCharCode(D))}return T.join("")}},c={};o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(p){for(var T=0,g=[],D=0|p.length/3;0<D--;){var v=(p[T]<<16)+(p[T+1]<<8)+p[T+2];T+=3,g.push(o.charAt(63&v>>18)),g.push(o.charAt(63&v>>12)),g.push(o.charAt(63&v>>6)),g.push(o.charAt(63&v))}return p.length-T==2?(v=(p[T]<<16)+(p[T+1]<<8),g.push(o.charAt(63&v>>18)),g.push(o.charAt(63&v>>12)),g.push(o.charAt(63&v>>6)),g.push("=")):p.length-T==1&&(v=p[T]<<16,g.push(o.charAt(63&v>>18)),g.push(o.charAt(63&v>>12)),g.push("==")),g.join("")},l=function(){for(var p=[],T=0;T<o.length;++T)p[o.charCodeAt(T)]=T;return p["=".charCodeAt(0)]=0,p}(),f=function(p){for(var T=0,g=[],D=0|p.length/4;0<D--;){var v=(l[p.charCodeAt(T)]<<18)+(l[p.charCodeAt(T+1)]<<12)+(l[p.charCodeAt(T+2)]<<6)+l[p.charCodeAt(T+3)];g.push(255&v>>16),g.push(255&v>>8),g.push(255&v),T+=4}return g&&(p.charAt(T-2)=="="?(g.pop(),g.pop()):p.charAt(T-1)=="="&&g.pop()),g},d={encode:function(p){for(var T=[],g=0;g<p.length;++g)T.push(p.charCodeAt(g));return T},decode:function(p){for(var T=0;T<s.length;++T)a[T]=String.fromCharCode(a[T]);return a.join("")}},c.decodeArray=function(p){var T=f(p);return new Uint8Array(T)},c.encodeASCII=function(p){var T=d.encode(p);return u(T)},c.decodeASCII=function(p){var T=f(p);return d.decode(T)},c.encode=function(p){var T=m.encode(p);return u(T)},c.decode=function(p){var T=f(p);return m.decode(T)},r.decode=c.decode,r.decodeArray=c.decodeArray,r.encode=c.encode,r.encodeASCII=c.encodeASCII},,function(n,r,i){var o=i(1),u=i(3),l=i(4),f=i(12);function d(m){var c,p,T,g,D,v=(m=m||{}).eventBus,w=m.events,A=m.abrController,N=m.dashMetrics,H=m.playbackController,S=m.timelineConverter,M=m.type,F=m.streamInfo,ie=m.dashConstants,Ee=m.segmentsController,Be=m.isDynamic;function Le(){return M}function X(){if(!(A&&N&&H&&S))throw new Error(o.a.MISSING_CONFIG_ERROR)}function P(){return T}function J(){return D}function oe(){p=null,T=!0,g=[]}function te(K){return new Promise(function(Ue,$e){var ot=K.hasInitialization(),He=K.hasSegments(),q=[];q.push(Ee.updateInitData(K,ot)),q.push(Ee.updateSegmentData(K,He)),Promise.all(q).then(function(U){var x;U[0]&&!U[0].error&&(K=function(h,y){return!y||y.error||!y.representation?h:y.representation}(K,U[0])),U[1]&&!U[1].error&&(K=function(h,y){if(!(!y||y.error)){var _,E,I,L,Z=y.segments,b=[],V=0;for(_=0,E=Z?Z.length:0;_<E;_++)I=Z[_],(L=Object(f.b)(S,Be,h,I.startTime,I.duration,I.timescale,I.media,I.mediaRange,V))&&(b.push(L),L=null,V++);return b.length>0&&(h.segments=b),h}}(K,U[1])),(x=K).mediaFinishedInformation=Ee.getMediaFinishedInformation(x),function(h){if(P()){var y,_=N.getCurrentManifestUpdate(),E=!1;if(_){for(var I=0;I<_.representationInfo.length;I++)if((y=_.representationInfo[I]).index===h.index&&y.mediaType===Le()){E=!0;break}E||N.addManifestUpdateRepresentationInfo(h,Le())}if(function(){for(var b=0,V=g.length;b<V;b++){var le=g[b].segmentInfoType;if(!g[b].hasInitialization()||(le===ie.SEGMENT_BASE||le===ie.BASE_URL)&&!g[b].segments)return!1}return!0}()){A.setPlaybackQuality(M,F,(Z=D,g.indexOf(Z)));var L=N.getCurrentDVRInfo(M);L&&N.updateManifestUpdateInfo({latency:L.range.end-H.getTime()}),N.getCurrentRepresentationSwitch(J().adaptation.type)||ve(),Ke()}var Z}}(K),Ue()}).catch(function(U){$e(U)})})}function ve(){X();var K=new Date,Ue=J(),$e=1e3*H.getTime();Ue&&N.addRepresentationSwitch(Ue.adaptation.type,K,$e,Ue.id),v.trigger(l.a.REPRESENTATION_SWITCH,{mediaType:M,streamId:F.id,currentRepresentation:Ue,numberOfRepresentations:g.length},{streamId:F.id,mediaType:M})}function Ge(K){return K==null||K>=g.length?null:g[K]}function Ke(K){T=!1,v.trigger(w.DATA_UPDATE_COMPLETED,{data:p,currentRepresentation:D,error:K},{streamId:F.id,mediaType:M})}function We(K){D=K}function $(K){if(K.newDuration){var Ue=J();Ue&&Ue.adaptation.period&&(Ue.adaptation.period.duration=K.newDuration)}}return c={getStreamId:function(){return F.id},getType:Le,getData:function(){return p},isUpdating:P,updateData:function(K,Ue,$e,ot,He){if(X(),T=!0,g=Ue,We(Ge(He)),p=K,$e!==o.a.VIDEO&&$e!==o.a.AUDIO&&($e!==o.a.TEXT||!ot))return Ke(),Promise.resolve();for(var q=[],U=0,x=g.length;U<x;U++){var h=g[U];q.push(te(h))}return Promise.all(q)},getCurrentRepresentation:J,getRepresentationForQuality:Ge,prepareQualityChange:function(K){We(Ge(K)),ve()},reset:function(){v.off(l.a.MANIFEST_VALIDITY_CHANGED,$,c),oe()}},oe(),v.on(l.a.MANIFEST_VALIDITY_CHANGED,$,c),c}d.__dashjs_factory_name="RepresentationController",r.a=u.a.getClassFactory(d)},function(n,r,i){r.a=function o(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null}},function(n,r,i){var o=Array.isArray,u=Object.keys,l=Object.prototype.hasOwnProperty;n.exports=function f(d,m){if(d===m)return!0;if(d&&m&&typeof d=="object"&&typeof m=="object"){var c,p,T,g=o(d),D=o(m);if(g&&D){if((p=d.length)!=m.length)return!1;for(c=p;c--!=0;)if(!f(d[c],m[c]))return!1;return!0}if(g!=D)return!1;var v=d instanceof Date,w=m instanceof Date;if(v!=w)return!1;if(v&&w)return d.getTime()==m.getTime();var A=d instanceof RegExp,N=m instanceof RegExp;if(A!=N)return!1;if(A&&N)return d.toString()==m.toString();var H=u(d);if((p=H.length)!==u(m).length)return!1;for(c=p;c--!=0;)if(!l.call(m,H[c]))return!1;for(c=p;c--!=0;)if(!f(d[T=H[c]],m[T]))return!1;return!0}return d!=d&&m!=m}},function(n,r,i){var o=i(3);function u(ae){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function l(ae){function Q(Me,Te){for(var tt in Me)Te.hasOwnProperty(tt)||(Te[tt]=Me[tt])}function pe(Me,Te,tt){for(var ht=0,St=Me.length;ht<St;++ht){var It=Me[ht];if(Te[It.name])if(tt[It.name]){if(It.merge){var bt=Te[It.name],Nt=tt[It.name];u(bt)==="object"&&u(Nt)==="object"?Q(bt,Nt):tt[It.name]=bt+Nt}}else tt[It.name]=Te[It.name]}}function De(Me,Te){for(var tt=0,ht=Me.children.length;tt<ht;++tt){var St=Me.children[tt],It=Te[St.name+"_asArray"];if(It)for(var bt=0,Nt=It.length;bt<Nt;++bt){var wt=It[bt];pe(Me.properties,Te,wt),De(St,wt)}}}return{run:function(Me){if(Me===null||u(Me)!=="object")return Me;if(Me.Period_asArray&&"period"in ae)for(var Te=ae.period,tt=Me.Period_asArray,ht=0,St=tt.length;ht<St;++ht){var It=tt[ht];if(De(Te,It),"adaptationset"in ae){var bt=It.AdaptationSet_asArray;if(bt)for(var Nt=ae.adaptationset,wt=0,Dt=bt.length;wt<Dt;++wt)De(Nt,bt[wt])}}return Me}}}l.__dashjs_factory_name="ObjectIron";var f=o.a.getClassFactory(l),d=i(45);function m(ae,Q){for(var pe=0;pe<Q.length;pe++){var De=Q[pe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ae,De.key,De)}}var c=function(){function ae(De,Me){(function(Te,tt){if(!(Te instanceof tt))throw new TypeError("Cannot call a class as a function")})(this,ae),this._test=De,this._converter=Me}var Q,pe;return Q=ae,(pe=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&m(Q.prototype,pe),ae}(),p=i(0);function T(ae){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function g(ae,Q,pe){return Q in ae?Object.defineProperty(ae,Q,{value:pe,enumerable:!0,configurable:!0,writable:!0}):ae[Q]=pe,ae}function D(ae,Q){return(D=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function v(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=A(ae);if(Q){var Me=A(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return w(this,pe)}}function w(ae,Q){return!Q||T(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function A(ae){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var N=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&D(De,Me)})(pe,ae);var Q=v(pe);function pe(){return function(De,Me){if(!(De instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,pe),Q.call(this,function(De,Me){var Te,tt=(g(Te={},p.a.MPD,[p.a.ID,p.a.PROFILES]),g(Te,p.a.PERIOD,[p.a.ID]),g(Te,p.a.BASE_URL,[p.a.SERVICE_LOCATION,p.a.BYTE_RANGE]),g(Te,p.a.SEGMENT_BASE,[p.a.INDEX_RANGE]),g(Te,p.a.INITIALIZATION,[p.a.RANGE]),g(Te,p.a.REPRESENTATION_INDEX,[p.a.RANGE]),g(Te,p.a.SEGMENT_LIST,[p.a.INDEX_RANGE]),g(Te,p.a.BITSTREAM_SWITCHING,[p.a.RANGE]),g(Te,p.a.SEGMENT_URL,[p.a.MEDIA_RANGE,p.a.INDEX_RANGE]),g(Te,p.a.SEGMENT_TEMPLATE,[p.a.INDEX_RANGE,p.a.MEDIA,p.a.INDEX,p.a.INITIALIZATION_MINUS,p.a.BITSTREAM_SWITCHING_MINUS]),g(Te,p.a.ASSET_IDENTIFIER,[p.a.VALUE,p.a.ID]),g(Te,p.a.EVENT_STREAM,[p.a.VALUE]),g(Te,p.a.ADAPTATION_SET,[p.a.PROFILES,p.a.MIME_TYPE,p.a.SEGMENT_PROFILES,p.a.CODECS,p.a.CONTENT_TYPE]),g(Te,p.a.FRAME_PACKING,[p.a.VALUE,p.a.ID]),g(Te,p.a.AUDIO_CHANNEL_CONFIGURATION,[p.a.VALUE,p.a.ID]),g(Te,p.a.CONTENT_PROTECTION,[p.a.VALUE,p.a.ID]),g(Te,p.a.ESSENTIAL_PROPERTY,[p.a.VALUE,p.a.ID]),g(Te,p.a.SUPPLEMENTAL_PROPERTY,[p.a.VALUE,p.a.ID]),g(Te,p.a.INBAND_EVENT_STREAM,[p.a.VALUE,p.a.ID]),g(Te,p.a.ACCESSIBILITY,[p.a.VALUE,p.a.ID]),g(Te,p.a.ROLE,[p.a.VALUE,p.a.ID]),g(Te,p.a.RATING,[p.a.VALUE,p.a.ID]),g(Te,p.a.VIEWPOINT,[p.a.VALUE,p.a.ID]),g(Te,p.a.CONTENT_COMPONENT,[p.a.CONTENT_TYPE]),g(Te,p.a.REPRESENTATION,[p.a.ID,p.a.DEPENDENCY_ID,p.a.MEDIA_STREAM_STRUCTURE_ID]),g(Te,p.a.SUBSET,[p.a.ID]),g(Te,p.a.METRICS,[p.a.METRICS_MINUS]),g(Te,p.a.REPORTING,[p.a.VALUE,p.a.ID]),Te);if(tt.hasOwnProperty(Me)){var ht=tt[Me];return ht!==void 0&&ht.indexOf(De.name)>=0}return!1},function(De){return String(De)})}return pe}(c),H=i(1);function S(ae){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function M(ae,Q){return(M=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function F(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=Ee(ae);if(Q){var Me=Ee(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return ie(this,pe)}}function ie(ae,Q){return!Q||S(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function Ee(ae){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var Be=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,Le=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&M(De,Me)})(pe,ae);var Q=F(pe);function pe(){return function(De,Me){if(!(De instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,pe),Q.call(this,function(De){for(var Me=[p.a.MIN_BUFFER_TIME,p.a.MEDIA_PRESENTATION_DURATION,p.a.MINIMUM_UPDATE_PERIOD,p.a.TIMESHIFT_BUFFER_DEPTH,p.a.MAX_SEGMENT_DURATION,p.a.MAX_SUBSEGMENT_DURATION,p.a.SUGGESTED_PRESENTATION_DELAY,p.a.START,H.a.START_TIME,p.a.DURATION],Te=Me.length,tt=0;tt<Te;tt++)if(De.nodeName===Me[tt])return Be.test(De.value);return!1},function(De){var Me=Be.exec(De),Te=31536e3*parseFloat(Me[3]||0)+2592e3*parseFloat(Me[5]||0)+86400*parseFloat(Me[7]||0)+3600*parseFloat(Me[9]||0)+60*parseFloat(Me[11]||0)+parseFloat(Me[13]||0);return Me[1]!==void 0&&(Te=-Te),Te})}return pe}(c);function X(ae){return(X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function P(ae,Q){return(P=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function J(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=te(ae);if(Q){var Me=te(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return oe(this,pe)}}function oe(ae,Q){return!Q||X(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function te(ae){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var ve=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Ge=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&P(De,Me)})(pe,ae);var Q=J(pe);function pe(){return function(De,Me){if(!(De instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,pe),Q.call(this,function(De){return ve.test(De.value)},function(De){var Me,Te=ve.exec(De);if(Me=Date.UTC(parseInt(Te[1],10),parseInt(Te[2],10)-1,parseInt(Te[3],10),parseInt(Te[4],10),parseInt(Te[5],10),Te[6]&&parseInt(Te[6],10)||0,Te[7]&&1e3*parseFloat(Te[7])||0),Te[9]&&Te[10]){var tt=60*parseInt(Te[9],10)+parseInt(Te[10],10);Me+=(Te[8]==="+"?-1:1)*tt*60*1e3}return new Date(Me)})}return pe}(c);function Ke(ae){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function We(ae,Q){return(We=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function $(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=Ue(ae);if(Q){var Me=Ue(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return K(this,pe)}}function K(ae,Q){return!Q||Ke(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function Ue(ae){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var $e=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,ot=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&We(De,Me)})(pe,ae);var Q=$(pe);function pe(){return function(De,Me){if(!(De instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,pe),Q.call(this,function(De){return $e.test(De.value)},function(De){return parseFloat(De)})}return pe}(c);function He(ae,Q){for(var pe=0;pe<Q.length;pe++){var De=Q[pe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ae,De.key,De)}}var q=function(){function ae(De){(function(Te,tt){if(!(Te instanceof tt))throw new TypeError("Cannot call a class as a function")})(this,ae);var Me;this._name=De,this._merge=(Me=De)&&Me.length&&Me.charAt(0)===Me.charAt(0).toUpperCase()}var Q,pe;return Q=ae,(pe=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&He(Q.prototype,pe),ae}();function U(ae,Q){for(var pe=0;pe<Q.length;pe++){var De=Q[pe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ae,De.key,De)}}var x=function(){function ae(De,Me,Te){var tt=this;(function(ht,St){if(!(ht instanceof St))throw new TypeError("Cannot call a class as a function")})(this,ae),this._name=De||"",this._properties=[],this._children=Te||[],Array.isArray(Me)&&Me.forEach(function(ht){tt._properties.push(new q(ht))})}var Q,pe;return Q=ae,(pe=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&U(Q.prototype,pe),ae}();function h(ae){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function y(ae,Q){return(y=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function _(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=I(ae);if(Q){var Me=I(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return E(this,pe)}}function E(ae,Q){return!Q||h(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function I(ae){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var L=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&y(De,Me)})(pe,ae);var Q=_(pe);function pe(){(function(Me,Te){if(!(Me instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,pe);var De=[p.a.PROFILES,p.a.WIDTH,p.a.HEIGHT,p.a.SAR,p.a.FRAMERATE,p.a.AUDIO_SAMPLING_RATE,p.a.MIME_TYPE,p.a.SEGMENT_PROFILES,p.a.CODECS,p.a.MAXIMUM_SAP_PERIOD,p.a.START_WITH_SAP,p.a.MAX_PLAYOUT_RATE,p.a.CODING_DEPENDENCY,p.a.SCAN_TYPE,p.a.FRAME_PACKING,p.a.AUDIO_CHANNEL_CONFIGURATION,p.a.CONTENT_PROTECTION,p.a.ESSENTIAL_PROPERTY,p.a.SUPPLEMENTAL_PROPERTY,p.a.INBAND_EVENT_STREAM];return Q.call(this,p.a.ADAPTATION_SET,De,[new x(p.a.REPRESENTATION,De,[new x(p.a.SUB_REPRESENTATION,De)])])}return pe}(x);function Z(ae){return(Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ae)}function b(ae,Q){return(b=Object.setPrototypeOf||function(pe,De){return pe.__proto__=De,pe})(ae,Q)}function V(ae){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,De=Ie(ae);if(Q){var Me=Ie(this).constructor;pe=Reflect.construct(De,arguments,Me)}else pe=De.apply(this,arguments);return le(this,pe)}}function le(ae,Q){return!Q||Z(Q)!=="object"&&typeof Q!="function"?function(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}(ae):Q}function Ie(ae){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ae)}var me=function(ae){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Me&&b(De,Me)})(pe,ae);var Q=V(pe);function pe(){(function(Me,Te){if(!(Me instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,pe);var De=[p.a.SEGMENT_BASE,p.a.SEGMENT_TEMPLATE,p.a.SEGMENT_LIST];return Q.call(this,p.a.PERIOD,De,[new x(p.a.ADAPTATION_SET,De,[new x(p.a.REPRESENTATION,De)])])}return pe}(x);function ke(ae){ae=ae||{};var Q,pe,De,Me,Te,tt=this.context,ht=ae.debug;return Q={parse:function(St){var It,bt=window.performance.now();if(!(It=Me.xml_str2json(St)))throw new Error("parsing the manifest failed");var Nt=window.performance.now();It.Patch?((It=It.Patch).add_asArray&&It.add_asArray.forEach(function(Dt){return Te.run(Dt)}),It.replace_asArray&&It.replace_asArray.forEach(function(Dt){return Te.run(Dt)})):(It=It.MPD,Te.run(It));var wt=window.performance.now();return pe.info("Parsing complete: ( xml2json: "+(Nt-bt).toPrecision(3)+"ms, objectiron: "+(wt-Nt).toPrecision(3)+"ms, total: "+((wt-bt)/1e3).toPrecision(3)+"s)"),It.protocol="DASH",It},getMatchers:function(){return De},getIron:function(){return Te}},pe=ht.getLogger(Q),De=[new Le,new Ge,new ot,new N],Me=new d.a({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:De}),Te=f(tt).create({adaptationset:new L,period:new me}),Q}ke.__dashjs_factory_name="DashParser",r.a=o.a.getClassFactory(ke)},function(n,r,i){var o=i(1),u=i(21);function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function f(v,w){return(f=Object.setPrototypeOf||function(A,N){return A.__proto__=N,A})(v,w)}function d(v){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,N=c(v);if(w){var H=c(this).constructor;A=Reflect.construct(N,arguments,H)}else A=N.apply(this,arguments);return m(this,A)}}function m(v,w){return!w||l(w)!=="object"&&typeof w!="function"?function(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(v):w}function c(v){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}var p=function(v){(function(N,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(H&&H.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),H&&f(N,H)})(A,v);var w=d(A);function A(N){var H;return function(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}(this,A),(H=w.call(this,N)).checkForExistenceOnly=!0,H}return A}(i(17).a),T=i(10),g=i(3);function D(v){v=v||{};var w,A,N=this.context,H=v.eventBus,S=v.events,M=v.urlUtils,F=v.errors,ie=v.streamId;return w={checkForExistence:function(Ee){var Be=function(X){H.trigger(S.CHECK_FOR_EXISTENCE_COMPLETED,{request:Ee,exists:X})};if(Ee){var Le=new p(Ee.url);A.load({request:Le,success:function(){Be(!0)},error:function(){Be(!1)}})}else Be(!1)},load:function(Ee){var Be=function(Le,X){H.trigger(S.LOADING_COMPLETED,{request:Ee,response:Le||null,error:X||null,sender:w})};Ee?A.load({request:Ee,progress:function(Le){H.trigger(S.LOADING_PROGRESS,{request:Ee,stream:Le.stream,streamId:ie}),Le.data&&H.trigger(S.LOADING_DATA_PROGRESS,{request:Ee,response:Le.data||null,error:null,sender:w})},success:function(Le){Be(Le)},error:function(Le,X,P){Be(void 0,new T.a(F.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,P,X))},abort:function(Le){Le&&H.trigger(S.LOADING_ABANDONED,{mediaType:Le.mediaType,request:Le,sender:w})}}):Be(void 0,new T.a(F.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,F.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){A&&A.abort()},reset:function(){A&&(A.abort(),A=null)}},A=Object(u.a)(N).create({errHandler:v.errHandler,errors:F,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,urlUtils:M,constants:o.a,boxParser:v.boxParser,dashConstants:v.dashConstants,requestTimeout:v.settings.get().streaming.fragmentRequestTimeout}),w}D.__dashjs_factory_name="FragmentLoader",r.a=g.a.getClassFactory(D)},function(n,r,i){(function(o,u,l){function f(c,p,T,g,D,v,w,A){this.name=p,this.ns=c,this.qname=c+" "+p,this.inherit=D,this.animatable=v,this.initial=T,this.applies=g,this.parse=w,this.compute=A}for(var d in o.all=[new f(u.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,l.parseColor,null),new f(u.ns_tts,"color","white",["span"],!0,!0,l.parseColor,null),new f(u.ns_tts,"direction","ltr",["p","span"],!0,!0,function(c){return c},null),new f(u.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(c){return c},null),new f(u.ns_tts,"displayAlign","before",["region"],!1,!0,function(c){return c},null),new f(u.ns_tts,"extent","auto",["tt","region"],!1,!0,function(c){if(c==="auto")return c;var p=c.split(" ");if(p.length!==2)return null;var T=l.parseLength(p[0]),g=l.parseLength(p[1]);return g&&T?{h:g,w:T}:null},function(c,p,T,g,D){var v,w;if(g==="auto")v=1;else if(g.h.unit==="%")v=g.h.value/100;else{if(g.h.unit!=="px")return null;v=g.h.value/c.pxDimensions.h}if(g==="auto")w=1;else if(g.w.unit==="%")w=g.w.value/100;else{if(g.w.unit!=="px")return null;w=g.w.value/c.pxDimensions.w}return{h:v,w}}),new f(u.ns_tts,"fontFamily","default",["span"],!0,!0,function(c){var p=c.split(","),T=[];for(var g in p)p[g].charAt(0)!=="'"&&p[g].charAt(0)!=='"'&&p[g]==="default"?T.push("monospaceSerif"):T.push(p[g]);return T},null),new f(u.ns_tts,"fontSize","1c",["span"],!0,!0,l.parseLength,function(c,p,T,g,D){var v;if(g.unit==="%")v=p!==null?p.styleAttrs[o.byName.fontSize.qname]*g.value/100:g.value/100/c.cellResolution.h;else if(g.unit==="em")v=p!==null?p.styleAttrs[o.byName.fontSize.qname]*g.value:g.value/c.cellResolution.h;else if(g.unit==="c")v=g.value/c.cellResolution.h;else{if(g.unit!=="px")return null;v=g.value/c.pxDimensions.h}return v}),new f(u.ns_tts,"fontStyle","normal",["span"],!0,!0,function(c){return c},null),new f(u.ns_tts,"fontWeight","normal",["span"],!0,!0,function(c){return c},null),new f(u.ns_tts,"lineHeight","normal",["p"],!0,!0,function(c){return c==="normal"?c:l.parseLength(c)},function(c,p,T,g,D){var v;if(g==="normal")v=g;else if(g.unit==="%")v=T.styleAttrs[o.byName.fontSize.qname]*g.value/100;else if(g.unit==="em")v=T.styleAttrs[o.byName.fontSize.qname]*g.value;else if(g.unit==="c")v=g.value/c.cellResolution.h;else{if(g.unit!=="px")return null;v=g.value/c.pxDimensions.h}return v}),new f(u.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new f(u.ns_tts,"origin","auto",["region"],!1,!0,function(c){if(c==="auto")return c;var p=c.split(" ");if(p.length!==2)return null;var T=l.parseLength(p[0]),g=l.parseLength(p[1]);return g&&T?{h:g,w:T}:null},function(c,p,T,g,D){var v,w;if(g==="auto")v=0;else if(g.h.unit==="%")v=g.h.value/100;else{if(g.h.unit!=="px")return null;v=g.h.value/c.pxDimensions.h}if(g==="auto")w=0;else if(g.w.unit==="%")w=g.w.value/100;else{if(g.w.unit!=="px")return null;w=g.w.value/c.pxDimensions.w}return{h:v,w}}),new f(u.ns_tts,"overflow","hidden",["region"],!1,!0,function(c){return c},null),new f(u.ns_tts,"padding","0px",["region"],!1,!0,function(c){var p=c.split(" ");if(p.length>4)return null;var T=[];for(var g in p){var D=l.parseLength(p[g]);if(!D)return null;T.push(D)}return T},function(c,p,T,g,D){var v;if(g.length===1)v=[g[0],g[0],g[0],g[0]];else if(g.length===2)v=[g[0],g[1],g[0],g[1]];else if(g.length===3)v=[g[0],g[1],g[2],g[1]];else{if(g.length!==4)return null;v=[g[0],g[1],g[2],g[3]]}var w=T.styleAttrs[o.byName.writingMode.qname];if(w==="lrtb"||w==="lr")v=[v[0],v[3],v[2],v[1]];else if(w==="rltb"||w==="rl")v=[v[0],v[1],v[2],v[3]];else if(w==="tblr")v=[v[3],v[0],v[1],v[2]];else{if(w!=="tbrl"&&w!=="tb")return null;v=[v[3],v[2],v[1],v[0]]}var A=[];for(var N in v)if(v[N].value===0)A[N]=0;else if(v[N].unit==="%")A[N]=N==="0"||N==="2"?T.styleAttrs[o.byName.extent.qname].h*v[N].value/100:T.styleAttrs[o.byName.extent.qname].w*v[N].value/100;else if(v[N].unit==="em")A[N]=T.styleAttrs[o.byName.fontSize.qname]*v[N].value;else if(v[N].unit==="c")A[N]=v[N].value/c.cellResolution.h;else{if(v[N].unit!=="px")return null;A[N]=N==="0"||N==="2"?v[N].value/c.pxDimensions.h:v[N].value/c.pxDimensions.w}return A}),new f(u.ns_tts,"showBackground","always",["region"],!1,!0,function(c){return c},null),new f(u.ns_tts,"textAlign","start",["p"],!0,!0,function(c){return c},function(c,p,T,g,D){return g==="left"?"start":g==="right"?"end":g}),new f(u.ns_tts,"textDecoration","none",["span"],!0,!0,function(c){return c.split(" ")},null),new f(u.ns_tts,"textOutline","none",["span"],!0,!0,function(c){if(c==="none")return c;var p={},T=c.split(" ");if(T.length===0||T.length>2)return null;var g=l.parseColor(T[0]);if(p.color=g,g!==null&&T.shift(),T.length!==1)return null;var D=l.parseLength(T[0]);return D?(p.thickness=D,p):null},function(c,p,T,g,D){if(g==="none")return g;var v={};if(g.color===null?v.color=T.styleAttrs[o.byName.color.qname]:v.color=g.color,g.thickness.unit==="%")v.thickness=T.styleAttrs[o.byName.fontSize.qname]*g.thickness.value/100;else if(g.thickness.unit==="em")v.thickness=T.styleAttrs[o.byName.fontSize.qname]*g.thickness.value;else if(g.thickness.unit==="c")v.thickness=g.thickness.value/c.cellResolution.h;else{if(g.thickness.unit!=="px")return null;v.thickness=g.thickness.value/c.pxDimensions.h}return v}),new f(u.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(c){return c},null),new f(u.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(c){return c},null),new f(u.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(c){return c},null),new f(u.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(c){return c},null),new f(u.ns_tts,"zIndex","auto",["region"],!1,!0,function(c){var p;return c==="auto"?p=c:(p=parseInt(c),isNaN(p)&&(p=null)),p},null),new f(u.ns_ebutts,"linePadding","0c",["p"],!0,!1,l.parseLength,function(c,p,T,g,D){return g.unit==="c"?g.value/c.cellResolution.h:null}),new f(u.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(c){return c},null),new f(u.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(c){return c},null),new f(u.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(c){return c==="true"},null),new f(u.ns_itts,"fillLineGap","false",["p"],!0,!0,function(c){return c==="true"},null)],o.byQName={},o.all)o.byQName[o.all[d].qname]=o.all[d];for(var m in o.byName={},o.all)o.byName[o.all[m].name]=o.all[m]})(r,typeof imscNames>"u"?i(51):imscNames,typeof imscUtils>"u"?i(69):imscUtils)},function(n,r,i){(function(o){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var u=i(81),l=i(82),f=i(70);function d(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(h,y){if(d()<y)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(h=new Uint8Array(y)).__proto__=c.prototype:(h===null&&(h=new c(y)),h.length=y),h}function c(h,y,_){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(h,y,_);if(typeof h=="number"){if(typeof y=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(this,h)}return p(this,h,y,_)}function p(h,y,_,E){if(typeof y=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&y instanceof ArrayBuffer?function(I,L,Z,b){if(L.byteLength,Z<0||L.byteLength<Z)throw new RangeError("'offset' is out of bounds");if(L.byteLength<Z+(b||0))throw new RangeError("'length' is out of bounds");return L=Z===void 0&&b===void 0?new Uint8Array(L):b===void 0?new Uint8Array(L,Z):new Uint8Array(L,Z,b),c.TYPED_ARRAY_SUPPORT?(I=L).__proto__=c.prototype:I=D(I,L),I}(h,y,_,E):typeof y=="string"?function(I,L,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!c.isEncoding(Z))throw new TypeError('"encoding" must be a valid string encoding');var b=0|w(L,Z),V=(I=m(I,b)).write(L,Z);return V!==b&&(I=I.slice(0,V)),I}(h,y,_):function(I,L){if(c.isBuffer(L)){var Z=0|v(L.length);return(I=m(I,Z)).length===0||L.copy(I,0,0,Z),I}if(L){if(typeof ArrayBuffer<"u"&&L.buffer instanceof ArrayBuffer||"length"in L)return typeof L.length!="number"||(b=L.length)!=b?m(I,0):D(I,L);if(L.type==="Buffer"&&f(L.data))return D(I,L.data)}var b;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(h,y)}function T(h){if(typeof h!="number")throw new TypeError('"size" argument must be a number');if(h<0)throw new RangeError('"size" argument must not be negative')}function g(h,y){if(T(y),h=m(h,y<0?0:0|v(y)),!c.TYPED_ARRAY_SUPPORT)for(var _=0;_<y;++_)h[_]=0;return h}function D(h,y){var _=y.length<0?0:0|v(y.length);h=m(h,_);for(var E=0;E<_;E+=1)h[E]=255&y[E];return h}function v(h){if(h>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|h}function w(h,y){if(c.isBuffer(h))return h.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(h)||h instanceof ArrayBuffer))return h.byteLength;typeof h!="string"&&(h=""+h);var _=h.length;if(_===0)return 0;for(var E=!1;;)switch(y){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":case void 0:return q(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_;case"hex":return _>>>1;case"base64":return U(h).length;default:if(E)return q(h).length;y=(""+y).toLowerCase(),E=!0}}function A(h,y,_){var E=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0)<=(y>>>=0))return"";for(h||(h="utf8");;)switch(h){case"hex":return te(this,y,_);case"utf8":case"utf-8":return P(this,y,_);case"ascii":return J(this,y,_);case"latin1":case"binary":return oe(this,y,_);case"base64":return X(this,y,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,y,_);default:if(E)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),E=!0}}function N(h,y,_){var E=h[y];h[y]=h[_],h[_]=E}function H(h,y,_,E,I){if(h.length===0)return-1;if(typeof _=="string"?(E=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,isNaN(_)&&(_=I?0:h.length-1),_<0&&(_=h.length+_),_>=h.length){if(I)return-1;_=h.length-1}else if(_<0){if(!I)return-1;_=0}if(typeof y=="string"&&(y=c.from(y,E)),c.isBuffer(y))return y.length===0?-1:S(h,y,_,E,I);if(typeof y=="number")return y&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(h,y,_):Uint8Array.prototype.lastIndexOf.call(h,y,_):S(h,[y],_,E,I);throw new TypeError("val must be string, number or Buffer")}function S(h,y,_,E,I){var L,Z=1,b=h.length,V=y.length;if(E!==void 0&&((E=String(E).toLowerCase())==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(h.length<2||y.length<2)return-1;Z=2,b/=2,V/=2,_/=2}function le(ae,Q){return Z===1?ae[Q]:ae.readUInt16BE(Q*Z)}if(I){var Ie=-1;for(L=_;L<b;L++)if(le(h,L)===le(y,Ie===-1?0:L-Ie)){if(Ie===-1&&(Ie=L),L-Ie+1===V)return Ie*Z}else Ie!==-1&&(L-=L-Ie),Ie=-1}else for(_+V>b&&(_=b-V),L=_;L>=0;L--){for(var me=!0,ke=0;ke<V;ke++)if(le(h,L+ke)!==le(y,ke)){me=!1;break}if(me)return L}return-1}function M(h,y,_,E){_=Number(_)||0;var I=h.length-_;E?(E=Number(E))>I&&(E=I):E=I;var L=y.length;if(L%2!=0)throw new TypeError("Invalid hex string");E>L/2&&(E=L/2);for(var Z=0;Z<E;++Z){var b=parseInt(y.substr(2*Z,2),16);if(isNaN(b))return Z;h[_+Z]=b}return Z}function F(h,y,_,E){return x(q(y,h.length-_),h,_,E)}function ie(h,y,_,E){return x(function(I){for(var L=[],Z=0;Z<I.length;++Z)L.push(255&I.charCodeAt(Z));return L}(y),h,_,E)}function Ee(h,y,_,E){return ie(h,y,_,E)}function Be(h,y,_,E){return x(U(y),h,_,E)}function Le(h,y,_,E){return x(function(I,L){for(var Z,b,V,le=[],Ie=0;Ie<I.length&&!((L-=2)<0);++Ie)Z=I.charCodeAt(Ie),b=Z>>8,V=Z%256,le.push(V),le.push(b);return le}(y,h.length-_),h,_,E)}function X(h,y,_){return y===0&&_===h.length?u.fromByteArray(h):u.fromByteArray(h.slice(y,_))}function P(h,y,_){_=Math.min(h.length,_);for(var E=[],I=y;I<_;){var L,Z,b,V,le=h[I],Ie=null,me=le>239?4:le>223?3:le>191?2:1;if(I+me<=_)switch(me){case 1:le<128&&(Ie=le);break;case 2:(192&(L=h[I+1]))==128&&(V=(31&le)<<6|63&L)>127&&(Ie=V);break;case 3:L=h[I+1],Z=h[I+2],(192&L)==128&&(192&Z)==128&&(V=(15&le)<<12|(63&L)<<6|63&Z)>2047&&(V<55296||V>57343)&&(Ie=V);break;case 4:L=h[I+1],Z=h[I+2],b=h[I+3],(192&L)==128&&(192&Z)==128&&(192&b)==128&&(V=(15&le)<<18|(63&L)<<12|(63&Z)<<6|63&b)>65535&&V<1114112&&(Ie=V)}Ie===null?(Ie=65533,me=1):Ie>65535&&(Ie-=65536,E.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),E.push(Ie),I+=me}return function(ke){var ae=ke.length;if(ae<=4096)return String.fromCharCode.apply(String,ke);for(var Q="",pe=0;pe<ae;)Q+=String.fromCharCode.apply(String,ke.slice(pe,pe+=4096));return Q}(E)}r.Buffer=c,r.SlowBuffer=function(h){return+h!=h&&(h=0),c.alloc(+h)},r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:function(){try{var h=new Uint8Array(1);return h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},h.foo()===42&&typeof h.subarray=="function"&&h.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=d(),c.poolSize=8192,c._augment=function(h){return h.__proto__=c.prototype,h},c.from=function(h,y,_){return p(null,h,y,_)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(h,y,_){return function(E,I,L,Z){return T(I),I<=0?m(E,I):L!==void 0?typeof Z=="string"?m(E,I).fill(L,Z):m(E,I).fill(L):m(E,I)}(null,h,y,_)},c.allocUnsafe=function(h){return g(null,h)},c.allocUnsafeSlow=function(h){return g(null,h)},c.isBuffer=function(h){return!(h==null||!h._isBuffer)},c.compare=function(h,y){if(!c.isBuffer(h)||!c.isBuffer(y))throw new TypeError("Arguments must be Buffers");if(h===y)return 0;for(var _=h.length,E=y.length,I=0,L=Math.min(_,E);I<L;++I)if(h[I]!==y[I]){_=h[I],E=y[I];break}return _<E?-1:E<_?1:0},c.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(h,y){if(!f(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return c.alloc(0);var _;if(y===void 0)for(y=0,_=0;_<h.length;++_)y+=h[_].length;var E=c.allocUnsafe(y),I=0;for(_=0;_<h.length;++_){var L=h[_];if(!c.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(E,I),I+=L.length}return E},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var h=this.length;if(h%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<h;y+=2)N(this,y,y+1);return this},c.prototype.swap32=function(){var h=this.length;if(h%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<h;y+=4)N(this,y,y+3),N(this,y+1,y+2);return this},c.prototype.swap64=function(){var h=this.length;if(h%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<h;y+=8)N(this,y,y+7),N(this,y+1,y+6),N(this,y+2,y+5),N(this,y+3,y+4);return this},c.prototype.toString=function(){var h=0|this.length;return h===0?"":arguments.length===0?P(this,0,h):A.apply(this,arguments)},c.prototype.equals=function(h){if(!c.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h||c.compare(this,h)===0},c.prototype.inspect=function(){var h="",y=r.INSPECT_MAX_BYTES;return this.length>0&&(h=this.toString("hex",0,y).match(/.{2}/g).join(" "),this.length>y&&(h+=" ... ")),"<Buffer "+h+">"},c.prototype.compare=function(h,y,_,E,I){if(!c.isBuffer(h))throw new TypeError("Argument must be a Buffer");if(y===void 0&&(y=0),_===void 0&&(_=h?h.length:0),E===void 0&&(E=0),I===void 0&&(I=this.length),y<0||_>h.length||E<0||I>this.length)throw new RangeError("out of range index");if(E>=I&&y>=_)return 0;if(E>=I)return-1;if(y>=_)return 1;if(this===h)return 0;for(var L=(I>>>=0)-(E>>>=0),Z=(_>>>=0)-(y>>>=0),b=Math.min(L,Z),V=this.slice(E,I),le=h.slice(y,_),Ie=0;Ie<b;++Ie)if(V[Ie]!==le[Ie]){L=V[Ie],Z=le[Ie];break}return L<Z?-1:Z<L?1:0},c.prototype.includes=function(h,y,_){return this.indexOf(h,y,_)!==-1},c.prototype.indexOf=function(h,y,_){return H(this,h,y,_,!0)},c.prototype.lastIndexOf=function(h,y,_){return H(this,h,y,_,!1)},c.prototype.write=function(h,y,_,E){if(y===void 0)E="utf8",_=this.length,y=0;else if(_===void 0&&typeof y=="string")E=y,_=this.length,y=0;else{if(!isFinite(y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");y|=0,isFinite(_)?(_|=0,E===void 0&&(E="utf8")):(E=_,_=void 0)}var I=this.length-y;if((_===void 0||_>I)&&(_=I),h.length>0&&(_<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var L=!1;;)switch(E){case"hex":return M(this,h,y,_);case"utf8":case"utf-8":return F(this,h,y,_);case"ascii":return ie(this,h,y,_);case"latin1":case"binary":return Ee(this,h,y,_);case"base64":return Be(this,h,y,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,h,y,_);default:if(L)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),L=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(h,y,_){var E="";_=Math.min(h.length,_);for(var I=y;I<_;++I)E+=String.fromCharCode(127&h[I]);return E}function oe(h,y,_){var E="";_=Math.min(h.length,_);for(var I=y;I<_;++I)E+=String.fromCharCode(h[I]);return E}function te(h,y,_){var E=h.length;(!y||y<0)&&(y=0),(!_||_<0||_>E)&&(_=E);for(var I="",L=y;L<_;++L)I+=He(h[L]);return I}function ve(h,y,_){for(var E=h.slice(y,_),I="",L=0;L<E.length;L+=2)I+=String.fromCharCode(E[L]+256*E[L+1]);return I}function Ge(h,y,_){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+y>_)throw new RangeError("Trying to access beyond buffer length")}function Ke(h,y,_,E,I,L){if(!c.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>I||y<L)throw new RangeError('"value" argument is out of bounds');if(_+E>h.length)throw new RangeError("Index out of range")}function We(h,y,_,E){y<0&&(y=65535+y+1);for(var I=0,L=Math.min(h.length-_,2);I<L;++I)h[_+I]=(y&255<<8*(E?I:1-I))>>>8*(E?I:1-I)}function $(h,y,_,E){y<0&&(y=4294967295+y+1);for(var I=0,L=Math.min(h.length-_,4);I<L;++I)h[_+I]=y>>>8*(E?I:3-I)&255}function K(h,y,_,E,I,L){if(_+E>h.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Ue(h,y,_,E,I){return I||K(h,0,_,4),l.write(h,y,_,E,23,4),_+4}function $e(h,y,_,E,I){return I||K(h,0,_,8),l.write(h,y,_,E,52,8),_+8}c.prototype.slice=function(h,y){var _,E=this.length;if((h=~~h)<0?(h+=E)<0&&(h=0):h>E&&(h=E),(y=y===void 0?E:~~y)<0?(y+=E)<0&&(y=0):y>E&&(y=E),y<h&&(y=h),c.TYPED_ARRAY_SUPPORT)(_=this.subarray(h,y)).__proto__=c.prototype;else{var I=y-h;_=new c(I,void 0);for(var L=0;L<I;++L)_[L]=this[L+h]}return _},c.prototype.readUIntLE=function(h,y,_){h|=0,y|=0,_||Ge(h,y,this.length);for(var E=this[h],I=1,L=0;++L<y&&(I*=256);)E+=this[h+L]*I;return E},c.prototype.readUIntBE=function(h,y,_){h|=0,y|=0,_||Ge(h,y,this.length);for(var E=this[h+--y],I=1;y>0&&(I*=256);)E+=this[h+--y]*I;return E},c.prototype.readUInt8=function(h,y){return y||Ge(h,1,this.length),this[h]},c.prototype.readUInt16LE=function(h,y){return y||Ge(h,2,this.length),this[h]|this[h+1]<<8},c.prototype.readUInt16BE=function(h,y){return y||Ge(h,2,this.length),this[h]<<8|this[h+1]},c.prototype.readUInt32LE=function(h,y){return y||Ge(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+16777216*this[h+3]},c.prototype.readUInt32BE=function(h,y){return y||Ge(h,4,this.length),16777216*this[h]+(this[h+1]<<16|this[h+2]<<8|this[h+3])},c.prototype.readIntLE=function(h,y,_){h|=0,y|=0,_||Ge(h,y,this.length);for(var E=this[h],I=1,L=0;++L<y&&(I*=256);)E+=this[h+L]*I;return E>=(I*=128)&&(E-=Math.pow(2,8*y)),E},c.prototype.readIntBE=function(h,y,_){h|=0,y|=0,_||Ge(h,y,this.length);for(var E=y,I=1,L=this[h+--E];E>0&&(I*=256);)L+=this[h+--E]*I;return L>=(I*=128)&&(L-=Math.pow(2,8*y)),L},c.prototype.readInt8=function(h,y){return y||Ge(h,1,this.length),128&this[h]?-1*(255-this[h]+1):this[h]},c.prototype.readInt16LE=function(h,y){y||Ge(h,2,this.length);var _=this[h]|this[h+1]<<8;return 32768&_?4294901760|_:_},c.prototype.readInt16BE=function(h,y){y||Ge(h,2,this.length);var _=this[h+1]|this[h]<<8;return 32768&_?4294901760|_:_},c.prototype.readInt32LE=function(h,y){return y||Ge(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},c.prototype.readInt32BE=function(h,y){return y||Ge(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},c.prototype.readFloatLE=function(h,y){return y||Ge(h,4,this.length),l.read(this,h,!0,23,4)},c.prototype.readFloatBE=function(h,y){return y||Ge(h,4,this.length),l.read(this,h,!1,23,4)},c.prototype.readDoubleLE=function(h,y){return y||Ge(h,8,this.length),l.read(this,h,!0,52,8)},c.prototype.readDoubleBE=function(h,y){return y||Ge(h,8,this.length),l.read(this,h,!1,52,8)},c.prototype.writeUIntLE=function(h,y,_,E){h=+h,y|=0,_|=0,E||Ke(this,h,y,_,Math.pow(2,8*_)-1,0);var I=1,L=0;for(this[y]=255&h;++L<_&&(I*=256);)this[y+L]=h/I&255;return y+_},c.prototype.writeUIntBE=function(h,y,_,E){h=+h,y|=0,_|=0,E||Ke(this,h,y,_,Math.pow(2,8*_)-1,0);var I=_-1,L=1;for(this[y+I]=255&h;--I>=0&&(L*=256);)this[y+I]=h/L&255;return y+_},c.prototype.writeUInt8=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,1,255,0),c.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),this[y]=255&h,y+1},c.prototype.writeUInt16LE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[y]=255&h,this[y+1]=h>>>8):We(this,h,y,!0),y+2},c.prototype.writeUInt16BE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[y]=h>>>8,this[y+1]=255&h):We(this,h,y,!1),y+2},c.prototype.writeUInt32LE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=255&h):$(this,h,y,!0),y+4},c.prototype.writeUInt32BE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=255&h):$(this,h,y,!1),y+4},c.prototype.writeIntLE=function(h,y,_,E){if(h=+h,y|=0,!E){var I=Math.pow(2,8*_-1);Ke(this,h,y,_,I-1,-I)}var L=0,Z=1,b=0;for(this[y]=255&h;++L<_&&(Z*=256);)h<0&&b===0&&this[y+L-1]!==0&&(b=1),this[y+L]=(h/Z>>0)-b&255;return y+_},c.prototype.writeIntBE=function(h,y,_,E){if(h=+h,y|=0,!E){var I=Math.pow(2,8*_-1);Ke(this,h,y,_,I-1,-I)}var L=_-1,Z=1,b=0;for(this[y+L]=255&h;--L>=0&&(Z*=256);)h<0&&b===0&&this[y+L+1]!==0&&(b=1),this[y+L]=(h/Z>>0)-b&255;return y+_},c.prototype.writeInt8=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,1,127,-128),c.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),h<0&&(h=255+h+1),this[y]=255&h,y+1},c.prototype.writeInt16LE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[y]=255&h,this[y+1]=h>>>8):We(this,h,y,!0),y+2},c.prototype.writeInt16BE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[y]=h>>>8,this[y+1]=255&h):We(this,h,y,!1),y+2},c.prototype.writeInt32LE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[y]=255&h,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24):$(this,h,y,!0),y+4},c.prototype.writeInt32BE=function(h,y,_){return h=+h,y|=0,_||Ke(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),c.TYPED_ARRAY_SUPPORT?(this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=255&h):$(this,h,y,!1),y+4},c.prototype.writeFloatLE=function(h,y,_){return Ue(this,h,y,!0,_)},c.prototype.writeFloatBE=function(h,y,_){return Ue(this,h,y,!1,_)},c.prototype.writeDoubleLE=function(h,y,_){return $e(this,h,y,!0,_)},c.prototype.writeDoubleBE=function(h,y,_){return $e(this,h,y,!1,_)},c.prototype.copy=function(h,y,_,E){if(_||(_=0),E||E===0||(E=this.length),y>=h.length&&(y=h.length),y||(y=0),E>0&&E<_&&(E=_),E===_||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("sourceStart out of bounds");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),h.length-y<E-_&&(E=h.length-y+_);var I,L=E-_;if(this===h&&_<y&&y<E)for(I=L-1;I>=0;--I)h[I+y]=this[I+_];else if(L<1e3||!c.TYPED_ARRAY_SUPPORT)for(I=0;I<L;++I)h[I+y]=this[I+_];else Uint8Array.prototype.set.call(h,this.subarray(_,_+L),y);return L},c.prototype.fill=function(h,y,_,E){if(typeof h=="string"){if(typeof y=="string"?(E=y,y=0,_=this.length):typeof _=="string"&&(E=_,_=this.length),h.length===1){var I=h.charCodeAt(0);I<256&&(h=I)}if(E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!c.isEncoding(E))throw new TypeError("Unknown encoding: "+E)}else typeof h=="number"&&(h&=255);if(y<0||this.length<y||this.length<_)throw new RangeError("Out of range index");if(_<=y)return this;var L;if(y>>>=0,_=_===void 0?this.length:_>>>0,h||(h=0),typeof h=="number")for(L=y;L<_;++L)this[L]=h;else{var Z=c.isBuffer(h)?h:q(new c(h,E).toString()),b=Z.length;for(L=0;L<_-y;++L)this[L+y]=Z[L%b]}return this};var ot=/[^+\/0-9A-Za-z-_]/g;function He(h){return h<16?"0"+h.toString(16):h.toString(16)}function q(h,y){var _;y=y||1/0;for(var E=h.length,I=null,L=[],Z=0;Z<E;++Z){if((_=h.charCodeAt(Z))>55295&&_<57344){if(!I){if(_>56319){(y-=3)>-1&&L.push(239,191,189);continue}if(Z+1===E){(y-=3)>-1&&L.push(239,191,189);continue}I=_;continue}if(_<56320){(y-=3)>-1&&L.push(239,191,189),I=_;continue}_=65536+(I-55296<<10|_-56320)}else I&&(y-=3)>-1&&L.push(239,191,189);if(I=null,_<128){if((y-=1)<0)break;L.push(_)}else if(_<2048){if((y-=2)<0)break;L.push(_>>6|192,63&_|128)}else if(_<65536){if((y-=3)<0)break;L.push(_>>12|224,_>>6&63|128,63&_|128)}else{if(!(_<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;L.push(_>>18|240,_>>12&63|128,_>>6&63|128,63&_|128)}}return L}function U(h){return u.toByteArray(function(y){if((y=function(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}(y).replace(ot,"")).length<2)return"";for(;y.length%4!=0;)y+="=";return y}(h))}function x(h,y,_,E){for(var I=0;I<E&&!(I+_>=y.length||I>=h.length);++I)y[I+_]=h[I];return I}}).call(this,i(23))},function(n,r,i){var o,u=typeof Reflect=="object"?Reflect:null,l=u&&typeof u.apply=="function"?u.apply:function(H,S,M){return Function.prototype.apply.call(H,S,M)};o=u&&typeof u.ownKeys=="function"?u.ownKeys:Object.getOwnPropertySymbols?function(H){return Object.getOwnPropertyNames(H).concat(Object.getOwnPropertySymbols(H))}:function(H){return Object.getOwnPropertyNames(H)};var f=Number.isNaN||function(H){return H!=H};function d(){d.init.call(this)}n.exports=d,n.exports.once=function(H,S){return new Promise(function(M,F){function ie(Be){H.removeListener(S,Ee),F(Be)}function Ee(){typeof H.removeListener=="function"&&H.removeListener("error",ie),M([].slice.call(arguments))}N(H,S,Ee,{once:!0}),S!=="error"&&function(Be,Le,X){typeof Be.on=="function"&&N(Be,"error",Le,X)}(H,ie,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var m=10;function c(H){if(typeof H!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof H)}function p(H){return H._maxListeners===void 0?d.defaultMaxListeners:H._maxListeners}function T(H,S,M,F){var ie,Ee,Be,Le;if(c(M),(Ee=H._events)===void 0?(Ee=H._events=Object.create(null),H._eventsCount=0):(Ee.newListener!==void 0&&(H.emit("newListener",S,M.listener?M.listener:M),Ee=H._events),Be=Ee[S]),Be===void 0)Be=Ee[S]=M,++H._eventsCount;else if(typeof Be=="function"?Be=Ee[S]=F?[M,Be]:[Be,M]:F?Be.unshift(M):Be.push(M),(ie=p(H))>0&&Be.length>ie&&!Be.warned){Be.warned=!0;var X=new Error("Possible EventEmitter memory leak detected. "+Be.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");X.name="MaxListenersExceededWarning",X.emitter=H,X.type=S,X.count=Be.length,Le=X,console&&console.warn&&console.warn(Le)}return H}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D(H,S,M){var F={fired:!1,wrapFn:void 0,target:H,type:S,listener:M},ie=g.bind(F);return ie.listener=M,F.wrapFn=ie,ie}function v(H,S,M){var F=H._events;if(F===void 0)return[];var ie=F[S];return ie===void 0?[]:typeof ie=="function"?M?[ie.listener||ie]:[ie]:M?function(Ee){for(var Be=new Array(Ee.length),Le=0;Le<Be.length;++Le)Be[Le]=Ee[Le].listener||Ee[Le];return Be}(ie):A(ie,ie.length)}function w(H){var S=this._events;if(S!==void 0){var M=S[H];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}function A(H,S){for(var M=new Array(S),F=0;F<S;++F)M[F]=H[F];return M}function N(H,S,M,F){if(typeof H.on=="function")F.once?H.once(S,M):H.on(S,M);else{if(typeof H.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof H);H.addEventListener(S,function ie(Ee){F.once&&H.removeEventListener(S,ie),M(Ee)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(H){if(typeof H!="number"||H<0||f(H))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+H+".");m=H}}),d.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||f(H))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+H+".");return this._maxListeners=H,this},d.prototype.getMaxListeners=function(){return p(this)},d.prototype.emit=function(H){for(var S=[],M=1;M<arguments.length;M++)S.push(arguments[M]);var F=H==="error",ie=this._events;if(ie!==void 0)F=F&&ie.error===void 0;else if(!F)return!1;if(F){var Ee;if(S.length>0&&(Ee=S[0]),Ee instanceof Error)throw Ee;var Be=new Error("Unhandled error."+(Ee?" ("+Ee.message+")":""));throw Be.context=Ee,Be}var Le=ie[H];if(Le===void 0)return!1;if(typeof Le=="function")l(Le,this,S);else{var X=Le.length,P=A(Le,X);for(M=0;M<X;++M)l(P[M],this,S)}return!0},d.prototype.addListener=function(H,S){return T(this,H,S,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(H,S){return T(this,H,S,!0)},d.prototype.once=function(H,S){return c(S),this.on(H,D(this,H,S)),this},d.prototype.prependOnceListener=function(H,S){return c(S),this.prependListener(H,D(this,H,S)),this},d.prototype.removeListener=function(H,S){var M,F,ie,Ee,Be;if(c(S),(F=this._events)===void 0)return this;if((M=F[H])===void 0)return this;if(M===S||M.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete F[H],F.removeListener&&this.emit("removeListener",H,M.listener||S));else if(typeof M!="function"){for(ie=-1,Ee=M.length-1;Ee>=0;Ee--)if(M[Ee]===S||M[Ee].listener===S){Be=M[Ee].listener,ie=Ee;break}if(ie<0)return this;ie===0?M.shift():function(Le,X){for(;X+1<Le.length;X++)Le[X]=Le[X+1];Le.pop()}(M,ie),M.length===1&&(F[H]=M[0]),F.removeListener!==void 0&&this.emit("removeListener",H,Be||S)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(H){var S,M,F;if((M=this._events)===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[H]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete M[H]),this;if(arguments.length===0){var ie,Ee=Object.keys(M);for(F=0;F<Ee.length;++F)(ie=Ee[F])!=="removeListener"&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=M[H])=="function")this.removeListener(H,S);else if(S!==void 0)for(F=S.length-1;F>=0;F--)this.removeListener(H,S[F]);return this},d.prototype.listeners=function(H){return v(this,H,!0)},d.prototype.rawListeners=function(H){return v(this,H,!1)},d.listenerCount=function(H,S){return typeof H.listenerCount=="function"?H.listenerCount(S):w.call(H,S)},d.prototype.listenerCount=w,d.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(n,r,i){(r=n.exports=i(71)).Stream=r,r.Readable=r,r.Writable=i(67),r.Duplex=i(35),r.Transform=i(74),r.PassThrough=i(90)},function(n,r,i){(function(o,u,l){var f=i(52);function d(X){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(J,oe,te){var ve=J.entry;for(J.entry=null;ve;){var Ge=ve.callback;oe.pendingcb--,Ge(te),ve=ve.next}oe.corkedRequestsFree?oe.corkedRequestsFree.next=J:oe.corkedRequestsFree=J})(P,X)}}n.exports=S;var m,c=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?u:f.nextTick;S.WritableState=H;var p=i(47);p.inherits=i(40);var T={deprecate:i(89)},g=i(72),D=i(53).Buffer,v=l.Uint8Array||function(){},w,A=i(73);function N(){}function H(X,P){m=m||i(35),X=X||{};var J=P instanceof m;this.objectMode=!!X.objectMode,J&&(this.objectMode=this.objectMode||!!X.writableObjectMode);var oe=X.highWaterMark,te=X.writableHighWaterMark,ve=this.objectMode?16:16384;this.highWaterMark=oe||oe===0?oe:J&&(te||te===0)?te:ve,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ge=X.decodeStrings===!1;this.decodeStrings=!Ge,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ke){(function(We,$){var K=We._writableState,Ue=K.sync,$e=K.writecb;if(function(He){He.writing=!1,He.writecb=null,He.length-=He.writelen,He.writelen=0}(K),$)(function(He,q,U,x,h){--q.pendingcb,U?(f.nextTick(h,x),f.nextTick(Le,He,q),He._writableState.errorEmitted=!0,He.emit("error",x)):(h(x),He._writableState.errorEmitted=!0,He.emit("error",x),Le(He,q))})(We,K,Ue,$,$e);else{var ot=Ee(K);ot||K.corked||K.bufferProcessing||!K.bufferedRequest||ie(We,K),Ue?c(F,We,K,ot,$e):F(We,K,ot,$e)}})(P,Ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function S(X){if(m=m||i(35),!(w.call(S,this)||this instanceof m))return new S(X);this._writableState=new H(X,this),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),g.call(this)}function M(X,P,J,oe,te,ve,Ge){P.writelen=oe,P.writecb=Ge,P.writing=!0,P.sync=!0,J?X._writev(te,P.onwrite):X._write(te,ve,P.onwrite),P.sync=!1}function F(X,P,J,oe){J||function(te,ve){ve.length===0&&ve.needDrain&&(ve.needDrain=!1,te.emit("drain"))}(X,P),P.pendingcb--,oe(),Le(X,P)}function ie(X,P){P.bufferProcessing=!0;var J=P.bufferedRequest;if(X._writev&&J&&J.next){var oe=P.bufferedRequestCount,te=new Array(oe),ve=P.corkedRequestsFree;ve.entry=J;for(var Ge=0,Ke=!0;J;)te[Ge]=J,J.isBuf||(Ke=!1),J=J.next,Ge+=1;te.allBuffers=Ke,M(X,P,!0,P.length,te,"",ve.finish),P.pendingcb++,P.lastBufferedRequest=null,ve.next?(P.corkedRequestsFree=ve.next,ve.next=null):P.corkedRequestsFree=new d(P),P.bufferedRequestCount=0}else{for(;J;){var We=J.chunk,$=J.encoding,K=J.callback;if(M(X,P,!1,P.objectMode?1:We.length,We,$,K),J=J.next,P.bufferedRequestCount--,P.writing)break}J===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=J,P.bufferProcessing=!1}function Ee(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function Be(X,P){X._final(function(J){P.pendingcb--,J&&X.emit("error",J),P.prefinished=!0,X.emit("prefinish"),Le(X,P)})}function Le(X,P){var J=Ee(P);return J&&(function(oe,te){te.prefinished||te.finalCalled||(typeof oe._final=="function"?(te.pendingcb++,te.finalCalled=!0,f.nextTick(Be,oe,te)):(te.prefinished=!0,oe.emit("prefinish")))}(X,P),P.pendingcb===0&&(P.finished=!0,X.emit("finish"))),J}p.inherits(S,g),H.prototype.getBuffer=function(){for(var X=this.bufferedRequest,P=[];X;)P.push(X),X=X.next;return P},function(){try{Object.defineProperty(H.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(X){return!!w.call(this,X)||this===S&&X&&X._writableState instanceof H}})):w=function(X){return X instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(X,P,J){var oe,te=this._writableState,ve=!1,Ge=!te.objectMode&&(oe=X,D.isBuffer(oe)||oe instanceof v);return Ge&&!D.isBuffer(X)&&(X=function(Ke){return D.from(Ke)}(X)),typeof P=="function"&&(J=P,P=null),Ge?P="buffer":P||(P=te.defaultEncoding),typeof J!="function"&&(J=N),te.ended?function(Ke,We){var $=new Error("write after end");Ke.emit("error",$),f.nextTick(We,$)}(this,J):(Ge||function(Ke,We,$,K){var Ue=!0,$e=!1;return $===null?$e=new TypeError("May not write null values to stream"):typeof $=="string"||$===void 0||We.objectMode||($e=new TypeError("Invalid non-string/buffer chunk")),$e&&(Ke.emit("error",$e),f.nextTick(K,$e),Ue=!1),Ue}(this,te,X,J))&&(te.pendingcb++,ve=function(Ke,We,$,K,Ue,$e){if(!$){var ot=function(x,h,y){return x.objectMode||x.decodeStrings===!1||typeof h!="string"||(h=D.from(h,y)),h}(We,K,Ue);K!==ot&&($=!0,Ue="buffer",K=ot)}var He=We.objectMode?1:K.length;We.length+=He;var q=We.length<We.highWaterMark;if(q||(We.needDrain=!0),We.writing||We.corked){var U=We.lastBufferedRequest;We.lastBufferedRequest={chunk:K,encoding:Ue,isBuf:$,callback:$e,next:null},U?U.next=We.lastBufferedRequest:We.bufferedRequest=We.lastBufferedRequest,We.bufferedRequestCount+=1}else M(Ke,We,!1,He,K,Ue,$e);return q}(this,te,Ge,X,P,J)),ve},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,X.writing||X.corked||X.finished||X.bufferProcessing||!X.bufferedRequest||ie(this,X))},S.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(X,P,J){J(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(X,P,J){var oe=this._writableState;typeof X=="function"?(J=X,X=null,P=null):typeof P=="function"&&(J=P,P=null),X!=null&&this.write(X,P),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||oe.finished||function(te,ve,Ge){ve.ending=!0,Le(te,ve),Ge&&(ve.finished?f.nextTick(Ge):te.once("finish",Ge)),ve.ended=!0,te.writable=!1}(this,oe,J)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),S.prototype.destroy=A.destroy,S.prototype._undestroy=A.undestroy,S.prototype._destroy=function(X,P){this.end(),P(X)}}).call(this,i(25),i(87).setImmediate,i(23))},function(n,r,i){var o=i(53).Buffer,u=o.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(v){var w;switch(this.encoding=function(A){var N=function(H){if(!H)return"utf8";for(var S;;)switch(H){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return H;default:if(S)return;H=(""+H).toLowerCase(),S=!0}}(A);if(typeof N!="string"&&(o.isEncoding===u||!u(A)))throw new Error("Unknown encoding: "+A);return N||A}(v),this.encoding){case"utf16le":this.text=m,this.end=c,w=4;break;case"utf8":this.fillLast=d,w=4;break;case"base64":this.text=p,this.end=T,w=3;break;default:return this.write=g,void(this.end=D)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(w)}function f(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function d(v){var w=this.lastTotal-this.lastNeed,A=function(N,H,S){if((192&H[0])!=128)return N.lastNeed=0,"";if(N.lastNeed>1&&H.length>1){if((192&H[1])!=128)return N.lastNeed=1,"";if(N.lastNeed>2&&H.length>2&&(192&H[2])!=128)return N.lastNeed=2,""}}(this,v);return A!==void 0?A:this.lastNeed<=v.length?(v.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,w,0,v.length),void(this.lastNeed-=v.length))}function m(v,w){if((v.length-w)%2==0){var A=v.toString("utf16le",w);if(A){var N=A.charCodeAt(A.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",w,v.length-1)}function c(v){var w=v&&v.length?this.write(v):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,A)}return w}function p(v,w){var A=(v.length-w)%3;return A===0?v.toString("base64",w):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",w,v.length-A))}function T(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(v){return v.toString(this.encoding)}function D(v){return v&&v.length?this.write(v):""}r.StringDecoder=l,l.prototype.write=function(v){if(v.length===0)return"";var w,A;if(this.lastNeed){if((w=this.fillLast(v))===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<v.length?w?w+this.text(v,A):this.text(v,A):w||""},l.prototype.end=function(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+"":w},l.prototype.text=function(v,w){var A=function(H,S,M){var F=S.length-1;if(F<M)return 0;var ie=f(S[F]);return ie>=0?(ie>0&&(H.lastNeed=ie-1),ie):--F<M||ie===-2?0:(ie=f(S[F]))>=0?(ie>0&&(H.lastNeed=ie-2),ie):--F<M||ie===-2?0:(ie=f(S[F]))>=0?(ie>0&&(ie===2?ie=0:H.lastNeed=ie-3),ie):0}(this,v,w);if(!this.lastNeed)return v.toString("utf8",w);this.lastTotal=A;var N=v.length-(A-this.lastNeed);return v.copy(this.lastChar,0,N),v.toString("utf8",w,N)},l.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},function(n,r,i){(function(o){var u=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,l=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};o.parseColor=function(c){var p,T=null,g=d[c.toLowerCase()];return g!==void 0?T=g:(p=u.exec(c))!==null?T=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),p[4]!==void 0?parseInt(p[4],16):255]:(p=l.exec(c))!==null?T=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:(p=f.exec(c))!==null&&(T=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),T};var m=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;o.parseLength=function(c){var p,T=null;return(p=m.exec(c))!==null&&(T={value:parseFloat(p[1]),unit:p[2]}),T}})(r)},function(n,r){var i={}.toString;n.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},function(n,r,i){(function(o,u){var l=i(52);n.exports=M;var f,d=i(70);M.ReadableState=S,i(65).EventEmitter;var m=function($,K){return $.listeners(K).length},c=i(72),p=i(53).Buffer,T=o.Uint8Array||function(){},g=i(47);g.inherits=i(40);var D=i(84),v=void 0;v=D&&D.debuglog?D.debuglog("stream"):function(){};var w,A=i(85),N=i(73);g.inherits(M,c);var H=["error","close","destroy","pause","resume"];function S($,K){$=$||{};var Ue=K instanceof(f=f||i(35));this.objectMode=!!$.objectMode,Ue&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var $e=$.highWaterMark,ot=$.readableHighWaterMark,He=this.objectMode?16:16384;this.highWaterMark=$e||$e===0?$e:Ue&&(ot||ot===0)?ot:He,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(w||(w=i(68).StringDecoder),this.decoder=new w($.encoding),this.encoding=$.encoding)}function M($){if(f=f||i(35),!(this instanceof M))return new M($);this._readableState=new S($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),c.call(this)}function F($,K,Ue,$e,ot){var He,q=$._readableState;return K===null?(q.reading=!1,function(U,x){if(!x.ended){if(x.decoder){var h=x.decoder.end();h&&h.length&&(x.buffer.push(h),x.length+=x.objectMode?1:h.length)}x.ended=!0,Be(U)}}($,q)):(ot||(He=function(U,x){var h;y=x,p.isBuffer(y)||y instanceof T||typeof x=="string"||x===void 0||U.objectMode||(h=new TypeError("Invalid non-string/buffer chunk"));var y;return h}(q,K)),He?$.emit("error",He):q.objectMode||K&&K.length>0?(typeof K=="string"||q.objectMode||Object.getPrototypeOf(K)===p.prototype||(K=function(U){return p.from(U)}(K)),$e?q.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):ie($,q,K,!0):q.ended?$.emit("error",new Error("stream.push() after EOF")):(q.reading=!1,q.decoder&&!Ue?(K=q.decoder.write(K),q.objectMode||K.length!==0?ie($,q,K,!1):X($,q)):ie($,q,K,!1))):$e||(q.reading=!1)),function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}(q)}function ie($,K,Ue,$e){K.flowing&&K.length===0&&!K.sync?($.emit("data",Ue),$.read(0)):(K.length+=K.objectMode?1:Ue.length,$e?K.buffer.unshift(Ue):K.buffer.push(Ue),K.needReadable&&Be($)),X($,K)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),M.prototype.destroy=N.destroy,M.prototype._undestroy=N.undestroy,M.prototype._destroy=function($,K){this.push(null),K($)},M.prototype.push=function($,K){var Ue,$e=this._readableState;return $e.objectMode?Ue=!0:typeof $=="string"&&((K=K||$e.defaultEncoding)!==$e.encoding&&($=p.from($,K),K=""),Ue=!0),F(this,$,K,!1,Ue)},M.prototype.unshift=function($){return F(this,$,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function($){return w||(w=i(68).StringDecoder),this._readableState.decoder=new w($),this._readableState.encoding=$,this};function Ee($,K){return $<=0||K.length===0&&K.ended?0:K.objectMode?1:$!=$?K.flowing&&K.length?K.buffer.head.data.length:K.length:($>K.highWaterMark&&(K.highWaterMark=function(Ue){return Ue>=8388608?Ue=8388608:(Ue--,Ue|=Ue>>>1,Ue|=Ue>>>2,Ue|=Ue>>>4,Ue|=Ue>>>8,Ue|=Ue>>>16,Ue++),Ue}($)),$<=K.length?$:K.ended?K.length:(K.needReadable=!0,0))}function Be($){var K=$._readableState;K.needReadable=!1,K.emittedReadable||(v("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?l.nextTick(Le,$):Le($))}function Le($){v("emit readable"),$.emit("readable"),te($)}function X($,K){K.readingMore||(K.readingMore=!0,l.nextTick(P,$,K))}function P($,K){for(var Ue=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(v("maybeReadMore read 0"),$.read(0),Ue!==K.length);)Ue=K.length;K.readingMore=!1}function J($){v("readable nexttick read 0"),$.read(0)}function oe($,K){K.reading||(v("resume read 0"),$.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,$.emit("resume"),te($),K.flowing&&!K.reading&&$.read(0)}function te($){var K=$._readableState;for(v("flow",K.flowing);K.flowing&&$.read()!==null;);}function ve($,K){return K.length===0?null:(K.objectMode?Ue=K.buffer.shift():!$||$>=K.length?(Ue=K.decoder?K.buffer.join(""):K.buffer.length===1?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):Ue=function($e,ot,He){var q;return $e<ot.head.data.length?(q=ot.head.data.slice(0,$e),ot.head.data=ot.head.data.slice($e)):q=$e===ot.head.data.length?ot.shift():He?function(U,x){var h=x.head,y=1,_=h.data;for(U-=_.length;h=h.next;){var E=h.data,I=U>E.length?E.length:U;if(I===E.length?_+=E:_+=E.slice(0,U),(U-=I)===0){I===E.length?(++y,h.next?x.head=h.next:x.head=x.tail=null):(x.head=h,h.data=E.slice(I));break}++y}return x.length-=y,_}($e,ot):function(U,x){var h=p.allocUnsafe(U),y=x.head,_=1;for(y.data.copy(h),U-=y.data.length;y=y.next;){var E=y.data,I=U>E.length?E.length:U;if(E.copy(h,h.length-U,0,I),(U-=I)===0){I===E.length?(++_,y.next?x.head=y.next:x.head=x.tail=null):(x.head=y,y.data=E.slice(I));break}++_}return x.length-=_,h}($e,ot),q}($,K.buffer,K.decoder),Ue);var Ue}function Ge($){var K=$._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,l.nextTick(Ke,K,$))}function Ke($,K){$.endEmitted||$.length!==0||($.endEmitted=!0,K.readable=!1,K.emit("end"))}function We($,K){for(var Ue=0,$e=$.length;Ue<$e;Ue++)if($[Ue]===K)return Ue;return-1}M.prototype.read=function($){v("read",$),$=parseInt($,10);var K=this._readableState,Ue=$;if($!==0&&(K.emittedReadable=!1),$===0&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return v("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Ge(this):Be(this),null;if(($=Ee($,K))===0&&K.ended)return K.length===0&&Ge(this),null;var $e,ot=K.needReadable;return v("need readable",ot),(K.length===0||K.length-$<K.highWaterMark)&&v("length less than watermark",ot=!0),K.ended||K.reading?v("reading or ended",ot=!1):ot&&(v("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||($=Ee(Ue,K))),($e=$>0?ve($,K):null)===null?(K.needReadable=!0,$=0):K.length-=$,K.length===0&&(K.ended||(K.needReadable=!0),Ue!==$&&K.ended&&Ge(this)),$e!==null&&this.emit("data",$e),$e},M.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function($,K){var Ue=this,$e=this._readableState;switch($e.pipesCount){case 0:$e.pipes=$;break;case 1:$e.pipes=[$e.pipes,$];break;default:$e.pipes.push($)}$e.pipesCount+=1,v("pipe count=%d opts=%j",$e.pipesCount,K);var ot=(!K||K.end!==!1)&&$!==u.stdout&&$!==u.stderr?q:L;function He(Z,b){v("onunpipe"),Z===Ue&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,v("cleanup"),$.removeListener("close",E),$.removeListener("finish",I),$.removeListener("drain",U),$.removeListener("error",_),$.removeListener("unpipe",He),Ue.removeListener("end",q),Ue.removeListener("end",L),Ue.removeListener("data",y),x=!0,!$e.awaitDrain||$._writableState&&!$._writableState.needDrain||U())}function q(){v("onend"),$.end()}$e.endEmitted?l.nextTick(ot):Ue.once("end",ot),$.on("unpipe",He);var U=function(Z){return function(){var b=Z._readableState;v("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,b.awaitDrain===0&&m(Z,"data")&&(b.flowing=!0,te(Z))}}(Ue);$.on("drain",U);var x=!1,h=!1;function y(Z){v("ondata"),h=!1,$.write(Z)!==!1||h||(($e.pipesCount===1&&$e.pipes===$||$e.pipesCount>1&&We($e.pipes,$)!==-1)&&!x&&(v("false write response, pause",Ue._readableState.awaitDrain),Ue._readableState.awaitDrain++,h=!0),Ue.pause())}function _(Z){v("onerror",Z),L(),$.removeListener("error",_),m($,"error")===0&&$.emit("error",Z)}function E(){$.removeListener("finish",I),L()}function I(){v("onfinish"),$.removeListener("close",E),L()}function L(){v("unpipe"),Ue.unpipe($)}return Ue.on("data",y),function(Z,b,V){if(typeof Z.prependListener=="function")return Z.prependListener(b,V);Z._events&&Z._events[b]?d(Z._events[b])?Z._events[b].unshift(V):Z._events[b]=[V,Z._events[b]]:Z.on(b,V)}($,"error",_),$.once("close",E),$.once("finish",I),$.emit("pipe",Ue),$e.flowing||(v("pipe resume"),Ue.resume()),$},M.prototype.unpipe=function($){var K=this._readableState,Ue={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return $&&$!==K.pipes||($||($=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,$&&$.emit("unpipe",this,Ue)),this;if(!$){var $e=K.pipes,ot=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var He=0;He<ot;He++)$e[He].emit("unpipe",this,Ue);return this}var q=We(K.pipes,$);return q===-1||(K.pipes.splice(q,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),$.emit("unpipe",this,Ue)),this},M.prototype.on=function($,K){var Ue=c.prototype.on.call(this,$,K);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var $e=this._readableState;$e.endEmitted||$e.readableListening||($e.readableListening=$e.needReadable=!0,$e.emittedReadable=!1,$e.reading?$e.length&&Be(this):l.nextTick(J,this))}return Ue},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var $=this._readableState;return $.flowing||(v("resume"),$.flowing=!0,function(K,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,l.nextTick(oe,K,Ue))}(this,$)),this},M.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function($){var K=this,Ue=this._readableState,$e=!1;for(var ot in $.on("end",function(){if(v("wrapped end"),Ue.decoder&&!Ue.ended){var q=Ue.decoder.end();q&&q.length&&K.push(q)}K.push(null)}),$.on("data",function(q){v("wrapped data"),Ue.decoder&&(q=Ue.decoder.write(q)),Ue.objectMode&&q==null||(Ue.objectMode||q&&q.length)&&(K.push(q)||($e=!0,$.pause()))}),$)this[ot]===void 0&&typeof $[ot]=="function"&&(this[ot]=function(q){return function(){return $[q].apply($,arguments)}}(ot));for(var He=0;He<H.length;He++)$.on(H[He],this.emit.bind(this,H[He]));return this._read=function(q){v("wrapped _read",q),$e&&($e=!1,$.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=ve}).call(this,i(23),i(25))},function(n,r,i){n.exports=i(65).EventEmitter},function(n,r,i){var o=i(52);function u(l,f){l.emit("error",f)}n.exports={destroy:function(l,f){var d=this,m=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return m||c?(f?f(l):!l||this._writableState&&this._writableState.errorEmitted||o.nextTick(u,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(p){!f&&p?(o.nextTick(u,d,p),d._writableState&&(d._writableState.errorEmitted=!0)):f&&f(p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(n,r,i){n.exports=f;var o=i(35),u=i(47);function l(c,p){var T=this._transformState;T.transforming=!1;var g=T.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));T.writechunk=null,T.writecb=null,p!=null&&this.push(p),g(c);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function f(c){if(!(this instanceof f))return new f(c);o.call(this,c),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",d)}function d(){var c=this;typeof this._flush=="function"?this._flush(function(p,T){m(c,p,T)}):m(this,null,null)}function m(c,p,T){if(p)return c.emit("error",p);if(T!=null&&c.push(T),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}u.inherits=i(40),u.inherits(f,o),f.prototype.push=function(c,p){return this._transformState.needTransform=!1,o.prototype.push.call(this,c,p)},f.prototype._transform=function(c,p,T){throw new Error("_transform() is not implemented")},f.prototype._write=function(c,p,T){var g=this._transformState;if(g.writecb=T,g.writechunk=c,g.writeencoding=p,!g.transforming){var D=this._readableState;(g.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},f.prototype._read=function(c){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},f.prototype._destroy=function(c,p){var T=this;o.prototype._destroy.call(this,c,function(g){p(g),T.emit("close")})}},,,function(n,r,i){i.r(r),(function(o){var u=i(54);i.d(r,"MediaPlayer",function(){return u.a});var l=i(3);i.d(r,"FactoryMaker",function(){return l.a});var f=i(6);i.d(r,"Debug",function(){return f.a});var d=i(55),m=(i(96),typeof window<"u"&&window||o),c=m.dashjs;c||(c=m.dashjs={}),c.MediaPlayer=u.a,c.FactoryMaker=l.a,c.Debug=f.a,c.Version=Object(d.a)(),r.default=c}).call(this,i(23))},function(n,r,i){(function(o,u,l){function f(p,T,g,D,v,w,A,N,H){if(T<A.begin||T>=A.end)return null;var S="regionID"in A&&A.regionID!==""?A.regionID:w;if(v!==null&&S!==g.id&&(!("contents"in A)||"contents"in A&&A.contents.length===0||S!==""))return null;var M=new m(A);for(var F in A.sets)T<A.sets[F].begin||T>=A.sets[F].end||(M.styleAttrs[A.sets[F].qname]=A.sets[F].value);var ie,Ee={};for(var Be in M.styleAttrs)if(Ee[Be]=!0,Be===l.byName.writingMode.qname&&!(l.byName.direction.qname in M.styleAttrs)){var Le=M.styleAttrs[Be];Le==="lrtb"||Le==="lr"?M.styleAttrs[l.byName.direction.qname]="ltr":Le!=="rltb"&&Le!=="rl"||(M.styleAttrs[l.byName.direction.qname]="rtl")}if(v!==null)for(var X in l.all){var P=l.all[X];if(P.qname===l.byName.textDecoration.qname){var J=v.styleAttrs[P.qname],oe=M.styleAttrs[P.qname],te=[];oe===void 0?te=J:oe.indexOf("none")===-1?((oe.indexOf("noUnderline")===-1&&J.indexOf("underline")!==-1||oe.indexOf("underline")!==-1)&&te.push("underline"),(oe.indexOf("noLineThrough")===-1&&J.indexOf("lineThrough")!==-1||oe.indexOf("lineThrough")!==-1)&&te.push("lineThrough"),(oe.indexOf("noOverline")===-1&&J.indexOf("overline")!==-1||oe.indexOf("overline")!==-1)&&te.push("overline")):te.push("none"),M.styleAttrs[P.qname]=te}else P.inherit&&P.qname in v.styleAttrs&&!(P.qname in M.styleAttrs)&&(M.styleAttrs[P.qname]=v.styleAttrs[P.qname])}for(var ve in l.all){var Ge=l.all[ve];Ge.qname in M.styleAttrs||(M.kind==="region"||Ge.inherit===!1&&Ge.initial!==null)&&(M.styleAttrs[Ge.qname]=Ge.parse(Ge.initial),Ee[Ge.qname]=!0)}for(var Ke in l.all){var We=l.all[Ke];if(We.qname in Ee&&We.compute!==null){var $=We.compute(p,v,M,M.styleAttrs[We.qname],H);$!==null?M.styleAttrs[We.qname]=$:c(N,"Style '"+We.qname+"' on element '"+M.kind+"' cannot be computed")}}if(M.styleAttrs[l.byName.display.qname]==="none")return null;for(var K in v===null?ie=D===null?[]:[D]:"contents"in A&&(ie=A.contents),ie){var Ue=f(p,T,g,D,M,S,ie[K],N,H);Ue!==null&&M.contents.push(Ue.element)}for(var $e in M.styleAttrs)l.byQName[$e].applies.indexOf(M.kind)===-1&&delete M.styleAttrs[$e];if(M.kind==="span"&&M.text&&M.space==="default"){var ot=M.text.replace(/\s+/g," ");M.text=ot}if(M.kind==="p"){var He=[];(function h(y,_){if("contents"in y)for(var E in y.contents)h(y.contents[E],_);else _.push(y)})(M,He);for(var q=0,U="after_br",x=0;;)if(U==="after_br")q>=He.length||He[q].kind==="br"?(U="before_br",x=q,q--):(He[q].space!=="preserve"&&(He[q].text=He[q].text.replace(/^\s+/g,"")),He[q].text.length>0?(U="looking_br",q++):He.splice(q,1));else if(U==="before_br")if(q<0||He[q].kind==="br"){if(U="after_br",(q=x+1)>=He.length)break}else if(He[q].space!=="preserve"&&(He[q].text=He[q].text.replace(/\s+$/g,"")),He[q].text.length>0){if(U="after_br",(q=x+1)>=He.length)break}else He.splice(q,1),q--;else q>=He.length||He[q].kind==="br"?(U="before_br",x=q,q--):q++;(function h(y){if(y.kind==="br")return!1;if("text"in y)return y.text.length===0;if("contents"in y){for(var _=y.contents.length;_--;)h(y.contents[_])&&y.contents.splice(_,1);return y.contents.length===0}})(M)}return M.kind==="div"&&l.byName.backgroundImage.qname in M.styleAttrs||M.kind==="br"||"contents"in M&&M.contents.length>0||M.kind==="span"&&M.text!==null||M.kind==="region"&&M.styleAttrs[l.byName.showBackground.qname]==="always"?{region_id:S,element:M}:null}function d(p){this.contents=[],this.aspectRatio=p.aspectRatio}function m(p){for(var T in this.kind=p.kind||"region",p.id&&(this.id=p.id),this.styleAttrs={},p.styleAttrs)this.styleAttrs[T]=p.styleAttrs[T];"text"in p?this.text=p.text:p.kind!=="br"&&(this.contents=[]),"space"in p&&(this.space=p.space)}function c(p,T){if(p&&p.error&&p.error(T))throw T}o.generateISD=function(p,T,g){var D=new d(p),v={};for(var w in p.head.layout.regions){var A=f(p,T,p.head.layout.regions[w],p.body,null,"",p.head.layout.regions[w],g,v);A!==null&&D.contents.push(A.element)}return D}})(r,typeof imscNames>"u"?i(51):imscNames,typeof imscStyles>"u"?i(63):imscStyles)},function(n,r,i){(function(o,u,l,f,d){function m(U,x,h,y){var _=y&&y.timeContainer==="seq",E=0;y&&(E=_&&h?h.end:y.begin),x.begin=x.explicit_begin?x.explicit_begin+E:E;var I=x.begin,L=null;for(var Z in x.sets)m(U,x.sets[Z],L,x),I=x.timeContainer==="seq"?x.sets[Z].end:Math.max(I,x.sets[Z].end),L=x.sets[Z];if("contents"in x)for(var b in x.contents)m(U,x.contents[b],L,x),I=x.timeContainer==="seq"?x.contents[b].end:Math.max(I,x.contents[b].end),L=x.contents[b];else I=_?x.begin:Number.POSITIVE_INFINITY;x.explicit_end!==null&&x.explicit_dur!==null?x.end=Math.min(x.begin+x.explicit_dur,E+x.explicit_end):x.explicit_end===null&&x.explicit_dur!==null?x.end=x.begin+x.explicit_dur:x.explicit_end!==null&&x.explicit_dur===null?x.end=E+x.explicit_end:x.end=I,delete x.explicit_begin,delete x.explicit_dur,delete x.explicit_end,U._registerEvent(x)}function c(U){this.node=U}function p(){this.events=[],this.head=null,this.body=null}function T(){this.styling=null,this.layout=null}function g(){this.styles={}}function D(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function v(){this.regions={}}function w(U){this.kind=U}function A(U){this.id=U}function N(U){this.regionID=U}function H(U){this.styleAttrs=U}function S(U){this.sets=U}function M(U){this.contents=U}function F(U,x,h){this.explicit_begin=U,this.explicit_end=x,this.explicit_dur=h}function ie(){w.call(this,"body")}function Ee(){w.call(this,"div")}function Be(){w.call(this,"p")}function Le(){w.call(this,"span")}function X(){w.call(this,"span")}function P(){w.call(this,"br")}function J(){}function oe(){}function te(U){return U&&"xml:id"in U.attributes&&U.attributes["xml:id"].value||null}function ve(U){return U&&"style"in U.attributes?U.attributes.style.value.split(" "):[]}function Ge(U,x){var h={};if(U!==null)for(var y in U.attributes){var _=U.attributes[y].uri+" "+U.attributes[y].local,E=f.byQName[_];if(E!==void 0){var I=E.parse(U.attributes[y].value);I!==null?(h[_]=I,E===f.byName.zIndex&&$e(x,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ot(x,"Cannot parse styling attribute "+_+" --> "+U.attributes[y].value)}}return h}function Ke(U,x,h){for(var y in U.attributes)if(U.attributes[y].uri===x&&U.attributes[y].local===h)return U.attributes[y].value;return null}function We(U,x,h){var y,_=null;return(y=/^(\d+(?:\.\d+)?)f$/.exec(h))!==null?x!==null&&(_=parseFloat(y[1])/x):(y=/^(\d+(?:\.\d+)?)t$/.exec(h))!==null?U!==null&&(_=parseFloat(y[1])/U):(y=/^(\d+(?:\.\d+)?)ms$/.exec(h))!==null?_=parseFloat(y[1])/1e3:(y=/^(\d+(?:\.\d+)?)s$/.exec(h))!==null?_=parseFloat(y[1]):(y=/^(\d+(?:\.\d+)?)h$/.exec(h))!==null?_=3600*parseFloat(y[1]):(y=/^(\d+(?:\.\d+)?)m$/.exec(h))!==null?_=60*parseFloat(y[1]):(y=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(h))!==null?_=3600*parseInt(y[1])+60*parseInt(y[2])+parseFloat(y[3]):(y=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(h))!==null&&x!==null&&(_=3600*parseInt(y[1])+60*parseInt(y[2])+parseInt(y[3])+(y[4]===null?0:parseInt(y[4])/x)),_}function $(U,x,h){for(;x.styleRefs.length>0;){var y=x.styleRefs.pop();y in U.styles?($(U,U.styles[y],h),Ue(U.styles[y].styleAttrs,x.styleAttrs)):ot(h,"Non-existant style id referenced")}}function K(U,x,h,y){for(var _=x.length-1;_>=0;_--){var E=x[_];E in U.styles?Ue(U.styles[E].styleAttrs,h):ot(y,"Non-existant style id referenced")}}function Ue(U,x){for(var h in U)h in x||(x[h]=U[h])}function $e(U,x){if(U&&U.warn&&U.warn(x))throw x}function ot(U,x){if(U&&U.error&&U.error(x))throw x}function He(U,x){throw U&&U.fatal&&U.fatal(x),x}function q(U,x){for(var h,y=0,_=U.length-1;y<=_;){var E=U[h=Math.floor((y+_)/2)];if(E<x)y=h+1;else{if(!(E>x))return{found:!0,index:h};_=h-1}}return{found:!1,index:y}}o.fromXML=function(U,x,h){var y=u.parser(!0,{xmlns:!0}),_=[],E=[],I=[],L=0,Z=null;y.onclosetag=function(me){if(_[0]instanceof g)for(var ke in _[0].styles)$(_[0],_[0].styles[ke],x);else if(_[0]instanceof Be||_[0]instanceof Le){if(_[0].contents.length>1){var ae,Q=[_[0].contents[0]];for(ae=1;ae<_[0].contents.length;ae++)_[0].contents[ae]instanceof X&&Q[Q.length-1]instanceof X?Q[Q.length-1].text+=_[0].contents[ae].text:Q.push(_[0].contents[ae]);_[0].contents=Q}_[0]instanceof Le&&_[0].contents.length===1&&_[0].contents[0]instanceof X&&(_[0].text=_[0].contents[0].text,delete _[0].contents)}else _[0]instanceof c&&(_[0].node.uri===l.ns_tt&&_[0].node.local==="metadata"?L--:L>0&&h&&"onCloseTag"in h&&h.onCloseTag());I.shift(),E.shift(),_.shift()},y.ontext=function(me){if(_[0]!==void 0)if(_[0]instanceof Le||_[0]instanceof Be){var ke=new X;ke.initFromText(Z,_[0],me,I[0],x),_[0].contents.push(ke)}else _[0]instanceof c&&L>0&&h&&"onText"in h&&h.onText(me)},y.onopentag=function(me){var ke=me.attributes["xml:space"];ke?I.unshift(ke.value):I.length===0?I.unshift("default"):I.unshift(I[0]);var ae=me.attributes["xml:lang"];if(ae?E.unshift(ae.value):E.length===0?E.unshift(""):E.unshift(E[0]),me.uri===l.ns_tt)if(me.local==="tt")Z!==null&&He(x,"Two <tt> elements at ("+this.line+","+this.column+")"),(Z=new p).initFromNode(me,x),_.unshift(Z);else if(me.local==="head")_[0]instanceof p||He(x,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),Z.head!==null&&He("Second <head> element at ("+this.line+","+this.column+")"),Z.head=new T,_.unshift(Z.head);else if(me.local==="styling")_[0]instanceof T||He(x,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),Z.head.styling!==null&&He("Second <styling> element at ("+this.line+","+this.column+")"),Z.head.styling=new g,_.unshift(Z.head.styling);else if(me.local==="style"){var Q;_[0]instanceof g?((Q=new D).initFromNode(me,x),Q.id?Z.head.styling.styles[Q.id]=Q:ot(x,"<style> element missing @id attribute"),_.unshift(Q)):_[0]instanceof J?((Q=new D).initFromNode(me,x),Ue(Q.styleAttrs,_[0].styleAttrs),_.unshift(Q)):He(x,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(me.local==="layout")_[0]instanceof T||He(x,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),Z.head.layout!==null&&He(x,"Second <layout> element at "+this.line+","+this.column+")"),Z.head.layout=new v,_.unshift(Z.head.layout);else if(me.local==="region"){_[0]instanceof v||He(x,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var pe=new J;pe.initFromNode(Z,me,x),!pe.id||pe.id in Z.head.layout.regions?ot(x,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Z.head.layout.regions[pe.id]=pe,_.unshift(pe)}else if(me.local==="body"){_[0]instanceof p||He(x,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Z.body!==null&&He(x,"Second <body> element at "+this.line+","+this.column+")");var De=new ie;De.initFromNode(Z,me,x),Z.body=De,_.unshift(De)}else if(me.local==="div"){_[0]instanceof Ee||_[0]instanceof ie||He(x,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Me=new Ee;Me.initFromNode(Z,_[0],me,x),_[0].contents.push(Me),_.unshift(Me)}else if(me.local==="p"){_[0]instanceof Ee||He(x,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Te=new Be;Te.initFromNode(Z,_[0],me,x),_[0].contents.push(Te),_.unshift(Te)}else if(me.local==="span"){_[0]instanceof Le||_[0]instanceof Be||He(x,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var tt=new Le;tt.initFromNode(Z,_[0],me,I[0],x),_[0].contents.push(tt),_.unshift(tt)}else if(me.local==="br"){_[0]instanceof Le||_[0]instanceof Be||He(x,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ht=new P;ht.initFromNode(Z,_[0],me,x),_[0].contents.push(ht),_.unshift(ht)}else if(me.local==="set"){_[0]instanceof Le||_[0]instanceof Be||_[0]instanceof Ee||_[0]instanceof ie||_[0]instanceof J||_[0]instanceof P||He(x,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var St=new oe;St.initFromNode(Z,_[0],me,x),_[0].sets.push(St),_.unshift(St)}else _.unshift(new c(me));else _.unshift(new c(me));if(_[0]instanceof c){if(me.uri===l.ns_tt&&me.local==="metadata")L++;else if(L>0&&h&&"onOpenTag"in h){var It=[];for(var bt in me.attributes)It[me.attributes[bt].uri+" "+me.attributes[bt].local]={uri:me.attributes[bt].uri,local:me.attributes[bt].local,value:me.attributes[bt].value};h.onOpenTag(me.uri,me.local,It)}}},y.write(U).close(),Z.head!==null?delete Z.head.styling:Z.head=new T,Z.head.layout===null&&(Z.head.layout=new v);var b=!1;for(var V in Z.head.layout.regions){b=!0;break}if(!b){var le=J.prototype.createDefaultRegion();Z.head.layout.regions[le.id]=le}for(var Ie in Z.head.layout.regions)m(Z,Z.head.layout.regions[Ie],null,null);return Z.body&&m(Z,Z.body,null,null),Z},p.prototype.initFromNode=function(U,x){this.cellResolution=function(E,I){var L=Ke(E,l.ns_ttp,"cellResolution"),Z=15,b=32;if(L!==null){var V=/(\d+) (\d+)/.exec(L);V!==null?(b=parseInt(V[1]),Z=parseInt(V[2])):$e(I,"Malformed cellResolution value (using initial value instead)")}return{w:b,h:Z}}(U,x);var h=function(E,I){var L,Z=Ke(E,l.ns_ttp,"frameRate"),b=30;Z!==null&&((L=/(\d+)/.exec(Z))!==null?b=parseInt(L[1]):$e(I,"Malformed frame rate attribute (using initial value instead)"));var V=Ke(E,l.ns_ttp,"frameRateMultiplier"),le=1;V!==null&&((L=/(\d+) (\d+)/.exec(V))!==null?le=parseInt(L[1])/parseInt(L[2]):$e(I,"Malformed frame rate multiplier attribute (using initial value instead)"));var Ie=le*b,me=1,ke=Ke(E,l.ns_ttp,"tickRate");return ke===null?Z!==null&&(me=Ie):(L=/(\d+)/.exec(ke))!==null?me=parseInt(L[1]):$e(I,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Ie,tickRate:me}}(U,x);this.effectiveFrameRate=h.effectiveFrameRate,this.tickRate=h.tickRate,this.aspectRatio=function(E,I){var L=Ke(E,l.ns_ittp,"aspectRatio"),Z=null;if(L!==null){var b=/(\d+) (\d+)/.exec(L);if(b!==null){var V=parseInt(b[1]),le=parseInt(b[2]);V!==0&&le!==0?Z=V/le:ot(I,"Illegal aspectRatio values (ignoring)")}else ot(I,"Malformed aspectRatio attribute (ignoring)")}return Z}(U,x);var y=Ke(U,l.ns_ttp,"timeBase");y!==null&&y!=="media"&&He(x,"Unsupported time base");var _=function(E,I){var L=Ke(E,l.ns_tts,"extent");if(L===null)return null;var Z=L.split(" ");if(Z.length!==2)return $e(I,"Malformed extent (ignoring)"),null;var b=d.parseLength(Z[0]),V=d.parseLength(Z[1]);return!V||!b?($e(I,"Malformed extent values (ignoring)"),null):{h:V,w:b}}(U,x);_===null?this.pxDimensions={h:480,w:640}:(_.h.unit==="px"&&_.w.unit==="px"||He(x,"Extent on TT must be in px or absent"),this.pxDimensions={h:_.h.value,w:_.w.value})},p.prototype._registerEvent=function(U){if(!(U.end<=U.begin)){var x=q(this.events,U.begin);if(x.found||this.events.splice(x.index,0,U.begin),U.end!==Number.POSITIVE_INFINITY){var h=q(this.events,U.end);h.found||this.events.splice(h.index,0,U.end)}}},p.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},p.prototype.getMediaTimeEvents=function(){return this.events},D.prototype.initFromNode=function(U,x){this.id=te(U),this.styleAttrs=Ge(U,x),this.styleRefs=ve(U)},A.prototype.initFromNode=function(U,x,h,y){this.id=te(h)},N.prototype.initFromNode=function(U,x,h,y){this.regionID=function(_){return _&&"region"in _.attributes?_.attributes.region.value:""}(h)},H.prototype.initFromNode=function(U,x,h,y){this.styleAttrs=Ge(h,y),U.head!==null&&U.head.styling!==null&&K(U.head.styling,ve(h),this.styleAttrs,y)},S.prototype.initFromNode=function(U,x,h,y){this.sets=[]},M.prototype.initFromNode=function(U,x,h,y){this.contents=[]},F.prototype.initFromNode=function(U,x,h,y){var _=function(E,I,L,Z){var b=null;L&&"begin"in L.attributes&&(b=We(E.tickRate,E.effectiveFrameRate,L.attributes.begin.value))===null&&$e(Z,"Malformed begin value "+L.attributes.begin.value+" (using 0)");var V=null;L&&"dur"in L.attributes&&(V=We(E.tickRate,E.effectiveFrameRate,L.attributes.dur.value))===null&&$e(Z,"Malformed dur value "+L.attributes.dur.value+" (ignoring)");var le=null;return L&&"end"in L.attributes&&(le=We(E.tickRate,E.effectiveFrameRate,L.attributes.end.value))===null&&$e(Z,"Malformed end value (ignoring)"),{explicit_begin:b,explicit_end:le,explicit_dur:V}}(U,0,h,y);this.explicit_begin=_.explicit_begin,this.explicit_end=_.explicit_end,this.explicit_dur=_.explicit_dur,this.timeContainer=function(E,I){var L=E&&"timeContainer"in E.attributes?E.attributes.timeContainer.value:null;return L&&L!=="par"?L==="seq"?"seq":(ot(I,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(h,y)},ie.prototype.initFromNode=function(U,x,h){H.prototype.initFromNode.call(this,U,null,x,h),F.prototype.initFromNode.call(this,U,null,x,h),S.prototype.initFromNode.call(this,U,null,x,h),N.prototype.initFromNode.call(this,U,null,x,h),M.prototype.initFromNode.call(this,U,null,x,h)},Ee.prototype.initFromNode=function(U,x,h,y){H.prototype.initFromNode.call(this,U,x,h,y),F.prototype.initFromNode.call(this,U,x,h,y),S.prototype.initFromNode.call(this,U,x,h,y),N.prototype.initFromNode.call(this,U,x,h,y),M.prototype.initFromNode.call(this,U,x,h,y)},Be.prototype.initFromNode=function(U,x,h,y){H.prototype.initFromNode.call(this,U,x,h,y),F.prototype.initFromNode.call(this,U,x,h,y),S.prototype.initFromNode.call(this,U,x,h,y),N.prototype.initFromNode.call(this,U,x,h,y),M.prototype.initFromNode.call(this,U,x,h,y)},Le.prototype.initFromNode=function(U,x,h,y,_){H.prototype.initFromNode.call(this,U,x,h,_),F.prototype.initFromNode.call(this,U,x,h,_),S.prototype.initFromNode.call(this,U,x,h,_),N.prototype.initFromNode.call(this,U,x,h,_),M.prototype.initFromNode.call(this,U,x,h,_),this.space=y},X.prototype.initFromText=function(U,x,h,y,_){F.prototype.initFromNode.call(this,U,x,null,_),this.text=h,this.space=y},P.prototype.initFromNode=function(U,x,h,y){N.prototype.initFromNode.call(this,U,x,h,y),F.prototype.initFromNode.call(this,U,x,h,y)},J.prototype.createDefaultRegion=function(){var U=new J;return A.call(U,""),H.call(U,{}),S.call(U,[]),F.call(U,0,Number.POSITIVE_INFINITY,null),U},J.prototype.initFromNode=function(U,x,h){A.prototype.initFromNode.call(this,U,null,x,h),H.prototype.initFromNode.call(this,U,null,x,h),F.prototype.initFromNode.call(this,U,null,x,h),S.prototype.initFromNode.call(this,U,null,x,h),U.head!==null&&U.head.styling!==null&&K(U.head.styling,ve(x),this.styleAttrs,h)},oe.prototype.initFromNode=function(U,x,h,y){F.prototype.initFromNode.call(this,U,x,h,y);var _=Ge(h,y);for(var E in this.qname=null,this.value=null,_){if(this.qname){ot(y,"More than one style specified on set");break}this.qname=E,this.value=_[E]}}})(r,typeof sax>"u"?i(80):sax,typeof imscNames>"u"?i(51):imscNames,typeof imscStyles>"u"?i(63):imscStyles,typeof imscUtils>"u"?i(69):imscUtils)},function(n,r,i){(function(o){(function(u){u.parser=function(h,y){return new d(h,y)},u.SAXParser=d,u.SAXStream=c,u.createStream=function(h,y){return new c(h,y)},u.MAX_BUFFER_LENGTH=65536;var l,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function d(h,y){if(!(this instanceof d))return new d(h,y);(function(_){for(var E=0,I=f.length;E<I;E++)_[f[E]]=""})(this),this.q=this.c="",this.bufferCheckPosition=u.MAX_BUFFER_LENGTH,this.opt=y||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!h,this.noscript=!(!h&&!this.opt.noscript),this.state=P.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(u.XML_ENTITIES):Object.create(u.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(A)),this.trackPosition=this.opt.position!==!1,this.trackPosition&&(this.position=this.line=this.column=0),oe(this,"onready")}u.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(h){function y(){}return y.prototype=h,new y}),Object.keys||(Object.keys=function(h){var y=[];for(var _ in h)h.hasOwnProperty(_)&&y.push(_);return y}),d.prototype={end:function(){We(this)},write:function(h){if(this.error)throw this.error;if(this.closed)return Ke(this,"Cannot write after close. Assign an onready handler.");if(h===null)return We(this);typeof h=="object"&&(h=h.toString());for(var y=0,_="";_=x(h,y++),this.c=_,_;)switch(this.trackPosition&&(this.position++,_===`
`?(this.line++,this.column=0):this.column++),this.state){case P.BEGIN:if(this.state=P.BEGIN_WHITESPACE,_==="\uFEFF")continue;U(this,_);continue;case P.BEGIN_WHITESPACE:U(this,_);continue;case P.TEXT:if(this.sawRoot&&!this.closedRoot){for(var E=y-1;_&&_!=="<"&&_!=="&";)(_=x(h,y++))&&this.trackPosition&&(this.position++,_===`
`?(this.line++,this.column=0):this.column++);this.textNode+=h.substring(E,y-1)}_!=="<"||this.sawRoot&&this.closedRoot&&!this.strict?(!Ee(p,_)||this.sawRoot&&!this.closedRoot||$(this,"Text data outside of root node."),_==="&"?this.state=P.TEXT_ENTITY:this.textNode+=_):(this.state=P.OPEN_WAKA,this.startTagPosition=this.position);continue;case P.SCRIPT:_==="<"?this.state=P.SCRIPT_ENDING:this.script+=_;continue;case P.SCRIPT_ENDING:_==="/"?this.state=P.CLOSE_TAG:(this.script+="<"+_,this.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(_==="!")this.state=P.SGML_DECL,this.sgmlDecl="";else if(!ie(p,_))if(ie(N,_))this.state=P.OPEN_TAG,this.tagName=_;else if(_==="/")this.state=P.CLOSE_TAG,this.tagName="";else if(_==="?")this.state=P.PROC_INST,this.procInstName=this.procInstBody="";else{if($(this,"Unencoded <"),this.startTagPosition+1<this.position){var I=this.position-this.startTagPosition;_=new Array(I).join(" ")+_}this.textNode+="<"+_,this.state=P.TEXT}continue;case P.SGML_DECL:(this.sgmlDecl+_).toUpperCase()==="[CDATA["?(te(this,"onopencdata"),this.state=P.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+_==="--"?(this.state=P.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+_).toUpperCase()==="DOCTYPE"?(this.state=P.DOCTYPE,(this.doctype||this.sawRoot)&&$(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):_===">"?(te(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=P.TEXT):ie(D,_)?(this.state=P.SGML_DECL_QUOTED,this.sgmlDecl+=_):this.sgmlDecl+=_;continue;case P.SGML_DECL_QUOTED:_===this.q&&(this.state=P.SGML_DECL,this.q=""),this.sgmlDecl+=_;continue;case P.DOCTYPE:_===">"?(this.state=P.TEXT,te(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=_,_==="["?this.state=P.DOCTYPE_DTD:ie(D,_)&&(this.state=P.DOCTYPE_QUOTED,this.q=_));continue;case P.DOCTYPE_QUOTED:this.doctype+=_,_===this.q&&(this.q="",this.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:this.doctype+=_,_==="]"?this.state=P.DOCTYPE:ie(D,_)&&(this.state=P.DOCTYPE_DTD_QUOTED,this.q=_);continue;case P.DOCTYPE_DTD_QUOTED:this.doctype+=_,_===this.q&&(this.state=P.DOCTYPE_DTD,this.q="");continue;case P.COMMENT:_==="-"?this.state=P.COMMENT_ENDING:this.comment+=_;continue;case P.COMMENT_ENDING:_==="-"?(this.state=P.COMMENT_ENDED,this.comment=Ge(this.opt,this.comment),this.comment&&te(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+_,this.state=P.COMMENT);continue;case P.COMMENT_ENDED:_!==">"?($(this,"Malformed comment"),this.comment+="--"+_,this.state=P.COMMENT):this.state=P.TEXT;continue;case P.CDATA:_==="]"?this.state=P.CDATA_ENDING:this.cdata+=_;continue;case P.CDATA_ENDING:_==="]"?this.state=P.CDATA_ENDING_2:(this.cdata+="]"+_,this.state=P.CDATA);continue;case P.CDATA_ENDING_2:_===">"?(this.cdata&&te(this,"oncdata",this.cdata),te(this,"onclosecdata"),this.cdata="",this.state=P.TEXT):_==="]"?this.cdata+="]":(this.cdata+="]]"+_,this.state=P.CDATA);continue;case P.PROC_INST:_==="?"?this.state=P.PROC_INST_ENDING:ie(p,_)?this.state=P.PROC_INST_BODY:this.procInstName+=_;continue;case P.PROC_INST_BODY:if(!this.procInstBody&&ie(p,_))continue;_==="?"?this.state=P.PROC_INST_ENDING:this.procInstBody+=_;continue;case P.PROC_INST_ENDING:_===">"?(te(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=P.TEXT):(this.procInstBody+="?"+_,this.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:ie(H,_)?this.tagName+=_:(K(this),_===">"?ot(this):_==="/"?this.state=P.OPEN_TAG_SLASH:(Ee(p,_)&&$(this,"Invalid character in tag name"),this.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:_===">"?(ot(this,!0),He(this)):($(this,"Forward-slash in opening tag not followed by >"),this.state=P.ATTRIB);continue;case P.ATTRIB:if(ie(p,_))continue;_===">"?ot(this):_==="/"?this.state=P.OPEN_TAG_SLASH:ie(N,_)?(this.attribName=_,this.attribValue="",this.state=P.ATTRIB_NAME):$(this,"Invalid attribute name");continue;case P.ATTRIB_NAME:_==="="?this.state=P.ATTRIB_VALUE:_===">"?($(this,"Attribute without value"),this.attribValue=this.attribName,$e(this),ot(this)):ie(p,_)?this.state=P.ATTRIB_NAME_SAW_WHITE:ie(H,_)?this.attribName+=_:$(this,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(_==="=")this.state=P.ATTRIB_VALUE;else{if(ie(p,_))continue;$(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",te(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",_===">"?ot(this):ie(N,_)?(this.attribName=_,this.state=P.ATTRIB_NAME):($(this,"Invalid attribute name"),this.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(ie(p,_))continue;ie(D,_)?(this.q=_,this.state=P.ATTRIB_VALUE_QUOTED):($(this,"Unquoted attribute value"),this.state=P.ATTRIB_VALUE_UNQUOTED,this.attribValue=_);continue;case P.ATTRIB_VALUE_QUOTED:if(_!==this.q){_==="&"?this.state=P.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=_;continue}$e(this),this.q="",this.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:ie(p,_)?this.state=P.ATTRIB:_===">"?ot(this):_==="/"?this.state=P.OPEN_TAG_SLASH:ie(N,_)?($(this,"No whitespace between attributes"),this.attribName=_,this.attribValue="",this.state=P.ATTRIB_NAME):$(this,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(Ee(v,_)){_==="&"?this.state=P.ATTRIB_VALUE_ENTITY_U:this.attribValue+=_;continue}$e(this),_===">"?ot(this):this.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(this.tagName)_===">"?He(this):ie(H,_)?this.tagName+=_:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=P.SCRIPT):(Ee(p,_)&&$(this,"Invalid tagname in closing tag"),this.state=P.CLOSE_TAG_SAW_WHITE);else{if(ie(p,_))continue;Ee(N,_)?this.script?(this.script+="</"+_,this.state=P.SCRIPT):$(this,"Invalid tagname in closing tag."):this.tagName=_}continue;case P.CLOSE_TAG_SAW_WHITE:if(ie(p,_))continue;_===">"?He(this):$(this,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var L,Z;switch(this.state){case P.TEXT_ENTITY:L=P.TEXT,Z="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:L=P.ATTRIB_VALUE_QUOTED,Z="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:L=P.ATTRIB_VALUE_UNQUOTED,Z="attribValue"}_===";"?(this[Z]+=q(this),this.entity="",this.state=L):ie(this.entity.length?M:S,_)?this.entity+=_:($(this,"Invalid character in entity name"),this[Z]+="&"+this.entity+_,this.entity="",this.state=L);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(b){for(var V=Math.max(u.MAX_BUFFER_LENGTH,10),le=0,Ie=0,me=f.length;Ie<me;Ie++){var ke=b[f[Ie]].length;if(ke>V)switch(f[Ie]){case"textNode":ve(b);break;case"cdata":te(b,"oncdata",b.cdata),b.cdata="";break;case"script":te(b,"onscript",b.script),b.script="";break;default:Ke(b,"Max buffer length exceeded: "+f[Ie])}le=Math.max(le,ke)}var ae=u.MAX_BUFFER_LENGTH-le;b.bufferCheckPosition=ae+b.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var h;ve(h=this),h.cdata!==""&&(te(h,"oncdata",h.cdata),h.cdata=""),h.script!==""&&(te(h,"onscript",h.script),h.script="")}};try{l=i(83).Stream}catch{l=function(){}}var m=u.EVENTS.filter(function(h){return h!=="error"&&h!=="end"});function c(h,y){if(!(this instanceof c))return new c(h,y);l.apply(this),this._parser=new d(h,y),this.writable=!0,this.readable=!0;var _=this;this._parser.onend=function(){_.emit("end")},this._parser.onerror=function(E){_.emit("error",E),_._parser.error=null},this._decoder=null,m.forEach(function(E){Object.defineProperty(_,"on"+E,{get:function(){return _._parser["on"+E]},set:function(I){if(!I)return _.removeAllListeners(E),_._parser["on"+E]=I,I;_.on(E,I)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(l.prototype,{constructor:{value:c}}),c.prototype.write=function(h){if(typeof o=="function"&&typeof o.isBuffer=="function"&&o.isBuffer(h)){if(!this._decoder){var y=i(68).StringDecoder;this._decoder=new y("utf8")}h=this._decoder.write(h)}return this._parser.write(h.toString()),this.emit("data",h),!0},c.prototype.end=function(h){return h&&h.length&&this.write(h),this._parser.end(),!0},c.prototype.on=function(h,y){var _=this;return _._parser["on"+h]||m.indexOf(h)===-1||(_._parser["on"+h]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,h),_.emit.apply(_,E)}),l.prototype.on.call(_,h,y)};var p=`\r
	 `,T="0124356789",g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",D=`'"`,v=p+">",w="http://www.w3.org/XML/1998/namespace",A={xml:w,xmlns:"http://www.w3.org/2000/xmlns/"};p=F(p),T=F(T),g=F(g);var N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function F(h){return h.split("").reduce(function(y,_){return y[_]=!0,y},{})}function ie(h,y){return function(_){return Object.prototype.toString.call(_)==="[object RegExp]"}(h)?!!y.match(h):h[y]}function Ee(h,y){return!ie(h,y)}D=F(D),v=F(v);var Be,Le,X,P=0;for(var J in u.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},u.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},u.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(u.ENTITIES).forEach(function(h){var y=u.ENTITIES[h],_=typeof y=="number"?String.fromCharCode(y):y;u.ENTITIES[h]=_}),u.STATE)u.STATE[u.STATE[J]]=J;function oe(h,y,_){h[y]&&h[y](_)}function te(h,y,_){h.textNode&&ve(h),oe(h,y,_)}function ve(h){h.textNode=Ge(h.opt,h.textNode),h.textNode&&oe(h,"ontext",h.textNode),h.textNode=""}function Ge(h,y){return h.trim&&(y=y.trim()),h.normalize&&(y=y.replace(/\s+/g," ")),y}function Ke(h,y){return ve(h),h.trackPosition&&(y+=`
Line: `+h.line+`
Column: `+h.column+`
Char: `+h.c),y=new Error(y),h.error=y,oe(h,"onerror",y),h}function We(h){return h.sawRoot&&!h.closedRoot&&$(h,"Unclosed root tag"),h.state!==P.BEGIN&&h.state!==P.BEGIN_WHITESPACE&&h.state!==P.TEXT&&Ke(h,"Unexpected end"),ve(h),h.c="",h.closed=!0,oe(h,"onend"),d.call(h,h.strict,h.opt),h}function $(h,y){if(typeof h!="object"||!(h instanceof d))throw new Error("bad call to strictFail");h.strict&&Ke(h,y)}function K(h){h.strict||(h.tagName=h.tagName[h.looseCase]());var y=h.tags[h.tags.length-1]||h,_=h.tag={name:h.tagName,attributes:{}};h.opt.xmlns&&(_.ns=y.ns),h.attribList.length=0,te(h,"onopentagstart",_)}function Ue(h,y){var _=h.indexOf(":")<0?["",h]:h.split(":"),E=_[0],I=_[1];return y&&h==="xmlns"&&(E="xmlns",I=""),{prefix:E,local:I}}function $e(h){if(h.strict||(h.attribName=h.attribName[h.looseCase]()),h.attribList.indexOf(h.attribName)!==-1||h.tag.attributes.hasOwnProperty(h.attribName))h.attribName=h.attribValue="";else{if(h.opt.xmlns){var y=Ue(h.attribName,!0),_=y.prefix,E=y.local;if(_==="xmlns")if(E==="xml"&&h.attribValue!==w)$(h,"xml: prefix must be bound to "+w+`
Actual: `+h.attribValue);else if(E==="xmlns"&&h.attribValue!=="http://www.w3.org/2000/xmlns/")$(h,`xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/
Actual: `+h.attribValue);else{var I=h.tag,L=h.tags[h.tags.length-1]||h;I.ns===L.ns&&(I.ns=Object.create(L.ns)),I.ns[E]=h.attribValue}h.attribList.push([h.attribName,h.attribValue])}else h.tag.attributes[h.attribName]=h.attribValue,te(h,"onattribute",{name:h.attribName,value:h.attribValue});h.attribName=h.attribValue=""}}function ot(h,y){if(h.opt.xmlns){var _=h.tag,E=Ue(h.tagName);_.prefix=E.prefix,_.local=E.local,_.uri=_.ns[E.prefix]||"",_.prefix&&!_.uri&&($(h,"Unbound namespace prefix: "+JSON.stringify(h.tagName)),_.uri=E.prefix);var I=h.tags[h.tags.length-1]||h;_.ns&&I.ns!==_.ns&&Object.keys(_.ns).forEach(function(pe){te(h,"onopennamespace",{prefix:pe,uri:_.ns[pe]})});for(var L=0,Z=h.attribList.length;L<Z;L++){var b=h.attribList[L],V=b[0],le=b[1],Ie=Ue(V,!0),me=Ie.prefix,ke=Ie.local,ae=me===""?"":_.ns[me]||"",Q={name:V,value:le,prefix:me,local:ke,uri:ae};me&&me!=="xmlns"&&!ae&&($(h,"Unbound namespace prefix: "+JSON.stringify(me)),Q.uri=me),h.tag.attributes[V]=Q,te(h,"onattribute",Q)}h.attribList.length=0}h.tag.isSelfClosing=!!y,h.sawRoot=!0,h.tags.push(h.tag),te(h,"onopentag",h.tag),y||(h.noscript||h.tagName.toLowerCase()!=="script"?h.state=P.TEXT:h.state=P.SCRIPT,h.tag=null,h.tagName=""),h.attribName=h.attribValue="",h.attribList.length=0}function He(h){if(!h.tagName)return $(h,"Weird empty close tag."),h.textNode+="</>",void(h.state=P.TEXT);if(h.script){if(h.tagName!=="script")return h.script+="</"+h.tagName+">",h.tagName="",void(h.state=P.SCRIPT);te(h,"onscript",h.script),h.script=""}var y=h.tags.length,_=h.tagName;h.strict||(_=_[h.looseCase]());for(var E=_;y--&&h.tags[y].name!==E;)$(h,"Unexpected close tag");if(y<0)return $(h,"Unmatched closing tag: "+h.tagName),h.textNode+="</"+h.tagName+">",void(h.state=P.TEXT);h.tagName=_;for(var I=h.tags.length;I-- >y;){var L=h.tag=h.tags.pop();h.tagName=h.tag.name,te(h,"onclosetag",h.tagName);var Z={};for(var b in L.ns)Z[b]=L.ns[b];var V=h.tags[h.tags.length-1]||h;h.opt.xmlns&&L.ns!==V.ns&&Object.keys(L.ns).forEach(function(le){var Ie=L.ns[le];te(h,"onclosenamespace",{prefix:le,uri:Ie})})}y===0&&(h.closedRoot=!0),h.tagName=h.attribValue=h.attribName="",h.attribList.length=0,h.state=P.TEXT}function q(h){var y,_=h.entity,E=_.toLowerCase(),I="";return h.ENTITIES[_]?h.ENTITIES[_]:h.ENTITIES[E]?h.ENTITIES[E]:((_=E).charAt(0)==="#"&&(_.charAt(1)==="x"?(_=_.slice(2),I=(y=parseInt(_,16)).toString(16)):(_=_.slice(1),I=(y=parseInt(_,10)).toString(10))),_=_.replace(/^0+/,""),I.toLowerCase()!==_?($(h,"Invalid character entity"),"&"+h.entity+";"):String.fromCodePoint(y))}function U(h,y){y==="<"?(h.state=P.OPEN_WAKA,h.startTagPosition=h.position):Ee(p,y)&&($(h,"Non-whitespace before first tag."),h.textNode=y,h.state=P.TEXT)}function x(h,y){var _="";return y<h.length&&(_=h.charAt(y)),_}P=u.STATE,String.fromCodePoint||(Be=String.fromCharCode,Le=Math.floor,X=function(){var h,y,_=16384,E=[],I=-1,L=arguments.length;if(!L)return"";for(var Z="";++I<L;){var b=Number(arguments[I]);if(!isFinite(b)||b<0||b>1114111||Le(b)!==b)throw RangeError("Invalid code point: "+b);b<=65535?E.push(b):(h=55296+((b-=65536)>>10),y=b%1024+56320,E.push(h,y)),(I+1===L||E.length>_)&&(Z+=Be.apply(null,E),E.length=0)}return Z},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:X,configurable:!0,writable:!0}):String.fromCodePoint=X)})(r)}).call(this,i(64).Buffer)},function(n,r,i){r.byteLength=function(T){var g=c(T),D=g[0],v=g[1];return 3*(D+v)/4-v},r.toByteArray=function(T){for(var g,D=c(T),v=D[0],w=D[1],A=new l(function(M,F,ie){return 3*(F+ie)/4-ie}(0,v,w)),N=0,H=w>0?v-4:v,S=0;S<H;S+=4)g=u[T.charCodeAt(S)]<<18|u[T.charCodeAt(S+1)]<<12|u[T.charCodeAt(S+2)]<<6|u[T.charCodeAt(S+3)],A[N++]=g>>16&255,A[N++]=g>>8&255,A[N++]=255&g;return w===2&&(g=u[T.charCodeAt(S)]<<2|u[T.charCodeAt(S+1)]>>4,A[N++]=255&g),w===1&&(g=u[T.charCodeAt(S)]<<10|u[T.charCodeAt(S+1)]<<4|u[T.charCodeAt(S+2)]>>2,A[N++]=g>>8&255,A[N++]=255&g),A},r.fromByteArray=function(T){for(var g,D=T.length,v=D%3,w=[],A=0,N=D-v;A<N;A+=16383)w.push(p(T,A,A+16383>N?N:A+16383));return v===1?(g=T[D-1],w.push(o[g>>2]+o[g<<4&63]+"==")):v===2&&(g=(T[D-2]<<8)+T[D-1],w.push(o[g>>10]+o[g>>4&63]+o[g<<2&63]+"=")),w.join("")};for(var o=[],u=[],l=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=f.length;d<m;++d)o[d]=f[d],u[f.charCodeAt(d)]=d;function c(T){var g=T.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=T.indexOf("=");return D===-1&&(D=g),[D,D===g?0:4-D%4]}function p(T,g,D){for(var v,w,A=[],N=g;N<D;N+=3)v=(T[N]<<16&16711680)+(T[N+1]<<8&65280)+(255&T[N+2]),A.push(o[(w=v)>>18&63]+o[w>>12&63]+o[w>>6&63]+o[63&w]);return A.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(n,r){r.read=function(i,o,u,l,f){var d,m,c=8*f-l-1,p=(1<<c)-1,T=p>>1,g=-7,D=u?f-1:0,v=u?-1:1,w=i[o+D];for(D+=v,d=w&(1<<-g)-1,w>>=-g,g+=c;g>0;d=256*d+i[o+D],D+=v,g-=8);for(m=d&(1<<-g)-1,d>>=-g,g+=l;g>0;m=256*m+i[o+D],D+=v,g-=8);if(d===0)d=1-T;else{if(d===p)return m?NaN:1/0*(w?-1:1);m+=Math.pow(2,l),d-=T}return(w?-1:1)*m*Math.pow(2,d-l)},r.write=function(i,o,u,l,f,d){var m,c,p,T=8*d-f-1,g=(1<<T)-1,D=g>>1,v=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=l?0:d-1,A=l?1:-1,N=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(c=isNaN(o)?1:0,m=g):(m=Math.floor(Math.log(o)/Math.LN2),o*(p=Math.pow(2,-m))<1&&(m--,p*=2),(o+=m+D>=1?v/p:v*Math.pow(2,1-D))*p>=2&&(m++,p/=2),m+D>=g?(c=0,m=g):m+D>=1?(c=(o*p-1)*Math.pow(2,f),m+=D):(c=o*Math.pow(2,D-1)*Math.pow(2,f),m=0));f>=8;i[u+w]=255&c,w+=A,c/=256,f-=8);for(m=m<<f|c,T+=f;T>0;i[u+w]=255&m,w+=A,m/=256,T-=8);i[u+w-A]|=128*N}},function(n,r,i){n.exports=u;var o=i(65).EventEmitter;function u(){o.call(this)}i(40)(u,o),u.Readable=i(66),u.Writable=i(91),u.Duplex=i(92),u.Transform=i(93),u.PassThrough=i(94),u.Stream=u,u.prototype.pipe=function(l,f){var d=this;function m(w){l.writable&&l.write(w)===!1&&d.pause&&d.pause()}function c(){d.readable&&d.resume&&d.resume()}d.on("data",m),l.on("drain",c),l._isStdio||f&&f.end===!1||(d.on("end",T),d.on("close",g));var p=!1;function T(){p||(p=!0,l.end())}function g(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function D(w){if(v(),o.listenerCount(this,"error")===0)throw w}function v(){d.removeListener("data",m),l.removeListener("drain",c),d.removeListener("end",T),d.removeListener("close",g),d.removeListener("error",D),l.removeListener("error",D),d.removeListener("end",v),d.removeListener("close",v),l.removeListener("close",v)}return d.on("error",D),l.on("error",D),d.on("end",v),d.on("close",v),l.on("close",v),l.emit("pipe",d),l}},function(n,r){},function(n,r,i){var o=i(53).Buffer,u=i(86);n.exports=function(){function l(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(f){var d={data:f,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length},l.prototype.unshift=function(f){var d={data:f,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length},l.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(f){if(this.length===0)return"";for(var d=this.head,m=""+d.data;d=d.next;)m+=f+d.data;return m},l.prototype.concat=function(f){if(this.length===0)return o.alloc(0);if(this.length===1)return this.head.data;for(var d,m,c,p=o.allocUnsafe(f>>>0),T=this.head,g=0;T;)d=T.data,m=p,c=g,d.copy(m,c),g+=T.data.length,T=T.next;return p},l}(),u&&u.inspect&&u.inspect.custom&&(n.exports.prototype[u.inspect.custom]=function(){var l=u.inspect({length:this.length});return this.constructor.name+" "+l})},function(n,r){},function(n,r,i){(function(o){var u=o!==void 0&&o||typeof self<"u"&&self||window,l=Function.prototype.apply;function f(d,m){this._id=d,this._clearFn=m}r.setTimeout=function(){return new f(l.call(setTimeout,u,arguments),clearTimeout)},r.setInterval=function(){return new f(l.call(setInterval,u,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(d){d&&d.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(u,this._id)},r.enroll=function(d,m){clearTimeout(d._idleTimeoutId),d._idleTimeout=m},r.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},r._unrefActive=r.active=function(d){clearTimeout(d._idleTimeoutId);var m=d._idleTimeout;m>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},m))},i(88),r.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,i(23))},function(n,r,i){(function(o,u){(function(l,f){if(!l.setImmediate){var d,m,c,p,T,g=1,D={},v=!1,w=l.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(l);A=A&&A.setTimeout?A:l,{}.toString.call(l.process)==="[object process]"?d=function(S){u.nextTick(function(){H(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,M=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=M,S}}()?(p="setImmediate$"+Math.random()+"$",T=function(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(p)===0&&H(+S.data.slice(p.length))},l.addEventListener?l.addEventListener("message",T,!1):l.attachEvent("onmessage",T),d=function(S){l.postMessage(p+S,"*")}):l.MessageChannel?((c=new MessageChannel).port1.onmessage=function(S){H(S.data)},d=function(S){c.port2.postMessage(S)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,d=function(S){var M=w.createElement("script");M.onreadystatechange=function(){H(S),M.onreadystatechange=null,m.removeChild(M),M=null},m.appendChild(M)}):d=function(S){setTimeout(H,0,S)},A.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var M=new Array(arguments.length-1),F=0;F<M.length;F++)M[F]=arguments[F+1];var ie={callback:S,args:M};return D[g]=ie,d(g),g++},A.clearImmediate=N}function N(S){delete D[S]}function H(S){if(v)setTimeout(H,0,S);else{var M=D[S];if(M){v=!0;try{(function(F){var ie=F.callback,Ee=F.args;switch(Ee.length){case 0:ie();break;case 1:ie(Ee[0]);break;case 2:ie(Ee[0],Ee[1]);break;case 3:ie(Ee[0],Ee[1],Ee[2]);break;default:ie.apply(void 0,Ee)}})(M)}finally{N(S),v=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,i(23),i(25))},function(n,r,i){(function(o){function u(l){try{if(!o.localStorage)return!1}catch{return!1}var f=o.localStorage[l];return f!=null&&String(f).toLowerCase()==="true"}n.exports=function(l,f){if(u("noDeprecation"))return l;var d=!1;return function(){if(!d){if(u("throwDeprecation"))throw new Error(f);u("traceDeprecation")?console.trace(f):console.warn(f),d=!0}return l.apply(this,arguments)}}}).call(this,i(23))},function(n,r,i){n.exports=l;var o=i(74),u=i(47);function l(f){if(!(this instanceof l))return new l(f);o.call(this,f)}u.inherits=i(40),u.inherits(l,o),l.prototype._transform=function(f,d,m){m(null,f)}},function(n,r,i){n.exports=i(67)},function(n,r,i){n.exports=i(35)},function(n,r,i){n.exports=i(66).Transform},function(n,r,i){n.exports=i(66).PassThrough},function(n,r,i){(function(o,u,l){function f(v,w,A){var N;if(A.kind==="region"?(N=document.createElement("div")).style.position="absolute":A.kind==="body"||A.kind==="div"?N=document.createElement("div"):A.kind==="p"?N=document.createElement("p"):A.kind==="span"?N=document.createElement("span"):A.kind==="br"&&(N=document.createElement("br")),N){for(var H in N.style.margin="0",T){var S=T[H],M=A.styleAttrs[S.qname];M!==void 0&&S.map!==null&&S.map(v,N,A,M)}var F=N;if(A.kind==="region"){var ie=A.styleAttrs[l.byName.writingMode.qname];ie==="lrtb"||ie==="lr"?(v.ipd="lr",v.bpd="tb"):ie==="rltb"||ie==="rl"?(v.ipd="rl",v.bpd="tb"):ie==="tblr"?(v.ipd="tb",v.bpd="lr"):ie!=="tbrl"&&ie!=="tb"||(v.ipd="tb",v.bpd="rl")}var Ee=A.styleAttrs[l.byName.linePadding.qname];if(Ee&&Ee>0){var Be=Math.ceil(Ee*v.h)+"px";v.bpd==="tb"?(F.style.paddingLeft=Be,F.style.paddingRight=Be):(F.style.paddingTop=Be,F.style.paddingBottom=Be),v.lp=Ee}var Le=A.styleAttrs[l.byName.multiRowAlign.qname];if(Le&&Le!=="auto"){var X=document.createElement("span");X.style.display="inline-block",X.style.textAlign=Le,N.appendChild(X),F=X,v.mra=Le}if(A.styleAttrs[l.byName.fillLineGap.qname]&&(v.flg=!0),A.kind==="span"&&A.text)if(v.lp||v.mra||v.flg)for(var P="",J=0;J<A.text.length;J++){P+=A.text.charAt(J);var oe=A.text.charCodeAt(J);if(oe<55296||oe>56319||J===A.text.length){var te=document.createElement("span");te.textContent=P,N.appendChild(te),P=""}}else N.textContent=A.text;for(var ve in w.appendChild(N),A.contents)f(v,F,A.contents[ve]);var Ge=[];if((v.lp||v.mra||v.flg)&&A.kind==="p"&&(c(v,F,Ge,null),v.mra&&(function(Ue){for(var $e=0;$e<Ue.length-1;$e++){var ot=Ue[$e].elements.length;if(ot!==0&&Ue[$e].br===!1){var He=document.createElement("br"),q=Ue[$e].elements[ot-1].node;q.parentElement.insertBefore(He,q.nextSibling)}}}(Ge),v.mra=null),v.lp&&(function(Ue,$e,ot){for(var He in Ue){var q=Ue[He].elements.length,U=Ue[He].elements[Ue[He].start_elem],x=Ue[He].elements[Ue[He].end_elem],h=Math.ceil($e)+"px",y="-"+Math.ceil($e)+"px";q!==0&&(ot.ipd==="lr"?(U.node.style.borderLeftColor=U.bgcolor||"#00000000",U.node.style.borderLeftStyle="solid",U.node.style.borderLeftWidth=h,U.node.style.marginLeft=y):ot.ipd==="rl"?(U.node.style.borderRightColor=U.bgcolor||"#00000000",U.node.style.borderRightStyle="solid",U.node.style.borderRightWidth=h,U.node.style.marginRight=y):ot.ipd==="tb"&&(U.node.style.borderTopColor=U.bgcolor||"#00000000",U.node.style.borderTopStyle="solid",U.node.style.borderTopWidth=h,U.node.style.marginTop=y),ot.ipd==="lr"?(x.node.style.borderRightColor=x.bgcolor||"#00000000",x.node.style.borderRightStyle="solid",x.node.style.borderRightWidth=h,x.node.style.marginRight=y):ot.ipd==="rl"?(x.node.style.borderLeftColor=x.bgcolor||"#00000000",x.node.style.borderLeftStyle="solid",x.node.style.borderLeftWidth=h,x.node.style.marginLeft=y):ot.ipd==="tb"&&(x.node.style.borderBottomColor=x.bgcolor||"#00000000",x.node.style.borderBottomStyle="solid",x.node.style.borderBottomWidth=h,x.node.style.marginBottom=y))}}(Ge,v.lp*v.h,v),v.lp=null),v.flg)){var Ke=m(F.getBoundingClientRect(),v);(function(Ue,$e,ot,He){for(var q=Math.sign(ot-$e),U=0;U<=Ue.length;U++){var x,h,y;if(x=U===0?$e:U===Ue.length?ot:(Ue[U].before+Ue[U-1].after)/2,U>0)for(var _=0;_<Ue[U-1].elements.length;_++)Ue[U-1].elements[_].bgcolor!==null&&(y=Ue[U-1].elements[_],q*(y.after-x)<0&&(h=Math.ceil(Math.abs(x-y.after))+"px",y.node.style.backgroundColor=y.bgcolor,He.bpd==="lr"?y.node.style.paddingRight=h:He.bpd==="rl"?y.node.style.paddingLeft=h:He.bpd==="tb"&&(y.node.style.paddingBottom=h)));if(U<Ue.length)for(var E=0;E<Ue[U].elements.length;E++)(y=Ue[U].elements[E]).bgcolor!==null&&q*(y.before-x)>0&&(h=Math.ceil(Math.abs(y.before-x))+"px",y.node.style.backgroundColor=y.bgcolor,He.bpd==="lr"?y.node.style.paddingLeft=h:He.bpd==="rl"?y.node.style.paddingRight=h:He.bpd==="tb"&&(y.node.style.paddingTop=h))}})(Ge,Ke.before,Ke.after,v),v.flg=null}if(A.kind==="region"&&(c(v,F,Ge),v.bpd==="tb"&&v.enableRollUp&&A.contents.length>0&&A.styleAttrs[l.byName.displayAlign.qname]==="after")){var We=new d(A.id===""?"_":A.id,Ge);if(v.currentISDState[We.id]=We,v.previousISDState&&We.id in v.previousISDState&&v.previousISDState[We.id].plist.length>0&&We.plist.length>1&&We.plist[We.plist.length-2].text===v.previousISDState[We.id].plist[v.previousISDState[We.id].plist.length-1].text){var $=N.firstElementChild,K=We.plist[We.plist.length-1].after-We.plist[We.plist.length-1].before;$.style.bottom="-"+K+"px",$.style.transition="transform 0.4s",$.style.position="relative",$.style.transform="translateY(-"+K+"px)"}}}else(function(Ue,$e){if(Ue&&Ue.error&&Ue.error($e))throw $e})(v.errorHandler,"Error processing ISD element kind: "+A.kind)}function d(v,w){this.id=v,this.plist=w}function m(v,w){var A={before:null,after:null,start:null,end:null};return w.bpd==="tb"?(A.before=v.top,A.after=v.bottom,w.ipd==="lr"?(A.start=v.left,A.end=v.right):(A.start=v.right,A.end=v.left)):w.bpd==="lr"?(A.before=v.left,A.after=v.right,A.start=v.top,A.end=v.bottom):w.bpd==="rl"&&(A.before=v.right,A.after=v.left,A.start=v.top,A.end=v.bottom),A}function c(v,w,A,N){var H,S,M,F,ie=w.style.backgroundColor||N;if(w.childElementCount===0)if(w.localName==="span"){var Ee=w.getBoundingClientRect();if(Ee.height===0||Ee.width===0)return;var Be=m(Ee,v);if(A.length!==0&&(H=Be.before,S=Be.after,M=A[A.length-1].before,F=A[A.length-1].after,S<F&&H>M||F<=S&&M>=H)){var Le=Math.sign(Be.after-Be.before),X=Math.sign(Be.end-Be.start);Le*(Be.before-A[A.length-1].before)<0&&(A[A.length-1].before=Be.before),Le*(Be.after-A[A.length-1].after)>0&&(A[A.length-1].after=Be.after),X*(Be.start-A[A.length-1].start)<0&&(A[A.length-1].start=Be.start,A[A.length-1].start_elem=A[A.length-1].elements.length),X*(Be.end-A[A.length-1].end)>0&&(A[A.length-1].end=Be.end,A[A.length-1].end_elem=A[A.length-1].elements.length)}else A.push({before:Be.before,after:Be.after,start:Be.start,end:Be.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});A[A.length-1].text+=w.textContent,A[A.length-1].elements.push({node:w,bgcolor:ie,before:Be.before,after:Be.after})}else w.localName==="br"&&A.length!==0&&(A[A.length-1].br=!0);else for(var P=w.firstChild;P;)P.nodeType===Node.ELEMENT_NODE&&c(v,P,A,ie),P=P.nextSibling}function p(v,w){this.qname=v,this.map=w}o.render=function(v,w,A,N,H,S,M,F,ie){var Ee=N||w.clientHeight,Be=H||w.clientWidth;if(v.aspectRatio!==null){var Le=Ee*v.aspectRatio;Le>Be?Ee=Math.round(Be/v.aspectRatio):Be=Le}var X=document.createElement("div");X.style.position="relative",X.style.width=Be+"px",X.style.height=Ee+"px",X.style.margin="auto",X.style.top=0,X.style.bottom=0,X.style.left=0,X.style.right=0,X.style.zIndex=0;var P={h:Ee,w:Be,regionH:null,regionW:null,imgResolver:A,displayForcedOnlyMode:S||!1,isd:v,errorHandler:M,previousISDState:F,enableRollUp:ie||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var J in w.appendChild(X),v.contents)f(P,X,v.contents[J]);return P.currentISDState};var T=[new p("http://www.w3.org/ns/ttml#styling backgroundColor",function(v,w,A,N){N[3]!==0&&(w.style.backgroundColor="rgba("+N[0].toString()+","+N[1].toString()+","+N[2].toString()+","+(N[3]/255).toString()+")")}),new p("http://www.w3.org/ns/ttml#styling color",function(v,w,A,N){w.style.color="rgba("+N[0].toString()+","+N[1].toString()+","+N[2].toString()+","+(N[3]/255).toString()+")"}),new p("http://www.w3.org/ns/ttml#styling direction",function(v,w,A,N){w.style.direction=N}),new p("http://www.w3.org/ns/ttml#styling display",function(v,w,A,N){}),new p("http://www.w3.org/ns/ttml#styling displayAlign",function(v,w,A,N){w.style.display="flex",w.style.flexDirection="column",N==="before"?w.style.justifyContent="flex-start":N==="center"?w.style.justifyContent="center":N==="after"&&(w.style.justifyContent="flex-end")}),new p("http://www.w3.org/ns/ttml#styling extent",function(v,w,A,N){v.regionH=N.h*v.h,v.regionW=N.w*v.w;var H=0,S=0,M=A.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];M&&(H=(M[0]+M[2])*v.h,S=(M[1]+M[3])*v.w),w.style.height=v.regionH-H+"px",w.style.width=v.regionW-S+"px"}),new p("http://www.w3.org/ns/ttml#styling fontFamily",function(v,w,A,N){var H=[];for(var S in N)N[S]==="monospaceSerif"?(H.push("Courier New"),H.push('"Liberation Mono"'),H.push("Courier"),H.push("monospace")):N[S]==="proportionalSansSerif"?(H.push("Arial"),H.push("Helvetica"),H.push('"Liberation Sans"'),H.push("sans-serif")):N[S]==="monospace"?H.push("monospace"):N[S]==="sansSerif"?H.push("sans-serif"):N[S]==="serif"?H.push("serif"):N[S]==="monospaceSansSerif"?(H.push("Consolas"),H.push("monospace")):N[S]==="proportionalSerif"?H.push("serif"):H.push(N[S]);w.style.fontFamily=H.join(",")}),new p("http://www.w3.org/ns/ttml#styling fontSize",function(v,w,A,N){w.style.fontSize=N*v.h+"px"}),new p("http://www.w3.org/ns/ttml#styling fontStyle",function(v,w,A,N){w.style.fontStyle=N}),new p("http://www.w3.org/ns/ttml#styling fontWeight",function(v,w,A,N){w.style.fontWeight=N}),new p("http://www.w3.org/ns/ttml#styling lineHeight",function(v,w,A,N){w.style.lineHeight=N==="normal"?"normal":N*v.h+"px"}),new p("http://www.w3.org/ns/ttml#styling opacity",function(v,w,A,N){w.style.opacity=N}),new p("http://www.w3.org/ns/ttml#styling origin",function(v,w,A,N){w.style.top=N.h*v.h+"px",w.style.left=N.w*v.w+"px"}),new p("http://www.w3.org/ns/ttml#styling overflow",function(v,w,A,N){w.style.overflow=N}),new p("http://www.w3.org/ns/ttml#styling padding",function(v,w,A,N){var H=[];H[0]=N[0]*v.h+"px",H[1]=N[3]*v.w+"px",H[2]=N[2]*v.h+"px",H[3]=N[1]*v.w+"px",w.style.padding=H.join(" ")}),new p("http://www.w3.org/ns/ttml#styling showBackground",null),new p("http://www.w3.org/ns/ttml#styling textAlign",function(v,w,A,N){var H,S=A.styleAttrs[l.byName.direction.qname];H=N==="start"?S==="rtl"?"right":"left":N==="end"?S==="rtl"?"left":"right":N,w.style.textAlign=H}),new p("http://www.w3.org/ns/ttml#styling textDecoration",function(v,w,A,N){w.style.textDecoration=N.join(" ").replace("lineThrough","line-through")}),new p("http://www.w3.org/ns/ttml#styling textOutline",function(v,w,A,N){w.style.textShadow=N==="none"?"":"rgba("+N.color[0].toString()+","+N.color[1].toString()+","+N.color[2].toString()+","+(N.color[3]/255).toString()+") 0px 0px "+N.thickness*v.h+"px"}),new p("http://www.w3.org/ns/ttml#styling unicodeBidi",function(v,w,A,N){var H;H=N==="bidiOverride"?"bidi-override":N,w.style.unicodeBidi=H}),new p("http://www.w3.org/ns/ttml#styling visibility",function(v,w,A,N){w.style.visibility=N}),new p("http://www.w3.org/ns/ttml#styling wrapOption",function(v,w,A,N){N==="wrap"?A.space==="preserve"?w.style.whiteSpace="pre-wrap":w.style.whiteSpace="normal":A.space==="preserve"?w.style.whiteSpace="pre":w.style.whiteSpace="noWrap"}),new p("http://www.w3.org/ns/ttml#styling writingMode",function(v,w,A,N){N==="lrtb"||N==="lr"||N==="rltb"||N==="rl"?w.style.writingMode="horizontal-tb":N==="tblr"?w.style.writingMode="vertical-lr":N!=="tbrl"&&N!=="tb"||(w.style.writingMode="vertical-rl")}),new p("http://www.w3.org/ns/ttml#styling zIndex",function(v,w,A,N){w.style.zIndex=N}),new p("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(v,w,A,N){if(v.imgResolver!==null&&N!==null){var H=document.createElement("img"),S=v.imgResolver(N,H);S&&(H.src=S),H.height=v.regionH,H.width=v.regionW,w.appendChild(H)}}),new p("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(v,w,A,N){v.displayForcedOnlyMode&&N===!1&&(w.style.visibility="hidden")})],g={};for(var D in T)g[T[D].qname]=T[D]})(r,typeof imscNames>"u"?i(51):imscNames,typeof imscStyles>"u"?i(63):imscStyles)},function(n,r,i){n.exports=i(97).polyfill()},function(n,r,i){(function(o,u){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var l;l=function(){function f(q){return typeof q=="function"}var d=Array.isArray?Array.isArray:function(q){return Object.prototype.toString.call(q)==="[object Array]"},m=0,c=void 0,p=void 0,T=function(q,U){H[m]=q,H[m+1]=U,(m+=2)===2&&(p?p(S):Be())},g=typeof window<"u"?window:void 0,D=g||{},v=D.MutationObserver||D.WebKitMutationObserver,w=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",A=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function N(){var q=setTimeout;return function(){return q(S,1)}}var H=new Array(1e3);function S(){for(var q=0;q<m;q+=2)(0,H[q])(H[q+1]),H[q]=void 0,H[q+1]=void 0;m=0}var M,F,ie,Ee,Be=void 0;function Le(q,U){var x=this,h=new this.constructor(J);h[P]===void 0&&$e(h);var y=x._state;if(y){var _=arguments[y-1];T(function(){return K(y,h,_,x._result)})}else We(x,h,q,U);return h}function X(q){if(q&&typeof q=="object"&&q.constructor===this)return q;var U=new this(J);return te(U,q),U}w?Be=function(){return o.nextTick(S)}:v?(F=0,ie=new v(S),Ee=document.createTextNode(""),ie.observe(Ee,{characterData:!0}),Be=function(){Ee.data=F=++F%2}):A?((M=new MessageChannel).port1.onmessage=S,Be=function(){return M.port2.postMessage(0)}):Be=g===void 0?function(){try{var q=Function("return this")().require("vertx");return(c=q.runOnLoop||q.runOnContext)!==void 0?function(){c(S)}:N()}catch{return N()}}():N();var P=Math.random().toString(36).substring(2);function J(){}function oe(q,U,x){U.constructor===q.constructor&&x===Le&&U.constructor.resolve===X?function(h,y){y._state===1?Ge(h,y._result):y._state===2?Ke(h,y._result):We(y,void 0,function(_){return te(h,_)},function(_){return Ke(h,_)})}(q,U):x===void 0?Ge(q,U):f(x)?function(h,y,_){T(function(E){var I=!1,L=function(Z,b,V,le){try{Z.call(b,V,le)}catch(Ie){return Ie}}(_,y,function(Z){I||(I=!0,y!==Z?te(E,Z):Ge(E,Z))},function(Z){I||(I=!0,Ke(E,Z))},E._label);!I&&L&&(I=!0,Ke(E,L))},h)}(q,U,x):Ge(q,U)}function te(q,U){if(q===U)Ke(q,new TypeError("You cannot resolve a promise with itself"));else if(y=typeof(h=U),h===null||y!=="object"&&y!=="function")Ge(q,U);else{var x=void 0;try{x=U.then}catch(_){return void Ke(q,_)}oe(q,U,x)}var h,y}function ve(q){q._onerror&&q._onerror(q._result),$(q)}function Ge(q,U){q._state===void 0&&(q._result=U,q._state=1,q._subscribers.length!==0&&T($,q))}function Ke(q,U){q._state===void 0&&(q._state=2,q._result=U,T(ve,q))}function We(q,U,x,h){var y=q._subscribers,_=y.length;q._onerror=null,y[_]=U,y[_+1]=x,y[_+2]=h,_===0&&q._state&&T($,q)}function $(q){var U=q._subscribers,x=q._state;if(U.length!==0){for(var h=void 0,y=void 0,_=q._result,E=0;E<U.length;E+=3)h=U[E],y=U[E+x],h?K(x,h,y,_):y(_);q._subscribers.length=0}}function K(q,U,x,h){var y=f(x),_=void 0,E=void 0,I=!0;if(y){try{_=x(h)}catch(L){I=!1,E=L}if(U===_)return void Ke(U,new TypeError("A promises callback cannot return that same promise."))}else _=h;U._state!==void 0||(y&&I?te(U,_):I===!1?Ke(U,E):q===1?Ge(U,_):q===2&&Ke(U,_))}var Ue=0;function $e(q){q[P]=Ue++,q._state=void 0,q._result=void 0,q._subscribers=[]}var ot=function(){function q(U,x){this._instanceConstructor=U,this.promise=new U(J),this.promise[P]||$e(this.promise),d(x)?(this.length=x.length,this._remaining=x.length,this._result=new Array(this.length),this.length===0?Ge(this.promise,this._result):(this.length=this.length||0,this._enumerate(x),this._remaining===0&&Ge(this.promise,this._result))):Ke(this.promise,new Error("Array Methods must be provided an Array"))}return q.prototype._enumerate=function(U){for(var x=0;this._state===void 0&&x<U.length;x++)this._eachEntry(U[x],x)},q.prototype._eachEntry=function(U,x){var h=this._instanceConstructor,y=h.resolve;if(y===X){var _=void 0,E=void 0,I=!1;try{_=U.then}catch(Z){I=!0,E=Z}if(_===Le&&U._state!==void 0)this._settledAt(U._state,x,U._result);else if(typeof _!="function")this._remaining--,this._result[x]=U;else if(h===He){var L=new h(J);I?Ke(L,E):oe(L,U,_),this._willSettleAt(L,x)}else this._willSettleAt(new h(function(Z){return Z(U)}),x)}else this._willSettleAt(y(U),x)},q.prototype._settledAt=function(U,x,h){var y=this.promise;y._state===void 0&&(this._remaining--,U===2?Ke(y,h):this._result[x]=h),this._remaining===0&&Ge(y,this._result)},q.prototype._willSettleAt=function(U,x){var h=this;We(U,void 0,function(y){return h._settledAt(1,x,y)},function(y){return h._settledAt(2,x,y)})},q}(),He=function(){function q(U){this[P]=Ue++,this._result=this._state=void 0,this._subscribers=[],J!==U&&(typeof U!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function(x,h){try{h(function(y){te(x,y)},function(y){Ke(x,y)})}catch(y){Ke(x,y)}}(this,U):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.catch=function(U){return this.then(null,U)},q.prototype.finally=function(U){var x=this.constructor;return f(U)?this.then(function(h){return x.resolve(U()).then(function(){return h})},function(h){return x.resolve(U()).then(function(){throw h})}):this.then(U,U)},q}();return He.prototype.then=Le,He.all=function(q){return new ot(this,q).promise},He.race=function(q){var U=this;return d(q)?new U(function(x,h){for(var y=q.length,_=0;_<y;_++)U.resolve(q[_]).then(x,h)}):new U(function(x,h){return h(new TypeError("You must pass an array to race."))})},He.resolve=X,He.reject=function(q){var U=new this(J);return Ke(U,q),U},He._setScheduler=function(q){p=q},He._setAsap=function(q){T=q},He._asap=T,He.polyfill=function(){var q=void 0;if(u!==void 0)q=u;else if(typeof self<"u")q=self;else try{q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var U=q.Promise;if(U){var x=null;try{x=Object.prototype.toString.call(U.resolve())}catch{}if(x==="[object Promise]"&&!U.cast)return}q.Promise=He},He.Promise=He,He},n.exports=l()}).call(this,i(25),i(23))}]).default})})(lg);var C2=lg.exports;const M2=R2(C2),Po=M2,N2=nn({props:{url:{type:String},class:{type:String,default:""},onPlaybackEnded:{type:Function,default:null},onPlaybackError:{type:Function,default:null}},setup(e){const t=jt(null),n=jr(e,"class");return xa(()=>{const r=Po.MediaPlayer().create(),i=t.value;r.on(Po.MediaPlayer.events.PLAYBACK_NOT_ALLOWED,function(o){i.muted=!0,r.initialize(t.value,e.url,!0)}),r.on(Po.MediaPlayer.events.PLAYBACK_ENDED,function(o){e.onPlaybackEnded&&e.onPlaybackEnded(e.url)}),r.on(Po.MediaPlayer.events.PLAYBACK_ERROR,function(o){e.onPlaybackError&&e.onPlaybackError(e.url)}),r.on(Po.MediaPlayer.events.ERROR,function(o){e.onPlaybackError&&e.onPlaybackError(e.url)}),r.initialize(i,e.url,!0)}),{video:t,cls:n}}});function O2(e,t,n,r,i,o){return dt(),_t("video",{ref:"video",class:lr(["video",e.cls])},null,2)}const D2=cn(N2,[["render",O2]]),P2=nn({components:{StreamingVideo:D2,IconButton:o0},setup(){const e=Nr(),t=Kn(Xr);t.currentPage=0;const n=jt(!1),r=()=>{t.fadeOut=!0,setTimeout(function(){e.push("/welcome"),setTimeout(function(){t.fadeOut=!1},500)},500)};return o1(t)?e.push("/assessments"):cm(t)?e.push("/welcome"):n.value=!0,{playVideo:n,next:r}}}),L2={class:"background"},x2={key:0};function F2(e,t,n,r,i,o){const u=Kt("StreamingVideo"),l=Kt("IconButton");return dt(),_t("div",L2,[e.playVideo?(dt(),_t("div",x2,[Ft(u,{class:"video",url:"/processed-intro-video/dash.mpd",onPlaybackEnded:e.next,onPlaybackError:e.next},null,8,["onPlaybackEnded","onPlaybackError"]),Ft(l,{icon:"/assets/icon-skip-video.png",class:"skip",onClick:e.next},{default:qt(()=>[Lt("Skip Intro")]),_:1},8,["onClick"])])):Hn("",!0)])}const k2=cn(P2,[["render",F2],["__scopeId","data-v-ab4bb5af"]]),U2=nn({components:{Button:nr},setup(){const e=Nr(),t=Kn(Xr);t.currentPage=2;const n=[{title:"This Assessment is Confidential",body:"You acknowledge and agree that this Assessment, and all material and content contained in the Assessment, is confidential information of Roblox and not to be shared with anyone outside the company. "},{title:"Assessment Data Analysis",body:"You also acknowledge and agree that feedback and responses you provide may include personal information and that the company may use such personal information (and any non-personal information you provide) to analyze, modify, and enhance the Assessment. Excluding any personal information you provide, the company will own your feedback and responses."},{title:"This Assessment Is For You Only",body:"You can confirm that:<ul><li>You are taking this assessment independently and you are not receiving any assistance completing it.</li><li>You are taking this as your assessment and not taking this on behalf of anyone else.</li></ul>"}];let r=jt(0);const i=()=>{e.push("/terms/full")},o=u=>{u==r.value&&(r.value+=1,r.value>=n.length&&i())};return t.assessment.terms_accepted&&i(),{active:r,cards:n,accept:o}}}),B2=e=>(fr("data-v-eb7ff45d"),e=e(),dr(),e),G2={class:"content-wide"},j2=B2(()=>Je("h1",{class:"text-heading-large"},"A Few Essential Rules",-1)),H2={class:"cards"},V2={class:"overline"},q2={class:"headline"},Y2=["innerHTML"];function $2(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",G2,[j2,Je("div",H2,[(dt(!0),_t(xn,null,zr(e.cards,(l,f)=>Ii((dt(),_t("div",{key:f,class:lr(["card",{inactive:f!=e.active}])},[Je("div",V2,"TERM "+Wt(f+1)+" OF "+Wt(e.cards.length),1),Je("div",q2,Wt(l.title),1),Je("div",{class:"body",innerHTML:l.body},null,8,Y2),Ft(u,{class:"button wide primary",disabled:f!=e.active,onClick:()=>{e.accept(f)}},{default:qt(()=>[Lt("I agree")]),_:2},1032,["disabled","onClick"])],2)),[[Zi,e.active<=f]])),128))])])}const W2=cn(U2,[["render",$2],["__scopeId","data-v-eb7ff45d"]]);let z2=0;const K2=nn({props:{checked:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},setup(e,t){return{id:jt("checkbox-"+z2++),onInput:i=>{t.emit("update:checked",i.target.checked)},...so(e)}}}),X2=e=>(fr("data-v-b74f3f41"),e=e(),dr(),e),Q2=["for"],Z2=["id","checked"],J2=X2(()=>Je("div",{class:"checkbox"},null,-1));function ew(e,t,n,r,i,o){return dt(),_t("label",{for:e.id,class:lr(["checkbox-row",{error:e.error}])},[Je("input",{id:e.id,checked:e.checked,type:"checkbox",class:"hidden",onInput:t[0]||(t[0]=(...u)=>e.onInput&&e.onInput(...u))},null,40,Z2),J2,ai(e.$slots,"default",{},void 0,!0)],10,Q2)}const cg=cn(K2,[["render",ew],["__scopeId","data-v-b74f3f41"]]),tw=nn({components:{Button:nr,Checkbox:cg},setup(){const e=Nr(),t=Kn(Xr);t.currentPage=2;const n=jt(!1),r=jt(t.assessment.user_type),i=()=>{e.push("/roblox-account/auto")},o=async()=>{await t.api.updateAssessment({terms_accepted:!0}),t.assessment.terms_accepted=!0,i()};return t.assessment.terms_accepted&&i(),{user_type:r,accepted:n,accept:o,next:i}}}),fg=e=>(fr("data-v-3a7e246d"),e=e(),dr(),e),nw={class:"content"},rw=fg(()=>Je("h1",{class:"text-heading-large"},"Full Terms & Conditions",-1)),iw={class:"card terms"},aw=ST('<div class="scroll" data-v-3a7e246d><p data-v-3a7e246d> Roblox Corporation (Roblox) is conducting an assessment (the Assessment Test) using an assessment tool (such tool be referred to as the Tool). Roblox has established the Assessment Test to, among other things, assist individuals in connection with their application of employment (or internship) with Roblox. This Assessment Tool Agreement (the Agreement) governs your participation in the Assessment Test. By taking the Assessment Test or accessing or using the Tool, you are not guaranteed or promised any offer of employment with Roblox, either expressly or by implication. </p><p data-v-3a7e246d> PLEASE READ AND REVIEW THIS AGREEMENT CAREFULLY BEFORE ACCESSING OR USING ANY MATERIAL ASSOCIATED WITH THE ASSESSMENT TEST. BY PARTICIPATING IN THE ASSESSMENT TEST, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD AND AGREED TO THE AGREEMENT. IF YOU DO NOT AGREE TO THIS AGREEMENT, YOU MAY NOT ACCESS OR TAKE THE ASSESSMENT TEST. </p><p data-v-3a7e246d> THE ASSESSMENT TEST IS PROPRIETARY TO ROBLOX. AS FURTHER DESCRIBED IN SECTION 6, YOU ARE PROHIBITED FROM CAPTURING (VIA MEANS OF SCREENSHOT, VIDEOCAPTURE, COPYING TEXT, OR OTHERWISE) ANY PART OF THE ASSESSMENT TEST OR ASSOCIATED MATERIALS AND FURTHER PROHIBITED FROM REPRODUCING, REVERSE ENGINEERING OR DISTRIBUTING ANY PORTION OF ANY USER INTERFACE THAT IS DISPLAYED IN CONNECTION WITH THE ASSESSMENT TEST (WHETHER ONLINE OR VIA ANY OTHER MEANS). PLEASE NOTE THAT SECTION 7 OF THIS AGREEMENT PROVIDES THAT IF YOU VIOLATE THE USE RESTRICTIONS HEREIN, YOU ARE LIABLE TO PAY LIQUIDATED DAMAGES TO ROBLOX EQUAL TO AN AMOUNT OF $25,000.00 USD PER INSTANCE OF VIOLATION. </p><p data-v-3a7e246d> IN ADDITION, SECTION 14 CONTAINS AN ARBITRATION AGREEMENT WHICH WILL, WITH LIMITED EXCEPTIONS, REQUIRE DISPUTES BETWEEN US TO BE SUBMITTED TO BINDING AND FINAL ARBITRATION. UNLESS YOU OPT OUT OF THE ARBITRATION AGREEMENT: (1) YOU WILL ONLY BE PERMITTED TO PURSUE CLAIMS AND SEEK RELIEF AGAINST US ON AN INDIVIDUAL BASIS, NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY CLASS OR REPRESENTATIVE ACTION OR PROCEEDING; AND (2) YOU ARE WAIVING YOUR RIGHT TO SEEK RELIEF IN A COURT OF LAW AND TO HAVE A JURY TRIAL ON YOUR CLAIMS. </p><p data-v-3a7e246d> By clicking the I AGREE button below, you agree to all the terms and conditions of this Agreement. If you do not agree to the terms and conditions of this Agreement, do not click the I AGREE button, and do not access or attempt to access the Tool or otherwise participate in the Assessment Test. By accessing or using any portion of the Tool, any software associated with the Tool or participating in the Assessment Test, you agree to all of the terms and conditions of this Agreement. </p><p data-v-3a7e246d>Accordingly, you acknowledge that in exchange for valuable consideration you agree as follows:</p><ol data-v-3a7e246d><li data-v-3a7e246d>Voluntary Basis. You are entering into this Agreement on a completely voluntary basis.</li><li data-v-3a7e246d> Binding Contract. You acknowledge that Roblox may, in its discretion and at any time before or during the Assessment Test, accept or reject your application for the Assessment Test (or terminate your participation therein), and if you are accepted, this Agreement is a binding contract between you and Roblox. </li><li data-v-3a7e246d> Rescheduling. Roblox may, in its discretion, reschedule the start date or end date of the Assessment Test at any time in its sole discretion, and/or interrupt or suspend or terminate the Assessment Test at any time in its sole discretion. </li><li data-v-3a7e246d> Participation. You agree and acknowledge that any breach or violation of this Agreement will, among other things, lead to you not being able to participate in the Assessment Test or to be considered a prospective employment candidate or intern with Roblox. </li><li data-v-3a7e246d> No Expectation Regarding Continued Use. You acknowledge and agree that you have no interest or expectation of ownership or continued use or access in any achievements, scores, data, virtual items or other material or elements related to your use of the Tool or participation in the Assessment Test. </li><li data-v-3a7e246d> Limited License. Subject to this Agreement, Roblox grants you a non-transferable, non-exclusive, revocable, limited license to use and access the Tool and the Assessment Test solely for your own personal, noncommercial use. The rights granted to you in this Agreement are subject to the following restrictions: (a) you shall not capture (via means of screenshot, video capture, copying text, or otherwise) any part of the Tool or the Assessment Test or reproduce, reverse engineer or distribute any portion of any user interface that is displayed through the Tool, the Assessment Test or any portion of the Assessment Test (whether online or via any other means); (b) you shall not license, sell, rent, lease, transfer, assign, distribute, host, or otherwise commercially exploit the Tool or the Assessment Test, whether in whole or in part, or any content displayed on the Assessment Test; (c) you shall not modify, make derivative works of, disassemble, reverse compile or reverse engineer any part of the Tool or the Assessment Test; (d) you shall not access the Tool or the Assessment Test in order to build a similar or competitive website, product, or service; and (e) except as expressly stated herein, no part of the Tool or the Assessment Test may be copied, reproduced, distributed, republished, downloaded, displayed, posted or transmitted in any form or by any means. Unless otherwise indicated, any future release, update, or other addition to functionality of the Tool or the Assessment Test shall be subject to this Agreement. All copyright and other proprietary notices on the Tool or the Assessment Test (or on any content displayed on the Assessment Test) must be retained on all copies thereof. WITHOUT LIMITING ANY OF THE FOREGOING, ANY PHOTOGRAPH OR SCREEN SHOT OR OTHER REPRODUCTION OF ANY PORTION OF ANY USER INTERFACE THAT IS DISPLAYED THROUGH THE ASSESSMENT TEST, THE TOOL OR ANY PORTION OF THE WEBSITE IS EXPRESSLY PROHIBITED. </li><li data-v-3a7e246d> Liquidated Damages. You agree that damages suffered by Roblox as a result of breach of the license use restrictions above, would be extremely difficult to fix. Accordingly, in the event that you violate the use restrictions set forth in Section 6, you agree to pay to Roblox, liquidated damages in an amount equal to $25,000.00 USD for each instance of such violation. The liquidated damages under this Section 7 are not a penalty and are a fair approximation of the damage that Roblox may suffer in the event of a breach of the restrictions in Section 6 and shall be in addition to any injunctive relief or other remedies of any kind or nature available to Roblox. </li><li data-v-3a7e246d> Privacy. Certain areas of the Assessment Test enable you to submit your responses to our surveys, programs, games, or otherwise provide feedback or information (Content) to Roblox. You agree that by submitting Content you understand and agree that (a) such Content will be deemed non-confidential and personal information and your Content may be shared in accordance with the Privacy Policy provided here:https://en.help.roblox.com/hc/en-us/articles/115004630823-Roblox-Privacy-and-Cookie-Policy- and (b) you grant to Roblox the irrevocable right to use, copy, modify publish, perform, transmit and display such Content via any media in accordance with this Agreement, and waive any moral rights you may have in such Content. Roblox shall be free to use such Content, including any ideas, concepts, know-how, or techniques contained in such Content, for any reason whatsoever. </li><li data-v-3a7e246d> Ownership. Except for the revocable, limited license expressly granted hereunder, Roblox retains all rights, title and interests in and to the Tool. The Tool is copyrighted and is protected by United States copyright laws and international treaty provisions. You acknowledge that Roblox owns and or controls all intellectual property rights in and to the Tool, including, without limitation, all patent rights, copyrights, inventions, trade secret rights, trade dress rights, trademark rights and any intellectual property rights therein and thereto that are related to the aforementioned. You may not remove the copyright and other proprietary rights notices from the Tool. You agree to prevent any unauthorized copying or distribution of the Tool. Except for the license expressly provided herein, Roblox does not grant you any express or implied right in any patents, copyrights, trademarks, or trade secret information of Roblox. You agree that Roblox owns all rights, title, and interests in any and all of the feedback and comments that you may provide and/or that Roblox otherwise receives, without any remuneration, compensation or credit to you, including, without limitation, feedback related to the Tool and any Derivatives thereto. For purposes of this Agreement, &quot;Derivatives&quot; means: (a) for copyrightable or copyrighted material, any translation, abridgment, revision or other form in which an existing work may be recast, transformed or adapted; (b) for patentable or patented material, any improvement theme; (c) for material which is protected by trade secret, any new material derived from such existing trade secret material, including new material which may be protected under copyright, patent and/or trade secret laws; (d) any and all other intellectual property; and (e) any and all intellectual property rights in and to the aforementioned (a), (b), (c) and (d). To the extent that any of the rights assigned herein cannot presently be assigned under applicable law, you agree to assign such rights at such time as the rights are capable of being assigned. You agree at Robloxs request to execute such further documents and to do such further acts as may be necessary or desirable to document, perfect, register or enforce Robloxs ownership of any of the rights, title and/or interests hereunder, in whole or in part. If you fail, delay or refuse to execute any such documents, you hereby appoint Roblox as your attorneyinfact, which appointment is coupled with an interest and is irrevocable, to act on your behalf and to execute, deliver, record and file such documents. The rights granted, assigned and/or to be assigned by you hereunder are granted for the entire universe and shall inure in perpetuity, and, as set forth above, no further consideration shall be payable to you or any of your heirs or assigns at any time in connection therewith. To the extent such rights are not conferred by applicable law or otherwise not capable of being assigned, you hereby grant Roblox and its affiliates and their respective successors and assigns an exclusive, assignable, irrevocable, fully paid, royalty-free license to all such rights (including, without limitation, all feedback, and suggestions with respect to the Tool) in perpetuity and throughout the universe. </li><li data-v-3a7e246d><strong data-v-3a7e246d>No Warranties</strong>. By using the Assessment Test or the Tool, you accept the information, products, Tool and Assessment Test provided herein AS IS. ROBLOX MAKES NO EXPRESS OR IMPLIED WARRANTY OR CONDITION REGARDING THE ACCURACY, CONTENT, COMPLETENESS, RELIABILITY, OPERABILITY, OR LEGALITY OF INFORMATION CONTAINED WITHIN THE TOOL OR THE ASSESSMENT TEST, INCLUDING, WITHOUT LIMITATION, ANY WARRANTIES OR CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT OF PROPRIETARY RIGHTS. ROBLOX (AND ITS SUPPLIERS) MAKES NO WARRANTY THAT THE TOOL OR THE ASSESSMENT TEST WILL MEET YOUR REQUIREMENTS, WILL BE AVAILABLE ON AN UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE BASIS, OR WILL BE ACCURATE, RELIABLE, FREE OF VIRUSES OR OTHER HARMFUL CODE, COMPLETE, LEGAL, OR SAFE. IF APPLICABLE LAW REQUIRES ANY WARRANTIES WITH RESPECT TO THE TOOL OR THE ASSESSMENT TEST, ALL SUCH WARRANTIES ARE LIMITED IN DURATION TO NINETY (90) DAYS FROM THE DATE OF FIRST USE. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO THE ABOVE EXCLUSION MAY NOT APPLY TO YOU. <br data-v-3a7e246d><br data-v-3a7e246d> SOME JURISDICTIONS ALSO DO NOT ALLOW LIMITATIONS ON HOW LONG AN IMPLIED WARRANTY LASTS, SO THE ABOVE LIMITATION MAY NOT APPLY TO YOU. </li><li data-v-3a7e246d><strong data-v-3a7e246d>LIMITATION OF LIABILITY</strong>: IN NO EVENT SHALL ROBLOX OR ITS AGENTS, AFFILIATES, PARTNERS OR LICENSORS BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS RELATED TO THE USE OF THE TOOL OR THE ASSESSMENT TEST, WHETHER IN AN ACTION OF CONTRACT, BREACH OF WARRANTY, NEGLIGENCE, OR OTHER TORTIOUS ACTION ARISING OUT OF OR IN CONNECTION WITH THE USE OF INFORMATION OR MATERIALS CONTAINED ON THE ASSESSMENT TEST OR IN THE TOOL. ACCESS TO, AND USE OF, THE TOOL AND ASSESSMENT TEST IS AT YOUR OWN DISCRETION AND RISK, AND YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR DEVICE OR COMPUTER SYSTEM, OR LOSS OF DATA RESULTING THEREFROM. </li><p data-v-3a7e246d> TO THE MAXIMUM EXTENT PERMITTED BY LAW, NOTWITHSTANDING ANYTHING TO THE CONTRARY CONTAINED HEREIN, OUR LIABILITY TO YOU FOR ANY DAMAGES ARISING FROM OR RELATED TO THIS AGREEMENT (FOR ANY CAUSE WHATSOEVER AND REGARDLESS OF THE FORM OF THE ACTION), WILL AT ALL TIMES BE LIMITED TO A MAXIMUM OF FIFTY US DOLLARS (U.S. $50). THE EXISTENCE OF MORE THAN ONE CLAIM WILL NOT ENLARGE THIS LIMIT. YOU AGREE THAT OUR SUPPLIERS WILL HAVE NO LIABILITY OF ANY KIND ARISING FROM OR RELATING TO THIS AGREEMENT. </p><p data-v-3a7e246d> SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE ABOVE LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU. </p><li data-v-3a7e246d> Indemnification. You agree to indemnify and hold Roblox (and its officers, employees, agents, successors and assigns) harmless, including costs and attorneys fees, from any claim or demand made by any third party due to or arising out of (a) your use of the Tool or the Assessment Test, (b) your violation of the Agreement, or (c) your violation of applicable laws or regulations. Roblox reserves the right, at your expense, to assume the exclusive defense and control of any matter for which you are required to indemnify us, and you agree to cooperate with our defense of those claims. You agree not to settle any matter without the prior written consent of Roblox. Roblox will use reasonable efforts to notify you of any such claim, action or proceeding upon becoming aware of it. </li><li data-v-3a7e246d> Release. You hereby release and forever discharge Roblox (and its officers, employees, agents, successors, and assigns) from, and hereby waive and relinquish, each and very past, present and future dispute, claim, controversy, demand, right, obligation, liability, action and cause of action of every kind and nature (including personal injury, death, and property damage), that has arisen or arises directly or indirectly out of, or that relates directly or indirectly to, the Tool or the Assessment Test. IF YOU ARE A CALIFORNIA RESIDENT, YOU HEREBY WAIVE CALIFORNIA CIVIL CODE SECTION 1542 IN CONNECTION WITH THE FOREGOING, WHICH STATES: A GENERAL RELEASE DOES NOT EXTEND TO CLAIMS WHICH THE CREDITOR DOES NOT KNOW OR SUSPECT TO EXIST IN HIS OR HER FAVOR AT THE TIME OF EXECUTING THE RELEASE, WHICH IF KNOWN BY HIM OR HER MUST HAVE MATERIALLY AFFECTED HIS OR HER SETTLEMENT WITH THE DEBTOR. </li><li data-v-3a7e246d>Dispute Resolution.</li><ol type="A" data-v-3a7e246d><li data-v-3a7e246d><u data-v-3a7e246d>Negotiation</u>. The parties shall attempt in good faith to resolve any dispute arising out of or relating to this Agreement or the interpretation, performance, or breach hereof, including, but not limited to, alleged violations of state or federal statutory or common law rights or duties (a Controversy) promptly by negotiation between representatives of each party who have authority to settle the controversy. Any party may give the other party written notice of any Controversy not resolved in the normal course of business. Within 15 days after delivery of the notice, the receiving party shall submit to the other a written response. The notice and response shall include with reasonable particularity (i)a statement of each party&#39;s position and a summary of arguments supporting that position, and (ii)the name and title of the representative(s) who will represent that party and of any other person who will accompany the representative(s). Within 30 days after delivery of the notice, the representatives of both parties shall meet at a mutually acceptable time and place which may be via video conference (e.g., Zoom). Unless otherwise agreed in writing by the negotiating parties, this negotiation process shall end at the close of this first meeting of representatives described above (&quot;<strong data-v-3a7e246d>FirstMeeting</strong>&quot;). Such closure shall not preclude continuing or later negotiations, if desired. All offers, promises, conduct and statements, whether oral or written, made in the course of this negotiation by any of the parties, their agents, employees, experts and attorneys are confidential, privileged and inadmissible for any purpose, including impeachment, in arbitration or other proceeding involving the parties, provided that evidence that is otherwise admissible or discoverable shall not be rendered inadmissible or non-discoverable as a result of its use in the negotiation. At no time prior to the First Meeting shall either side initiate an arbitration or litigation related to this Agreement except to pursue a provisional remedy that is authorized by law or by JAMS Rules or by agreement of the parties. However, this limitation is inapplicable to a party if the other party refuses to comply with the requirements of this Section 15.A. All applicable statutes of limitation and defenses based upon the passage of time shall be tolled while the procedures specified in this Section 15.A are pending and for 15 calendar days after the First Meeting. The parties will take such action, if any, required to effectuate such tolling. </li><li data-v-3a7e246d><u data-v-3a7e246d>Arbitration</u>. If the parties are unable to resolve a negotiation pursuant to Section 15.A, then the dispute will proceed to arbitration in San Mateo, California before one arbitrator. The arbitration shall be administered by JAMS pursuant to its Comprehensive Arbitration Rules and Procedures and in accordance with the Expedited Procedures in those Rules. Judgment on the award may be entered in any court having jurisdiction. This provision shall not preclude parties from seeking provisional remedies in aid of arbitration from a court of appropriate jurisdiction. </li><li data-v-3a7e246d><u data-v-3a7e246d>Court</u>. The arbitrator shall have the power and authority to resolve questions of arbitrability. To the extent there is any Controversy or portion thereof, or any claim for a particular form of relief (not otherwise precluded by any other provision of this Agreement), that may not be arbitrated pursuant to applicable state or federal law, then that claim or portion thereof may be heard in a court of competent jurisdiction in San Mateo County. If a party believes in good faith that all or part of a Controversy, or any claim for relief or remedy sought, is not permitted to be arbitrated under then-prevailing law, then that party may seek a determination to that effect from the arbitrator. If the arbitrator determines that the matter is not arbitrable or that he/she cannot determine arbitrability, then the specific matter shall be resolved by the court, sitting without a jury, and the parties hereby irrevocably waive their respective rights to trial by jury of any cause of action, claim, counterclaim or cross-complaint in any action or other proceeding brought by any party against any other party or parties with respect to any matter arising out of, or in any way connected with or related to, this Agreement or any portion thereof, whether based upon contractual, statutory, tortious or other theories of liability. All other matters and claims for relief shall be subject to arbitration as set forth above. </li><li data-v-3a7e246d><u data-v-3a7e246d>Injunctive Relief</u>. Nothing in this Agreement allows you to seek (and you agree that it shall not seek) injunctive relief or a temporary restraining order to enforce the terms of this Agreement and your remedies will be limited to monetary damages. </li><li data-v-3a7e246d><u data-v-3a7e246d>Federal Arbitration Act</u>. The parties acknowledge that this Agreement evidences a transaction involving interstate commerce. Notwithstanding Section 14.A, any arbitration conducted pursuant to the terms of this Agreement shall be governed by the Federal Arbitration Act (9U.S.C. 116). </li></ol><li data-v-3a7e246d> Governing Law. This Agreement will be governed as to all matters, including validity, construction, and performance, by and under the laws of the State of California without regard to conflict or choice of law rules. The parties submit to the personal and exclusive jurisdiction of the state and federal courts located within San Mateo County, California for resolution of any lawsuit or court proceeding permitted under this Agreement. </li><li data-v-3a7e246d> Survival. The provisions of this Agreement, other than the license granted in Section 6, shall continue in full force and effect even after (i) the Assessment Test has been terminated or completed and/or (ii) your participation in the Assessment Test has been terminated. </li><li data-v-3a7e246d> Severability and Entire Agreement: If any provision of this Agreement shall be held invalid or unenforceable, in whole or in part, such provision shall be modified to the minimum extent necessary to make it valid and enforceable, and the validity and enforceability of all other provisions of this Agreement shall not be affected thereby. Headings contained in this Agreement are for convenience only. This Agreement constitutes the entire agreement between the parties hereto relating to the subject matter hereof and supersedes all prior oral and written and all contemporaneous oral negotiations, commitments and understandings of the parties. Roblox may amend this Agreement from time to time and will endeavor to provide you with notice (which may include, without limitation, a general reference in the Assessment Test or a post on Robloxs website). </li></ol></div>',1),ow={class:"footer"},sw={class:"accept"},uw=fg(()=>Je("div",{class:"accept-text"},"I acknowledge & accept",-1));function lw(e,t,n,r,i,o){const u=Kt("Checkbox"),l=Kt("Button");return dt(),_t("div",nw,[rw,Je("div",iw,[aw,Je("div",ow,[Je("div",sw,[Ft(u,{checked:e.accepted,"onUpdate:checked":t[0]||(t[0]=f=>e.accepted=f)},{default:qt(()=>[uw]),_:1},8,["checked"])]),Ft(l,{disabled:!e.accepted,onClick:e.accept},{default:qt(()=>[Lt("Accept Terms & Conditions")]),_:1},8,["disabled","onClick"])])])])}const cw=cn(tw,[["render",lw],["__scopeId","data-v-3a7e246d"]]),fw={"Africa/Algiers":[["-12.2","-","LMT","-2486592000000"],["-9.35","-","PMT","-1855958400000"],["0","Algeria","WE%sT","-942012000000"],["-60","Algeria","CE%sT","-733276800000"],["0","-","WET","-439430400000"],["-60","-","CET","-212025600000"],["0","Algeria","WE%sT","246240000000"],["-60","Algeria","CE%sT","309744000000"],["0","Algeria","WE%sT","357523200000"],["-60","-","CET",null]],"Atlantic/Cape_Verde":[["94.06666666666668","-","LMT","-1830376800000"],["120","-","-02","-862617600000"],["120","1:00","-01","-764121600000"],["120","-","-02","186112800000"],["60","-","-01",null]],"Africa/Ndjamena":[["-60.2","-","LMT","-1798848000000"],["-60","-","WAT","308707200000"],["-60","1:00","WAST","321321600000"],["-60","-","WAT",null]],"Africa/Abidjan":[["16.133333333333333","-","LMT","-1798848000000"],["0","-","GMT",null]],"Africa/Bamako":"Africa/Abidjan","Africa/Banjul":"Africa/Abidjan","Africa/Conakry":"Africa/Abidjan","Africa/Dakar":"Africa/Abidjan","Africa/Freetown":"Africa/Abidjan","Africa/Lome":"Africa/Abidjan","Africa/Nouakchott":"Africa/Abidjan","Africa/Ouagadougou":"Africa/Abidjan","Atlantic/St_Helena":"Africa/Abidjan","Africa/Cairo":[["-125.15","-","LMT","-2185401600000"],["-120","Egypt","EE%sT",null]],"Africa/Accra":[["0.8666666666666666","-","LMT","-1709337600000"],["0","Ghana","%s","-880329600000"],["-30","-","+0030","-756950400000"],["0","Ghana","%s",null]],"Africa/Bissau":[["62.333333333333336","-","LMT","-1830380400000"],["60","-","-01","189216000000"],["0","-","GMT",null]],"Africa/Nairobi":[["-147.26666666666665","-","LMT","-1946160000000"],["-150","-","+0230","-1309737600000"],["-180","-","EAT","-1261958400000"],["-150","-","+0230","-1041379200000"],["-165","-","+0245","-865296000000"],["-180","-","EAT",null]],"Africa/Addis_Ababa":"Africa/Nairobi","Africa/Asmara":"Africa/Nairobi","Africa/Dar_es_Salaam":"Africa/Nairobi","Africa/Djibouti":"Africa/Nairobi","Africa/Kampala":"Africa/Nairobi","Africa/Mogadishu":"Africa/Nairobi","Indian/Antananarivo":"Africa/Nairobi","Indian/Comoro":"Africa/Nairobi","Indian/Mayotte":"Africa/Nairobi","Africa/Monrovia":[["43.13333333333333","-","LMT","-2745532800000"],["43.13333333333333","-","MMT","-1604361600000"],["44.5","-","MMT","63590400000"],["0","-","GMT",null]],"Africa/Tripoli":[["-52.733333333333334","-","LMT","-1546387200000"],["-60","Libya","CE%sT","-315705600000"],["-120","-","EET","410140800000"],["-60","Libya","CE%sT","641779200000"],["-120","-","EET","844041600000"],["-60","Libya","CE%sT","875923200000"],["-120","-","EET","1352512800000"],["-60","Libya","CE%sT","1382666400000"],["-120","-","EET",null]],"Indian/Mauritius":[["-230","-","LMT","-1956700800000"],["-240","Mauritius","+04/+05",null]],"Africa/Casablanca":[["30.333333333333332","-","LMT","-1773014400000"],["0","Morocco","+00/+01","448243200000"],["-60","-","+01","536371200000"],["0","Morocco","+00/+01","1540695600000"],["-60","Morocco","+01/+00",null]],"Africa/El_Aaiun":[["52.8","-","LMT","-1136073600000"],["60","-","-01","198288000000"],["0","Morocco","+00/+01","1540695600000"],["-60","Morocco","+01/+00",null]],"Africa/Maputo":[["-130.33333333333331","-","LMT","-2109283200000"],["-120","-","CAT",null]],"Africa/Blantyre":"Africa/Maputo","Africa/Bujumbura":"Africa/Maputo","Africa/Gaborone":"Africa/Maputo","Africa/Harare":"Africa/Maputo","Africa/Kigali":"Africa/Maputo","Africa/Lubumbashi":"Africa/Maputo","Africa/Lusaka":"Africa/Maputo","Africa/Windhoek":[["-68.4","-","LMT","-2458166400000"],["-90","-","+0130","-2109283200000"],["-120","-","SAST","-860968800000"],["-120","1:00","SAST","-845244000000"],["-120","-","SAST","637977600000"],["-120","Namibia","%s",null]],"Africa/Lagos":[["-13.583333333333334","-","LMT","-2035584000000"],["0","-","GMT","-1940889600000"],["-13.583333333333334","-","LMT","-1767225600000"],["-30","-","+0030","-1588464000000"],["-60","-","WAT",null]],"Africa/Bangui":"Africa/Lagos","Africa/Brazzaville":"Africa/Lagos","Africa/Douala":"Africa/Lagos","Africa/Kinshasa":"Africa/Lagos","Africa/Libreville":"Africa/Lagos","Africa/Luanda":"Africa/Lagos","Africa/Malabo":"Africa/Lagos","Africa/Niamey":"Africa/Lagos","Africa/Porto-Novo":"Africa/Lagos","Indian/Reunion":[["-221.86666666666665","-","LMT","-1848873600000"],["-240","-","+04",null]],"Africa/Sao_Tome":[["-26.933333333333334","-","LMT","-2682374400000"],["36.75","-","LMT","-1830384000000"],["0","-","GMT","1514768400000"],["-60","-","WAT","1546308000000"],["0","-","GMT",null]],"Indian/Mahe":[["-221.8","-","LMT","-1988150400000"],["-240","-","+04",null]],"Africa/Johannesburg":[["-112","-","LMT","-2458166400000"],["-90","-","SAST","-2109283200000"],["-120","SA","SAST",null]],"Africa/Maseru":"Africa/Johannesburg","Africa/Mbabane":"Africa/Johannesburg","Africa/Khartoum":[["-130.13333333333333","-","LMT","-1199318400000"],["-120","Sudan","CA%sT","947937600000"],["-180","-","EAT","1509494400000"],["-120","-","CAT",null]],"Africa/Juba":[["-126.46666666666667","-","LMT","-1199318400000"],["-120","Sudan","CA%sT","947937600000"],["-180","-","EAT","1612137600000"],["-120","-","CAT",null]],"Africa/Tunis":[["-40.733333333333334","-","LMT","-2797200000000"],["-9.35","-","PMT","-1855958400000"],["-60","Tunisia","CE%sT",null]],"Antarctica/Casey":[["0","-","-00","-86400000"],["-480","-","+08","1255831200000"],["-660","-","+11","1267754400000"],["-480","-","+08","1319767200000"],["-660","-","+11","1329843600000"],["-480","-","+08","1477094400000"],["-660","-","+11","1520740800000"],["-480","-","+08","1538884800000"],["-660","-","+11","1552791600000"],["-480","-","+08","1570158000000"],["-660","-","+11","1583636400000"],["-480","-","+08","1601769660000"],["-660","-","+11",null]],"Antarctica/Davis":[["0","-","-00","-409190400000"],["-420","-","+07","-163036800000"],["0","-","-00","-28857600000"],["-420","-","+07","1255831200000"],["-300","-","+05","1268251200000"],["-420","-","+07","1319767200000"],["-300","-","+05","1329854400000"],["-420","-","+07",null]],"Antarctica/Mawson":[["0","-","-00","-501206400000"],["-360","-","+06","1255831200000"],["-300","-","+05",null]],"Indian/Kerguelen":[["0","-","-00","-599702400000"],["-300","-","+05",null]],"Antarctica/DumontDUrville":[["0","-","-00","-694396800000"],["-600","-","+10","-566956800000"],["0","-","-00","-415497600000"],["-600","-","+10",null]],"Antarctica/Syowa":[["0","-","-00","-407808000000"],["-180","-","+03",null]],"Antarctica/Troll":[["0","-","-00","1108166400000"],["0","Troll","%s",null]],"Antarctica/Vostok":[["0","-","-00","-380073600000"],["-360","-","+06",null]],"Antarctica/Rothera":[["0","-","-00","218246400000"],["180","-","-03",null]],"Asia/Kabul":[["-276.8","-","LMT","-2493072000000"],["-240","-","+04","-757468800000"],["-270","-","+0430",null]],"Asia/Yerevan":[["-178","-","LMT","-1441152000000"],["-180","-","+03","-405129600000"],["-240","RussiaAsia","+04/+05","670384800000"],["-180","RussiaAsia","+03/+04","811908000000"],["-240","-","+04","883526400000"],["-240","RussiaAsia","+04/+05","1325289600000"],["-240","Armenia","+04/+05",null]],"Asia/Baku":[["-199.4","-","LMT","-1441152000000"],["-180","-","+03","-405129600000"],["-240","RussiaAsia","+04/+05","670384800000"],["-180","RussiaAsia","+03/+04","715312800000"],["-240","-","+04","851990400000"],["-240","EUAsia","+04/+05","883526400000"],["-240","Azer","+04/+05",null]],"Asia/Dhaka":[["-361.6666666666667","-","LMT","-2493072000000"],["-353.3333333333333","-","HMT","-891561600000"],["-390","-","+0630","-872035200000"],["-330","-","+0530","-862617600000"],["-390","-","+0630","-576115200000"],["-360","-","+06","1262217600000"],["-360","Dhaka","+06/+07",null]],"Asia/Thimphu":[["-358.6","-","LMT","-706320000000"],["-330","-","+0530","560044800000"],["-360","-","+06",null]],"Indian/Chagos":[["-289.6666666666667","-","LMT","-1956700800000"],["-300","-","+05","851990400000"],["-360","-","+06",null]],"Asia/Brunei":[["-459.6666666666667","-","LMT","-1383436800000"],["-450","-","+0730","-1136160000000"],["-480","-","+08",null]],"Asia/Yangon":[["-384.7833333333333","-","LMT","-2808604800000"],["-384.7833333333333","-","RMT","-1546387200000"],["-390","-","+0630","-873244800000"],["-540","-","+09","-778377600000"],["-390","-","+0630",null]],"Asia/Shanghai":[["-485.7166666666667","-","LMT","-2146003200000"],["-480","Shang","C%sT","-649987200000"],["-480","PRC","C%sT",null]],"Asia/Urumqi":[["-350.3333333333333","-","LMT","-1293926400000"],["-360","-","+06",null]],"Asia/Hong_Kong":[["-456.7","-","LMT","-2056663398000"],["-480","-","HKT","-900882000000"],["-480","1:00","HKST","-891547200000"],["-480","0:30","HKWT","-884217600000"],["-540","-","JST","-761176800000"],["-480","HK","HK%sT",null]],"Asia/Taipei":[["-486","-","LMT","-2335219200000"],["-480","-","CST","-1017792000000"],["-540","-","JST","-766191600000"],["-480","Taiwan","C%sT",null]],"Asia/Macau":[["-454.1666666666667","-","LMT","-2056665600000"],["-480","-","CST","-884480400000"],["-540","Macau","+09/+10","-765331200000"],["-480","Macau","C%sT",null]],"Asia/Nicosia":[["-133.46666666666667","-","LMT","-1518912000000"],["-120","Cyprus","EE%sT","904608000000"],["-120","EUAsia","EE%sT",null]],"Asia/Famagusta":[["-135.8","-","LMT","-1518912000000"],["-120","Cyprus","EE%sT","904608000000"],["-120","EUAsia","EE%sT","1473292800000"],["-180","-","+03","1509238800000"],["-120","EUAsia","EE%sT",null]],"Europe/Nicosia":"Asia/Nicosia","Asia/Tbilisi":[["-179.18333333333334","-","LMT","-2808604800000"],["-179.18333333333334","-","TBMT","-1441152000000"],["-180","-","+03","-405129600000"],["-240","RussiaAsia","+04/+05","670384800000"],["-180","RussiaAsia","+03/+04","725760000000"],["-180","E-EurAsia","+03/+04","778377600000"],["-240","E-EurAsia","+04/+05","844128000000"],["-240","1:00","+05","857174400000"],["-240","E-EurAsia","+04/+05","1088294400000"],["-180","RussiaAsia","+03/+04","1109642400000"],["-240","-","+04",null]],"Asia/Dili":[["-502.3333333333333","-","LMT","-1830384000000"],["-480","-","+08","-879123600000"],["-540","-","+09","199929600000"],["-480","-","+08","969148800000"],["-540","-","+09",null]],"Asia/Kolkata":[["-353.4666666666667","-","LMT","-3645216000000"],["-353.3333333333333","-","HMT","-3124224000000"],["-321.1666666666667","-","MMT","-2019686400000"],["-330","-","IST","-891561600000"],["-330","1:00","+0630","-872035200000"],["-330","-","IST","-862617600000"],["-330","1:00","+0630","-764121600000"],["-330","-","IST",null]],"Asia/Jakarta":[["-427.2","-","LMT","-3231273600000"],["-427.2","-","BMT","-1451693568000"],["-440","-","+0720","-1172880000000"],["-450","-","+0730","-876614400000"],["-540","-","+09","-766022400000"],["-450","-","+0730","-683856000000"],["-480","-","+08","-620784000000"],["-450","-","+0730","-157852800000"],["-420","-","WIB",null]],"Asia/Pontianak":[["-437.3333333333333","-","LMT","-1946160000000"],["-437.3333333333333","-","PMT","-1172880000000"],["-450","-","+0730","-881193600000"],["-540","-","+09","-766022400000"],["-450","-","+0730","-683856000000"],["-480","-","+08","-620784000000"],["-450","-","+0730","-157852800000"],["-480","-","WITA","567993600000"],["-420","-","WIB",null]],"Asia/Makassar":[["-477.6","-","LMT","-1546387200000"],["-477.6","-","MMT","-1172880000000"],["-480","-","+08","-880243200000"],["-540","-","+09","-766022400000"],["-480","-","WITA",null]],"Asia/Jayapura":[["-562.8","-","LMT","-1172880000000"],["-540","-","+09","-799459200000"],["-570","-","+0930","-157852800000"],["-540","-","WIT",null]],"Asia/Tehran":[["-205.73333333333335","-","LMT","-1672617600000"],["-205.73333333333335","-","TMT","-725932800000"],["-210","-","+0330","247190400000"],["-240","Iran","+04/+05","315446400000"],["-210","Iran","+0330/+0430",null]],"Asia/Baghdad":[["-177.66666666666666","-","LMT","-2493072000000"],["-177.6","-","BMT","-1609545600000"],["-180","-","+03","389059200000"],["-180","Iraq","+03/+04",null]],"Asia/Jerusalem":[["-140.9","-","LMT","-2808604800000"],["-140.66666666666666","-","JMT","-1609545600000"],["-120","Zion","I%sT",null]],"Asia/Tokyo":[["-558.9833333333333","-","LMT","-2587712400000"],["-540","Japan","J%sT",null]],"Asia/Amman":[["-143.73333333333335","-","LMT","-1199318400000"],["-120","Jordan","EE%sT",null]],"Asia/Almaty":[["-307.8","-","LMT","-1441152000000"],["-300","-","+05","-1247529600000"],["-360","RussiaAsia","+06/+07","670384800000"],["-300","RussiaAsia","+05/+06","695786400000"],["-360","RussiaAsia","+06/+07","1099188000000"],["-360","-","+06",null]],"Asia/Qyzylorda":[["-261.8666666666667","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","-","+05","354931200000"],["-300","1:00","+06","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","686109600000"],["-300","RussiaAsia","+05/+06","695786400000"],["-360","RussiaAsia","+06/+07","701834400000"],["-300","RussiaAsia","+05/+06","1099188000000"],["-360","-","+06","1545350400000"],["-300","-","+05",null]],"Asia/Qostanay":[["-254.46666666666667","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","-","+05","354931200000"],["-300","1:00","+06","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","RussiaAsia","+05/+06","1099188000000"],["-360","-","+06",null]],"Asia/Aqtobe":[["-228.66666666666666","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","-","+05","354931200000"],["-300","1:00","+06","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","RussiaAsia","+05/+06","1099188000000"],["-300","-","+05",null]],"Asia/Aqtau":[["-201.06666666666666","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","-","+05","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","RussiaAsia","+05/+06","780458400000"],["-240","RussiaAsia","+04/+05","1099188000000"],["-300","-","+05",null]],"Asia/Atyrau":[["-207.73333333333335","-","LMT","-1441152000000"],["-180","-","+03","-1247529600000"],["-300","-","+05","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","RussiaAsia","+05/+06","922586400000"],["-240","RussiaAsia","+04/+05","1099188000000"],["-300","-","+05",null]],"Asia/Oral":[["-205.4","-","LMT","-1441152000000"],["-180","-","+03","-1247529600000"],["-300","-","+05","354931200000"],["-300","1:00","+06","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","606880800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","RussiaAsia","+05/+06","701834400000"],["-240","RussiaAsia","+04/+05","1099188000000"],["-300","-","+05",null]],"Asia/Bishkek":[["-298.4","-","LMT","-1441152000000"],["-300","-","+05","-1247529600000"],["-360","RussiaAsia","+06/+07","670384800000"],["-300","RussiaAsia","+05/+06","683604000000"],["-300","Kyrgyz","+05/+06","1123804800000"],["-360","-","+06",null]],"Asia/Seoul":[["-507.8666666666667","-","LMT","-1948752000000"],["-510","-","KST","-1830384000000"],["-540","-","JST","-767318400000"],["-540","ROK","K%sT","-498096000000"],["-510","ROK","K%sT","-264902400000"],["-540","ROK","K%sT",null]],"Asia/Pyongyang":[["-503","-","LMT","-1948752000000"],["-510","-","KST","-1830384000000"],["-540","-","JST","-768614400000"],["-540","-","KST","1439596800000"],["-510","-","KST","1525476600000"],["-540","-","KST",null]],"Asia/Beirut":[["-142","-","LMT","-2808604800000"],["-120","Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[["-406.7666666666667","-","LMT","-2177452800000"],["-415.4166666666667","-","SMT","-2038176000000"],["-420","-","+07","-1167609600000"],["-420","0:20","+0720","-1073001600000"],["-440","-","+0720","-894153600000"],["-450","-","+0730","-879638400000"],["-540","-","+09","-766972800000"],["-450","-","+0730","378691200000"],["-480","-","+08",null]],"Asia/Kuching":[["-441.3333333333333","-","LMT","-1383436800000"],["-450","-","+0730","-1136160000000"],["-480","NBorneo","+08/+0820","-879638400000"],["-540","-","+09","-766972800000"],["-480","-","+08",null]],"Indian/Maldives":[["-294","-","LMT","-2808604800000"],["-294","-","MMT","-284083200000"],["-300","-","+05",null]],"Asia/Hovd":[["-366.6","-","LMT","-2032905600000"],["-360","-","+06","283910400000"],["-420","Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[["-427.5333333333333","-","LMT","-2032905600000"],["-420","-","+07","283910400000"],["-480","Mongol","+08/+09",null]],"Asia/Choibalsan":[["-458","-","LMT","-2032905600000"],["-420","-","+07","283910400000"],["-480","-","+08","418003200000"],["-540","Mongol","+09/+10","1206921600000"],["-480","Mongol","+08/+09",null]],"Asia/Kathmandu":[["-341.2666666666667","-","LMT","-1546387200000"],["-330","-","+0530","536371200000"],["-345","-","+0545",null]],"Asia/Karachi":[["-268.2","-","LMT","-1956700800000"],["-330","-","+0530","-862617600000"],["-330","1:00","+0630","-764121600000"],["-330","-","+0530","-576115200000"],["-300","-","+05","38793600000"],["-300","Pakistan","PK%sT",null]],"Asia/Gaza":[["-137.86666666666665","-","LMT","-2185401600000"],["-120","Zion","EET/EEST","-682646400000"],["-120","EgyptAsia","EE%sT","-81302400000"],["-120","Zion","I%sT","851990400000"],["-120","Jordan","EE%sT","946598400000"],["-120","Palestine","EE%sT","1219968000000"],["-120","-","EET","1220227200000"],["-120","Palestine","EE%sT","1293753600000"],["-120","-","EET","1269648060000"],["-120","Palestine","EE%sT","1312156800000"],["-120","-","EET","1356912000000"],["-120","Palestine","EE%sT",null]],"Asia/Hebron":[["-140.38333333333335","-","LMT","-2185401600000"],["-120","Zion","EET/EEST","-682646400000"],["-120","EgyptAsia","EE%sT","-81302400000"],["-120","Zion","I%sT","851990400000"],["-120","Jordan","EE%sT","946598400000"],["-120","Palestine","EE%sT",null]],"Asia/Manila":[["956","-","LMT","-3944678400000"],["-484","-","LMT","-2229292800000"],["-480","Phil","P%sT","-873244800000"],["-540","-","JST","-794188800000"],["-480","Phil","P%sT",null]],"Asia/Qatar":[["-206.13333333333335","-","LMT","-1546387200000"],["-240","-","+04","76204800000"],["-180","-","+03",null]],"Asia/Bahrain":"Asia/Qatar","Asia/Riyadh":[["-186.86666666666665","-","LMT","-719625600000"],["-180","-","+03",null]],"Asia/Aden":"Asia/Riyadh","Asia/Kuwait":"Asia/Riyadh","Asia/Singapore":[["-415.4166666666667","-","LMT","-2177452800000"],["-415.4166666666667","-","SMT","-2038176000000"],["-420","-","+07","-1167609600000"],["-420","0:20","+0720","-1073001600000"],["-440","-","+0720","-894153600000"],["-450","-","+0730","-879638400000"],["-540","-","+09","-766972800000"],["-450","-","+0730","378691200000"],["-480","-","+08",null]],"Asia/Colombo":[["-319.4","-","LMT","-2808604800000"],["-319.5333333333333","-","MMT","-1988236800000"],["-330","-","+0530","-883267200000"],["-330","0:30","+06","-862617600000"],["-330","1:00","+0630","-764028000000"],["-330","-","+0530","832982400000"],["-390","-","+0630","846289800000"],["-360","-","+06","1145061000000"],["-330","-","+0530",null]],"Asia/Damascus":[["-145.2","-","LMT","-1546387200000"],["-120","Syria","EE%sT",null]],"Asia/Dushanbe":[["-275.2","-","LMT","-1441152000000"],["-300","-","+05","-1247529600000"],["-360","RussiaAsia","+06/+07","670384800000"],["-300","1:00","+05/+06","684381600000"],["-300","-","+05",null]],"Asia/Bangkok":[["-402.06666666666666","-","LMT","-2808604800000"],["-402.06666666666666","-","BMT","-1570060800000"],["-420","-","+07",null]],"Asia/Phnom_Penh":"Asia/Bangkok","Asia/Vientiane":"Asia/Bangkok","Asia/Ashgabat":[["-233.53333333333333","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","RussiaAsia","+05/+06","670384800000"],["-240","RussiaAsia","+04/+05","695786400000"],["-300","-","+05",null]],"Asia/Dubai":[["-221.2","-","LMT","-1546387200000"],["-240","-","+04",null]],"Asia/Muscat":"Asia/Dubai","Asia/Samarkand":[["-267.8833333333333","-","LMT","-1441152000000"],["-240","-","+04","-1247529600000"],["-300","-","+05","354931200000"],["-300","1:00","+06","370742400000"],["-360","-","+06","386467200000"],["-300","RussiaAsia","+05/+06","725760000000"],["-300","-","+05",null]],"Asia/Tashkent":[["-277.18333333333334","-","LMT","-1441152000000"],["-300","-","+05","-1247529600000"],["-360","RussiaAsia","+06/+07","670384800000"],["-300","RussiaAsia","+05/+06","725760000000"],["-300","-","+05",null]],"Asia/Ho_Chi_Minh":[["-426.6666666666667","-","LMT","-2004048000000"],["-426.5","-","PLMT","-1851552000000"],["-420","-","+07","-852080400000"],["-480","-","+08","-782614800000"],["-540","-","+09","-767836800000"],["-420","-","+07","-718070400000"],["-480","-","+08","-457747200000"],["-420","-","+07","-315622800000"],["-480","-","+08","171849600000"],["-420","-","+07",null]],"Australia/Darwin":[["-523.3333333333333","-","LMT","-2364076800000"],["-540","-","ACST","-2230156800000"],["-570","Aus","AC%sT",null]],"Australia/Perth":[["-463.4","-","LMT","-2337897600000"],["-480","Aus","AW%sT","-836438400000"],["-480","AW","AW%sT",null]],"Australia/Eucla":[["-515.4666666666667","-","LMT","-2337897600000"],["-525","Aus","+0845/+0945","-836438400000"],["-525","AW","+0845/+0945",null]],"Australia/Brisbane":[["-612.1333333333333","-","LMT","-2335305600000"],["-600","Aus","AE%sT","62985600000"],["-600","AQ","AE%sT",null]],"Australia/Lindeman":[["-595.9333333333334","-","LMT","-2335305600000"],["-600","Aus","AE%sT","62985600000"],["-600","AQ","AE%sT","709948800000"],["-600","Holiday","AE%sT",null]],"Australia/Adelaide":[["-554.3333333333334","-","LMT","-2364076800000"],["-540","-","ACST","-2230156800000"],["-570","Aus","AC%sT","62985600000"],["-570","AS","AC%sT",null]],"Australia/Hobart":[["-589.2666666666667","-","LMT","-2345760000000"],["-600","AT","AE%sT","-1583884800000"],["-600","Aus","AE%sT","-63244800000"],["-600","AT","AE%sT",null]],"Australia/Melbourne":[["-579.8666666666667","-","LMT","-2364076800000"],["-600","Aus","AE%sT","62985600000"],["-600","AV","AE%sT",null]],"Australia/Sydney":[["-604.8666666666667","-","LMT","-2364076800000"],["-600","Aus","AE%sT","62985600000"],["-600","AN","AE%sT",null]],"Australia/Broken_Hill":[["-565.8","-","LMT","-2364076800000"],["-600","-","AEST","-2314915200000"],["-540","-","ACST","-2230156800000"],["-570","Aus","AC%sT","62985600000"],["-570","AN","AC%sT","978220800000"],["-570","AS","AC%sT",null]],"Australia/Lord_Howe":[["-636.3333333333334","-","LMT","-2364076800000"],["-600","-","AEST","352252800000"],["-630","LH","+1030/+1130","489024000000"],["-630","LH","+1030/+11",null]],"Antarctica/Macquarie":[["0","-","-00","-2214259200000"],["-600","-","AEST","-1680472800000"],["-600","1:00","AEDT","-1669852800000"],["-600","Aus","AE%sT","-1601683200000"],["0","-","-00","-687052800000"],["-600","Aus","AE%sT","-63244800000"],["-600","AT","AE%sT","1293753600000"],["-600","1:00","AEDT","1325289600000"],["-600","AT","AE%sT",null]],"Indian/Christmas":[["-422.8666666666667","-","LMT","-2364076800000"],["-420","-","+07",null]],"Indian/Cocos":[["-387.6666666666667","-","LMT","-2177539200000"],["-390","-","+0630",null]],"Pacific/Fiji":[["-715.7333333333333","-","LMT","-1709942400000"],["-720","Fiji","+12/+13",null]],"Pacific/Gambier":[["539.8","-","LMT","-1806710400000"],["540","-","-09",null]],"Pacific/Marquesas":[["558","-","LMT","-1806710400000"],["570","-","-0930",null]],"Pacific/Tahiti":[["598.2666666666667","-","LMT","-1806710400000"],["600","-","-10",null]],"Pacific/Guam":[["861","-","LMT","-3944678400000"],["-579","-","LMT","-2146003200000"],["-600","-","GST","-885513600000"],["-540","-","+09","-802224000000"],["-600","Guam","G%sT","977529600000"],["-600","-","ChST",null]],"Pacific/Saipan":"Pacific/Guam","Pacific/Tarawa":[["-692.0666666666666","-","LMT","-2146003200000"],["-720","-","+12",null]],"Pacific/Enderbury":[["684.3333333333334","-","LMT","-2146003200000"],["720","-","-12","307584000000"],["660","-","-11","788832000000"],["-780","-","+13",null]],"Pacific/Kiritimati":[["629.3333333333334","-","LMT","-2146003200000"],["640","-","-1040","307584000000"],["600","-","-10","788832000000"],["-840","-","+14",null]],"Pacific/Majuro":[["-684.8","-","LMT","-2146003200000"],["-660","-","+11","-1743638400000"],["-540","-","+09","-1606780800000"],["-660","-","+11","-1009929600000"],["-600","-","+10","-907372800000"],["-540","-","+09","-818035200000"],["-660","-","+11","-7948800000"],["-720","-","+12",null]],"Pacific/Kwajalein":[["-669.3333333333334","-","LMT","-2146003200000"],["-660","-","+11","-1009929600000"],["-600","-","+10","-907372800000"],["-540","-","+09","-817430400000"],["-660","-","+11","-7948800000"],["720","-","-12","745891200000"],["-720","-","+12",null]],"Pacific/Chuuk":[["832.8666666666667","-","LMT","-3944678400000"],["-607.1333333333333","-","LMT","-2146003200000"],["-600","-","+10","-1743638400000"],["-540","-","+09","-1606780800000"],["-600","-","+10","-907372800000"],["-540","-","+09","-770601600000"],["-600","-","+10",null]],"Pacific/Pohnpei":[["807.1333333333333","-","LMT","-3944678400000"],["-632.8666666666667","-","LMT","-2146003200000"],["-660","-","+11","-1743638400000"],["-540","-","+09","-1606780800000"],["-660","-","+11","-1009929600000"],["-600","-","+10","-907372800000"],["-540","-","+09","-770601600000"],["-660","-","+11",null]],"Pacific/Kosrae":[["788.0666666666666","-","LMT","-3944678400000"],["-651.9333333333334","-","LMT","-2146003200000"],["-660","-","+11","-1743638400000"],["-540","-","+09","-1606780800000"],["-660","-","+11","-1009929600000"],["-600","-","+10","-907372800000"],["-540","-","+09","-770601600000"],["-660","-","+11","-7948800000"],["-720","-","+12","946598400000"],["-660","-","+11",null]],"Pacific/Nauru":[["-667.6666666666666","-","LMT","-1545091200000"],["-690","-","+1130","-862876800000"],["-540","-","+09","-767318400000"],["-690","-","+1130","287460000000"],["-720","-","+12",null]],"Pacific/Noumea":[["-665.8","-","LMT","-1829347200000"],["-660","NC","+11/+12",null]],"Pacific/Auckland":[["-699.0666666666666","-","LMT","-3192393600000"],["-690","NZ","NZ%sT","-757382400000"],["-720","NZ","NZ%sT",null]],"Pacific/Chatham":[["-733.8","-","LMT","-3192393600000"],["-735","-","+1215","-757382400000"],["-765","Chatham","+1245/+1345",null]],"Antarctica/McMurdo":"Pacific/Auckland","Pacific/Rarotonga":[["639.0666666666666","-","LMT","-2146003200000"],["630","-","-1030","279676800000"],["600","Cook","-10/-0930",null]],"Pacific/Niue":[["679.6666666666666","-","LMT","-2146003200000"],["680","-","-1120","-568166400000"],["690","-","-1130","276048000000"],["660","-","-11",null]],"Pacific/Norfolk":[["-671.8666666666667","-","LMT","-2146003200000"],["-672","-","+1112","-568166400000"],["-690","-","+1130","152071200000"],["-690","1:00","+1230","162957600000"],["-690","-","+1130","1443924000000"],["-660","-","+11","1561939200000"],["-660","AN","+11/+12",null]],"Pacific/Palau":[["902.0666666666666","-","LMT","-3944678400000"],["-537.9333333333334","-","LMT","-2146003200000"],["-540","-","+09",null]],"Pacific/Port_Moresby":[["-588.6666666666666","-","LMT","-2808604800000"],["-588.5333333333334","-","PMMT","-2335305600000"],["-600","-","+10",null]],"Pacific/Bougainville":[["-622.2666666666667","-","LMT","-2808604800000"],["-588.5333333333334","-","PMMT","-2335305600000"],["-600","-","+10","-867974400000"],["-540","-","+09","-768873600000"],["-600","-","+10","1419732000000"],["-660","-","+11",null]],"Pacific/Pitcairn":[["520.3333333333333","-","LMT","-2146003200000"],["510","-","-0830","893635200000"],["480","-","-08",null]],"Pacific/Pago_Pago":[["-757.2","-","LMT","-2445379200000"],["682.8","-","LMT","-1830470400000"],["660","-","SST",null]],"Pacific/Midway":"Pacific/Pago_Pago","Pacific/Apia":[["-753.0666666666666","-","LMT","-2445379200000"],["686.9333333333334","-","LMT","-1830470400000"],["690","-","-1130","-599702400000"],["660","WS","-11/-10","1325203200000"],["-780","WS","+13/+14",null]],"Pacific/Guadalcanal":[["-639.8","-","LMT","-1806710400000"],["-660","-","+11",null]],"Pacific/Fakaofo":[["684.9333333333334","-","LMT","-2146003200000"],["660","-","-11","1325203200000"],["-780","-","+13",null]],"Pacific/Tongatapu":[["-739.3333333333334","-","LMT","-2146003200000"],["-740","-","+1220","-883699200000"],["-780","-","+13","946598400000"],["-780","Tonga","+13/+14",null]],"Pacific/Funafuti":[["-716.8666666666667","-","LMT","-2146003200000"],["-720","-","+12",null]],"Pacific/Wake":[["-666.4666666666666","-","LMT","-2146003200000"],["-720","-","+12",null]],"Pacific/Efate":[["-673.2666666666667","-","LMT","-1829347200000"],["-660","Vanuatu","+11/+12",null]],"Pacific/Wallis":[["-735.3333333333334","-","LMT","-2146003200000"],["-720","-","+12",null]],"Africa/Asmera":"Africa/Nairobi","Africa/Timbuktu":"Africa/Abidjan","America/Argentina/ComodRivadavia":"America/Argentina/Catamarca","America/Atka":"America/Adak","America/Buenos_Aires":"America/Argentina/Buenos_Aires","America/Catamarca":"America/Argentina/Catamarca","America/Coral_Harbour":"America/Atikokan","America/Cordoba":"America/Argentina/Cordoba","America/Ensenada":"America/Tijuana","America/Fort_Wayne":"America/Indiana/Indianapolis","America/Godthab":"America/Nuuk","America/Indianapolis":"America/Indiana/Indianapolis","America/Jujuy":"America/Argentina/Jujuy","America/Knox_IN":"America/Indiana/Knox","America/Louisville":"America/Kentucky/Louisville","America/Mendoza":"America/Argentina/Mendoza","America/Montreal":"America/Toronto","America/Porto_Acre":"America/Rio_Branco","America/Rosario":"America/Argentina/Cordoba","America/Santa_Isabel":"America/Tijuana","America/Shiprock":"America/Denver","America/Virgin":"America/Port_of_Spain","Antarctica/South_Pole":"Pacific/Auckland","Asia/Ashkhabad":"Asia/Ashgabat","Asia/Calcutta":"Asia/Kolkata","Asia/Chongqing":"Asia/Shanghai","Asia/Chungking":"Asia/Shanghai","Asia/Dacca":"Asia/Dhaka","Asia/Harbin":"Asia/Shanghai","Asia/Kashgar":"Asia/Urumqi","Asia/Katmandu":"Asia/Kathmandu","Asia/Macao":"Asia/Macau","Asia/Rangoon":"Asia/Yangon","Asia/Saigon":"Asia/Ho_Chi_Minh","Asia/Tel_Aviv":"Asia/Jerusalem","Asia/Thimbu":"Asia/Thimphu","Asia/Ujung_Pandang":"Asia/Makassar","Asia/Ulan_Bator":"Asia/Ulaanbaatar","Atlantic/Faeroe":"Atlantic/Faroe","Atlantic/Jan_Mayen":"Europe/Oslo","Australia/ACT":"Australia/Sydney","Australia/Canberra":"Australia/Sydney","Australia/Currie":"Australia/Hobart","Australia/LHI":"Australia/Lord_Howe","Australia/NSW":"Australia/Sydney","Australia/North":"Australia/Darwin","Australia/Queensland":"Australia/Brisbane","Australia/South":"Australia/Adelaide","Australia/Tasmania":"Australia/Hobart","Australia/Victoria":"Australia/Melbourne","Australia/West":"Australia/Perth","Australia/Yancowinna":"Australia/Broken_Hill","Brazil/Acre":"America/Rio_Branco","Brazil/DeNoronha":"America/Noronha","Brazil/East":"America/Sao_Paulo","Brazil/West":"America/Manaus","Canada/Atlantic":"America/Halifax","Canada/Central":"America/Winnipeg","Canada/Eastern":"America/Toronto","Canada/Mountain":"America/Edmonton","Canada/Newfoundland":"America/St_Johns","Canada/Pacific":"America/Vancouver","Canada/Saskatchewan":"America/Regina","Canada/Yukon":"America/Whitehorse","Chile/Continental":"America/Santiago","Chile/EasterIsland":"Pacific/Easter",Cuba:"America/Havana",Egypt:"Africa/Cairo",Eire:"Europe/Dublin","Etc/UCT":"Etc/UTC","Europe/Belfast":"Europe/London","Europe/Tiraspol":"Europe/Chisinau",GB:"Europe/London","GB-Eire":"Europe/London","GMT+0":"Etc/GMT","GMT-0":"Etc/GMT",GMT0:"Etc/GMT",Greenwich:"Etc/GMT",Hongkong:"Asia/Hong_Kong",Iceland:"Atlantic/Reykjavik",Iran:"Asia/Tehran",Israel:"Asia/Jerusalem",Jamaica:"America/Jamaica",Japan:"Asia/Tokyo",Kwajalein:"Pacific/Kwajalein",Libya:"Africa/Tripoli","Mexico/BajaNorte":"America/Tijuana","Mexico/BajaSur":"America/Mazatlan","Mexico/General":"America/Mexico_City",NZ:"Pacific/Auckland","NZ-CHAT":"Pacific/Chatham",Navajo:"America/Denver",PRC:"Asia/Shanghai","Pacific/Johnston":"Pacific/Honolulu","Pacific/Ponape":"Pacific/Pohnpei","Pacific/Samoa":"Pacific/Pago_Pago","Pacific/Truk":"Pacific/Chuuk","Pacific/Yap":"Pacific/Chuuk",Poland:"Europe/Warsaw",Portugal:"Europe/Lisbon",ROC:"Asia/Taipei",ROK:"Asia/Seoul",Singapore:"Asia/Singapore",Turkey:"Europe/Istanbul",UCT:"Etc/UTC","US/Alaska":"America/Anchorage","US/Aleutian":"America/Adak","US/Arizona":"America/Phoenix","US/Central":"America/Chicago","US/East-Indiana":"America/Indiana/Indianapolis","US/Eastern":"America/New_York","US/Hawaii":"Pacific/Honolulu","US/Indiana-Starke":"America/Indiana/Knox","US/Michigan":"America/Detroit","US/Mountain":"America/Denver","US/Pacific":"America/Los_Angeles","US/Samoa":"Pacific/Pago_Pago",UTC:"Etc/UTC",Universal:"Etc/UTC","W-SU":"Europe/Moscow",Zulu:"Etc/UTC","Etc/GMT":[["0","-","GMT",null]],"Etc/UTC":[["0","-","UTC",null]],GMT:"Etc/GMT","Etc/Universal":"Etc/UTC","Etc/Zulu":"Etc/UTC","Etc/Greenwich":"Etc/GMT","Etc/GMT-0":"Etc/GMT","Etc/GMT+0":"Etc/GMT","Etc/GMT0":"Etc/GMT","Etc/GMT-14":[["-840","-","+14",null]],"Etc/GMT-13":[["-780","-","+13",null]],"Etc/GMT-12":[["-720","-","+12",null]],"Etc/GMT-11":[["-660","-","+11",null]],"Etc/GMT-10":[["-600","-","+10",null]],"Etc/GMT-9":[["-540","-","+09",null]],"Etc/GMT-8":[["-480","-","+08",null]],"Etc/GMT-7":[["-420","-","+07",null]],"Etc/GMT-6":[["-360","-","+06",null]],"Etc/GMT-5":[["-300","-","+05",null]],"Etc/GMT-4":[["-240","-","+04",null]],"Etc/GMT-3":[["-180","-","+03",null]],"Etc/GMT-2":[["-120","-","+02",null]],"Etc/GMT-1":[["-60","-","+01",null]],"Etc/GMT+1":[["60","-","-01",null]],"Etc/GMT+2":[["120","-","-02",null]],"Etc/GMT+3":[["180","-","-03",null]],"Etc/GMT+4":[["240","-","-04",null]],"Etc/GMT+5":[["300","-","-05",null]],"Etc/GMT+6":[["360","-","-06",null]],"Etc/GMT+7":[["420","-","-07",null]],"Etc/GMT+8":[["480","-","-08",null]],"Etc/GMT+9":[["540","-","-09",null]],"Etc/GMT+10":[["600","-","-10",null]],"Etc/GMT+11":[["660","-","-11",null]],"Etc/GMT+12":[["720","-","-12",null]],"Europe/London":[["1.25","-","LMT","-3852662400000"],["0","GB-Eire","%s","-37238400000"],["-60","-","BST","57722400000"],["0","GB-Eire","%s","851990400000"],["0","EU","GMT/BST",null]],"Europe/Jersey":"Europe/London","Europe/Guernsey":"Europe/London","Europe/Isle_of_Man":"Europe/London","Europe/Dublin":[["25","-","LMT","-2821651200000"],["25.35","-","DMT","-1691964000000"],["25.35","1:00","IST","-1680472800000"],["0","GB-Eire","%s","-1517011200000"],["0","GB-Eire","GMT/IST","-942012000000"],["0","1:00","IST","-733356000000"],["0","-","GMT","-719445600000"],["0","1:00","IST","-699487200000"],["0","-","GMT","-684972000000"],["0","GB-Eire","GMT/IST","-37238400000"],["-60","Eire","IST/GMT",null]],WET:[["0","EU","WE%sT",null]],CET:[["-60","C-Eur","CE%sT",null]],MET:[["-60","C-Eur","ME%sT",null]],EET:[["-120","EU","EE%sT",null]],"Europe/Tirane":[["-79.33333333333333","-","LMT","-1735776000000"],["-60","-","CET","-932342400000"],["-60","Albania","CE%sT","457488000000"],["-60","EU","CE%sT",null]],"Europe/Andorra":[["-6.066666666666667","-","LMT","-2146003200000"],["0","-","WET","-733881600000"],["-60","-","CET","481082400000"],["-60","EU","CE%sT",null]],"Europe/Vienna":[["-65.35","-","LMT","-2422051200000"],["-60","C-Eur","CE%sT","-1546387200000"],["-60","Austria","CE%sT","-938901600000"],["-60","C-Eur","CE%sT","-781048800000"],["-60","1:00","CEST","-780184800000"],["-60","-","CET","-725932800000"],["-60","Austria","CE%sT","378604800000"],["-60","EU","CE%sT",null]],"Europe/Minsk":[["-110.26666666666667","-","LMT","-2808604800000"],["-110","-","MMT","-1441152000000"],["-120","-","EET","-1247529600000"],["-180","-","MSK","-899769600000"],["-60","C-Eur","CE%sT","-804643200000"],["-180","Russia","MSK/MSD","662601600000"],["-180","-","MSK","670384800000"],["-120","Russia","EE%sT","1301191200000"],["-180","-","+03",null]],"Europe/Brussels":[["-17.5","-","LMT","-2808604800000"],["-17.5","-","BMT","-2450994150000"],["0","-","WET","-1740355200000"],["-60","-","CET","-1693699200000"],["-60","C-Eur","CE%sT","-1613826000000"],["0","Belgium","WE%sT","-934668000000"],["-60","C-Eur","CE%sT","-799286400000"],["-60","Belgium","CE%sT","252374400000"],["-60","EU","CE%sT",null]],"Europe/Sofia":[["-93.26666666666667","-","LMT","-2808604800000"],["-116.93333333333332","-","IMT","-2369520000000"],["-120","-","EET","-857250000000"],["-60","C-Eur","CE%sT","-757468800000"],["-60","-","CET","-781045200000"],["-120","-","EET","291769200000"],["-120","Bulg","EE%sT","401857200000"],["-120","C-Eur","EE%sT","694137600000"],["-120","E-Eur","EE%sT","883526400000"],["-120","EU","EE%sT",null]],"Europe/Prague":[["-57.733333333333334","-","LMT","-3755376000000"],["-57.733333333333334","-","PMT","-2469398400000"],["-60","C-Eur","CE%sT","-777859200000"],["-60","Czech","CE%sT","-728514000000"],["-60","-1:00","GMT","-721260000000"],["-60","Czech","CE%sT","315446400000"],["-60","EU","CE%sT",null]],"Europe/Copenhagen":[["-50.333333333333336","-","LMT","-2493072000000"],["-50.333333333333336","-","CMT","-2398291200000"],["-60","Denmark","CE%sT","-857253600000"],["-60","C-Eur","CE%sT","-781048800000"],["-60","Denmark","CE%sT","347068800000"],["-60","EU","CE%sT",null]],"Atlantic/Faroe":[["27.066666666666666","-","LMT","-1955750400000"],["0","-","WET","378604800000"],["0","EU","WE%sT",null]],"America/Danmarkshavn":[["74.66666666666667","-","LMT","-1686096000000"],["180","-","-03","323834400000"],["180","EU","-03/-02","851990400000"],["0","-","GMT",null]],"America/Scoresbysund":[["87.86666666666667","-","LMT","-1686096000000"],["120","-","-02","323834400000"],["120","C-Eur","-02/-01","354672000000"],["60","EU","-01/+00",null]],"America/Nuuk":[["206.93333333333334","-","LMT","-1686096000000"],["180","-","-03","323834400000"],["180","EU","-03/-02",null]],"America/Thule":[["275.1333333333333","-","LMT","-1686096000000"],["240","Thule","A%sT",null]],"Europe/Tallinn":[["-99","-","LMT","-2808604800000"],["-99","-","TMT","-1638316800000"],["-60","C-Eur","CE%sT","-1593820800000"],["-99","-","TMT","-1535932800000"],["-120","-","EET","-927936000000"],["-180","-","MSK","-892944000000"],["-60","C-Eur","CE%sT","-797644800000"],["-180","Russia","MSK/MSD","606880800000"],["-120","1:00","EEST","622605600000"],["-120","C-Eur","EE%sT","906422400000"],["-120","EU","EE%sT","941342400000"],["-120","-","EET","1014249600000"],["-120","EU","EE%sT",null]],"Europe/Helsinki":[["-99.81666666666668","-","LMT","-2890252800000"],["-99.81666666666668","-","HMT","-1535932800000"],["-120","Finland","EE%sT","441676800000"],["-120","EU","EE%sT",null]],"Europe/Mariehamn":"Europe/Helsinki","Europe/Paris":[["-9.35","-","LMT","-2486592000000"],["-9.35","-","PMT","-1855958400000"],["0","France","WE%sT","-932432400000"],["-60","C-Eur","CE%sT","-800064000000"],["0","France","WE%sT","-766616400000"],["-60","France","CE%sT","252374400000"],["-60","EU","CE%sT",null]],"Europe/Berlin":[["-53.46666666666666","-","LMT","-2422051200000"],["-60","C-Eur","CE%sT","-776556000000"],["-60","SovietZone","CE%sT","-725932800000"],["-60","Germany","CE%sT","347068800000"],["-60","EU","CE%sT",null]],"Europe/Busingen":"Europe/Zurich","Europe/Gibraltar":[["21.4","-","LMT","-2821651200000"],["0","GB-Eire","%s","-401320800000"],["-60","-","CET","410140800000"],["-60","EU","CE%sT",null]],"Europe/Athens":[["-94.86666666666667","-","LMT","-2344636800000"],["-94.86666666666667","-","AMT","-1686095940000"],["-120","Greece","EE%sT","-904867200000"],["-60","Greece","CE%sT","-812419200000"],["-120","Greece","EE%sT","378604800000"],["-120","EU","EE%sT",null]],"Europe/Budapest":[["-76.33333333333333","-","LMT","-2498256000000"],["-60","C-Eur","CE%sT","-1609545600000"],["-60","Hungary","CE%sT","-906771600000"],["-60","C-Eur","CE%sT","-757468800000"],["-60","Hungary","CE%sT","473299200000"],["-60","EU","CE%sT",null]],"Atlantic/Reykjavik":[["88","-","LMT","-1925078400000"],["60","Iceland","-01/+00","-54774000000"],["0","-","GMT",null]],"Europe/Rome":[["-49.93333333333334","-","LMT","-3252096000000"],["-49.93333333333334","-","RMT","-2403562204000"],["-60","Italy","CE%sT","-830304000000"],["-60","C-Eur","CE%sT","-807148800000"],["-60","Italy","CE%sT","347068800000"],["-60","EU","CE%sT",null]],"Europe/Vatican":"Europe/Rome","Europe/San_Marino":"Europe/Rome","Europe/Riga":[["-96.56666666666668","-","LMT","-2808604800000"],["-96.56666666666668","-","RMT","-1632002400000"],["-96.56666666666668","1:00","LST","-1618693200000"],["-96.56666666666668","-","RMT","-1601676000000"],["-96.56666666666668","1:00","LST","-1597266000000"],["-96.56666666666668","-","RMT","-1377302400000"],["-120","-","EET","-928022400000"],["-180","-","MSK","-899510400000"],["-60","C-Eur","CE%sT","-795830400000"],["-180","Russia","MSK/MSD","604720800000"],["-120","1:00","EEST","620618400000"],["-120","Latvia","EE%sT","853804800000"],["-120","EU","EE%sT","951782400000"],["-120","-","EET","978393600000"],["-120","EU","EE%sT",null]],"Europe/Vaduz":"Europe/Zurich","Europe/Vilnius":[["-101.26666666666667","-","LMT","-2808604800000"],["-84","-","WMT","-1641081600000"],["-95.6","-","KMT","-1585094400000"],["-60","-","CET","-1561248000000"],["-120","-","EET","-1553558400000"],["-60","-","CET","-928195200000"],["-180","-","MSK","-900115200000"],["-60","C-Eur","CE%sT","-802137600000"],["-180","Russia","MSK/MSD","606880800000"],["-120","Russia","EE%sT","686109600000"],["-120","C-Eur","EE%sT","915062400000"],["-120","-","EET","891133200000"],["-60","EU","CE%sT","941331600000"],["-120","-","EET","1041379200000"],["-120","EU","EE%sT",null]],"Europe/Luxembourg":[["-24.6","-","LMT","-2069712000000"],["-60","Lux","CE%sT","-1612656000000"],["0","Lux","WE%sT","-1269813600000"],["0","Belgium","WE%sT","-935182800000"],["-60","C-Eur","WE%sT","-797979600000"],["-60","Belgium","CE%sT","252374400000"],["-60","EU","CE%sT",null]],"Europe/Malta":[["-58.06666666666666","-","LMT","-2403475200000"],["-60","Italy","CE%sT","102384000000"],["-60","Malta","CE%sT","378604800000"],["-60","EU","CE%sT",null]],"Europe/Chisinau":[["-115.33333333333333","-","LMT","-2808604800000"],["-115","-","CMT","-1637107200000"],["-104.4","-","BMT","-1213142400000"],["-120","Romania","EE%sT","-927158400000"],["-120","1:00","EEST","-898128000000"],["-60","C-Eur","CE%sT","-800150400000"],["-180","Russia","MSK/MSD","641959200000"],["-120","Russia","EE%sT","725760000000"],["-120","E-Eur","EE%sT","883526400000"],["-120","Moldova","EE%sT",null]],"Europe/Monaco":[["-29.53333333333333","-","LMT","-2448316800000"],["-9.35","-","PMT","-1854403200000"],["0","France","WE%sT","-766616400000"],["-60","France","CE%sT","252374400000"],["-60","EU","CE%sT",null]],"Europe/Amsterdam":[["-19.53333333333333","-","LMT","-4228761600000"],["-19.53333333333333","Neth","%s","-1025740800000"],["-20","Neth","+0020/+0120","-935020800000"],["-60","C-Eur","CE%sT","-781048800000"],["-60","Neth","CE%sT","252374400000"],["-60","EU","CE%sT",null]],"Europe/Oslo":[["-43","-","LMT","-2366755200000"],["-60","Norway","CE%sT","-927507600000"],["-60","C-Eur","CE%sT","-781048800000"],["-60","Norway","CE%sT","347068800000"],["-60","EU","CE%sT",null]],"Arctic/Longyearbyen":"Europe/Oslo","Europe/Warsaw":[["-84","-","LMT","-2808604800000"],["-84","-","WMT","-1717027200000"],["-60","C-Eur","CE%sT","-1618693200000"],["-120","Poland","EE%sT","-1501718400000"],["-60","Poland","CE%sT","-931730400000"],["-60","C-Eur","CE%sT","-796867200000"],["-60","Poland","CE%sT","252374400000"],["-60","W-Eur","CE%sT","599529600000"],["-60","EU","CE%sT",null]],"Europe/Lisbon":[["36.75","-","LMT","-2682374400000"],["36.75","-","LMT","-1830384000000"],["0","Port","WE%sT","-118274400000"],["-60","-","CET","212547600000"],["0","Port","WE%sT","433299600000"],["0","W-Eur","WE%sT","717555600000"],["-60","EU","CE%sT","828234000000"],["0","EU","WE%sT",null]],"Atlantic/Azores":[["102.66666666666667","-","LMT","-2682374400000"],["114.53333333333333","-","HMT","-1830376800000"],["120","Port","-02/-01","-873684000000"],["120","Port","+00","-864007200000"],["120","Port","-02/-01","-842839200000"],["120","Port","+00","-831348000000"],["120","Port","-02/-01","-810784800000"],["120","Port","+00","-799898400000"],["120","Port","-02/-01","-779335200000"],["120","Port","+00","-768448800000"],["120","Port","-02/-01","-118274400000"],["60","Port","-01/+00","433299600000"],["60","W-Eur","-01/+00","717555600000"],["0","EU","WE%sT","733280400000"],["60","EU","-01/+00",null]],"Atlantic/Madeira":[["67.6","-","LMT","-2682374400000"],["67.6","-","FMT","-1830380400000"],["60","Port","-01/+00","-873684000000"],["60","Port","+01","-864007200000"],["60","Port","-01/+00","-842839200000"],["60","Port","+01","-831348000000"],["60","Port","-01/+00","-810784800000"],["60","Port","+01","-799898400000"],["60","Port","-01/+00","-779335200000"],["60","Port","+01","-768448800000"],["60","Port","-01/+00","-118274400000"],["0","Port","WE%sT","433299600000"],["0","EU","WE%sT",null]],"Europe/Bucharest":[["-104.4","-","LMT","-2469398400000"],["-104.4","-","BMT","-1213142400000"],["-120","Romania","EE%sT","354679200000"],["-120","C-Eur","EE%sT","694137600000"],["-120","Romania","EE%sT","788832000000"],["-120","E-Eur","EE%sT","883526400000"],["-120","EU","EE%sT",null]],"Europe/Kaliningrad":[["-82","-","LMT","-2422051200000"],["-60","C-Eur","CE%sT","-780364800000"],["-120","Poland","EE%sT","-749088000000"],["-180","Russia","MSK/MSD","606880800000"],["-120","Russia","EE%sT","1301191200000"],["-180","-","+03","1414288800000"],["-120","-","EET",null]],"Europe/Moscow":[["-150.28333333333333","-","LMT","-2808604800000"],["-150.28333333333333","-","MMT","-1688256000000"],["-151.31666666666666","Russia","%s","-1593820800000"],["-180","Russia","%s","-1522713600000"],["-180","Russia","MSK/MSD","-1491177600000"],["-120","-","EET","-1247529600000"],["-180","Russia","MSK/MSD","670384800000"],["-120","Russia","EE%sT","695786400000"],["-180","Russia","MSK/MSD","1301191200000"],["-240","-","MSK","1414288800000"],["-180","-","MSK",null]],"Europe/Simferopol":[["-136.4","-","LMT","-2808604800000"],["-136","-","SMT","-1441152000000"],["-120","-","EET","-1247529600000"],["-180","-","MSK","-888883200000"],["-60","C-Eur","CE%sT","-811641600000"],["-180","Russia","MSK/MSD","662601600000"],["-180","-","MSK","646797600000"],["-120","-","EET","725760000000"],["-120","E-Eur","EE%sT","767750400000"],["-180","E-Eur","MSK/MSD","828230400000"],["-180","1:00","MSD","846385200000"],["-180","Russia","MSK/MSD","883526400000"],["-180","-","MSK","857178000000"],["-120","EU","EE%sT","1396144800000"],["-240","-","MSK","1414288800000"],["-180","-","MSK",null]],"Europe/Astrakhan":[["-192.2","-","LMT","-1441238400000"],["-180","-","+03","-1247529600000"],["-240","Russia","+04/+05","606880800000"],["-180","Russia","+03/+04","670384800000"],["-240","-","+04","701834400000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04","1414288800000"],["-180","-","+03","1459044000000"],["-240","-","+04",null]],"Europe/Volgograd":[["-177.66666666666666","-","LMT","-1577750400000"],["-180","-","+03","-1247529600000"],["-240","-","+04","-256867200000"],["-240","Russia","+04/+05","575431200000"],["-180","Russia","+03/+04","670384800000"],["-240","-","+04","701834400000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04","1414288800000"],["-180","-","+03","1540692000000"],["-240","-","+04","1609034400000"],["-180","-","+03",null]],"Europe/Saratov":[["-184.3","-","LMT","-1593820800000"],["-180","-","+03","-1247529600000"],["-240","Russia","+04/+05","575431200000"],["-180","Russia","+03/+04","670384800000"],["-240","-","+04","701834400000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04","1414288800000"],["-180","-","+03","1480816800000"],["-240","-","+04",null]],"Europe/Kirov":[["-198.8","-","LMT","-1593820800000"],["-180","-","+03","-1247529600000"],["-240","Russia","+04/+05","606880800000"],["-180","Russia","+03/+04","670384800000"],["-240","-","+04","701834400000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04","1414288800000"],["-180","-","+03",null]],"Europe/Samara":[["-200.33333333333334","-","LMT","-1593820800000"],["-180","-","+03","-1247529600000"],["-240","-","+04","-1102291200000"],["-240","Russia","+04/+05","606880800000"],["-180","Russia","+03/+04","670384800000"],["-120","Russia","+02/+03","686109600000"],["-180","-","+03","687927600000"],["-240","Russia","+04/+05","1269741600000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04",null]],"Europe/Ulyanovsk":[["-193.6","-","LMT","-1593820800000"],["-180","-","+03","-1247529600000"],["-240","Russia","+04/+05","606880800000"],["-180","Russia","+03/+04","670384800000"],["-120","Russia","+02/+03","695786400000"],["-180","Russia","+03/+04","1301191200000"],["-240","-","+04","1414288800000"],["-180","-","+03","1459044000000"],["-240","-","+04",null]],"Asia/Yekaterinburg":[["-242.55","-","LMT","-1688256000000"],["-225.08333333333334","-","PMT","-1592596800000"],["-240","-","+04","-1247529600000"],["-300","Russia","+05/+06","670384800000"],["-240","Russia","+04/+05","695786400000"],["-300","Russia","+05/+06","1301191200000"],["-360","-","+06","1414288800000"],["-300","-","+05",null]],"Asia/Omsk":[["-293.5","-","LMT","-1582070400000"],["-300","-","+05","-1247529600000"],["-360","Russia","+06/+07","670384800000"],["-300","Russia","+05/+06","695786400000"],["-360","Russia","+06/+07","1301191200000"],["-420","-","+07","1414288800000"],["-360","-","+06",null]],"Asia/Barnaul":[["-335","-","LMT","-1579824000000"],["-360","-","+06","-1247529600000"],["-420","Russia","+07/+08","670384800000"],["-360","Russia","+06/+07","695786400000"],["-420","Russia","+07/+08","801619200000"],["-360","Russia","+06/+07","1301191200000"],["-420","-","+07","1414288800000"],["-360","-","+06","1459044000000"],["-420","-","+07",null]],"Asia/Novosibirsk":[["-331.6666666666667","-","LMT","-1579456800000"],["-360","-","+06","-1247529600000"],["-420","Russia","+07/+08","670384800000"],["-360","Russia","+06/+07","695786400000"],["-420","Russia","+07/+08","738115200000"],["-360","Russia","+06/+07","1301191200000"],["-420","-","+07","1414288800000"],["-360","-","+06","1469325600000"],["-420","-","+07",null]],"Asia/Tomsk":[["-339.85","-","LMT","-1578787200000"],["-360","-","+06","-1247529600000"],["-420","Russia","+07/+08","670384800000"],["-360","Russia","+06/+07","695786400000"],["-420","Russia","+07/+08","1020222000000"],["-360","Russia","+06/+07","1301191200000"],["-420","-","+07","1414288800000"],["-360","-","+06","1464487200000"],["-420","-","+07",null]],"Asia/Novokuznetsk":[["-348.8","-","LMT","-1441238400000"],["-360","-","+06","-1247529600000"],["-420","Russia","+07/+08","670384800000"],["-360","Russia","+06/+07","695786400000"],["-420","Russia","+07/+08","1269741600000"],["-360","Russia","+06/+07","1301191200000"],["-420","-","+07",null]],"Asia/Krasnoyarsk":[["-371.43333333333334","-","LMT","-1577491200000"],["-360","-","+06","-1247529600000"],["-420","Russia","+07/+08","670384800000"],["-360","Russia","+06/+07","695786400000"],["-420","Russia","+07/+08","1301191200000"],["-480","-","+08","1414288800000"],["-420","-","+07",null]],"Asia/Irkutsk":[["-417.0833333333333","-","LMT","-2808604800000"],["-417.0833333333333","-","IMT","-1575849600000"],["-420","-","+07","-1247529600000"],["-480","Russia","+08/+09","670384800000"],["-420","Russia","+07/+08","695786400000"],["-480","Russia","+08/+09","1301191200000"],["-540","-","+09","1414288800000"],["-480","-","+08",null]],"Asia/Chita":[["-453.8666666666667","-","LMT","-1579392000000"],["-480","-","+08","-1247529600000"],["-540","Russia","+09/+10","670384800000"],["-480","Russia","+08/+09","695786400000"],["-540","Russia","+09/+10","1301191200000"],["-600","-","+10","1414288800000"],["-480","-","+08","1459044000000"],["-540","-","+09",null]],"Asia/Yakutsk":[["-518.9666666666667","-","LMT","-1579392000000"],["-480","-","+08","-1247529600000"],["-540","Russia","+09/+10","670384800000"],["-480","Russia","+08/+09","695786400000"],["-540","Russia","+09/+10","1301191200000"],["-600","-","+10","1414288800000"],["-540","-","+09",null]],"Asia/Vladivostok":[["-527.5166666666667","-","LMT","-1487289600000"],["-540","-","+09","-1247529600000"],["-600","Russia","+10/+11","670384800000"],["-540","Russia","+09/+10","695786400000"],["-600","Russia","+10/+11","1301191200000"],["-660","-","+11","1414288800000"],["-600","-","+10",null]],"Asia/Khandyga":[["-542.2166666666666","-","LMT","-1579392000000"],["-480","-","+08","-1247529600000"],["-540","Russia","+09/+10","670384800000"],["-480","Russia","+08/+09","695786400000"],["-540","Russia","+09/+10","1104451200000"],["-600","Russia","+10/+11","1301191200000"],["-660","-","+11","1315872000000"],["-600","-","+10","1414288800000"],["-540","-","+09",null]],"Asia/Sakhalin":[["-570.8","-","LMT","-2031004800000"],["-540","-","+09","-768528000000"],["-660","Russia","+11/+12","670384800000"],["-600","Russia","+10/+11","695786400000"],["-660","Russia","+11/+12","857181600000"],["-600","Russia","+10/+11","1301191200000"],["-660","-","+11","1414288800000"],["-600","-","+10","1459044000000"],["-660","-","+11",null]],"Asia/Magadan":[["-603.2","-","LMT","-1441152000000"],["-600","-","+10","-1247529600000"],["-660","Russia","+11/+12","670384800000"],["-600","Russia","+10/+11","695786400000"],["-660","Russia","+11/+12","1301191200000"],["-720","-","+12","1414288800000"],["-600","-","+10","1461463200000"],["-660","-","+11",null]],"Asia/Srednekolymsk":[["-614.8666666666667","-","LMT","-1441152000000"],["-600","-","+10","-1247529600000"],["-660","Russia","+11/+12","670384800000"],["-600","Russia","+10/+11","695786400000"],["-660","Russia","+11/+12","1301191200000"],["-720","-","+12","1414288800000"],["-660","-","+11",null]],"Asia/Ust-Nera":[["-572.9","-","LMT","-1579392000000"],["-480","-","+08","-1247529600000"],["-540","Russia","+09/+10","354931200000"],["-660","Russia","+11/+12","670384800000"],["-600","Russia","+10/+11","695786400000"],["-660","Russia","+11/+12","1301191200000"],["-720","-","+12","1315872000000"],["-660","-","+11","1414288800000"],["-600","-","+10",null]],"Asia/Kamchatka":[["-634.6","-","LMT","-1487721600000"],["-660","-","+11","-1247529600000"],["-720","Russia","+12/+13","670384800000"],["-660","Russia","+11/+12","695786400000"],["-720","Russia","+12/+13","1269741600000"],["-660","Russia","+11/+12","1301191200000"],["-720","-","+12",null]],"Asia/Anadyr":[["-709.9333333333334","-","LMT","-1441152000000"],["-720","-","+12","-1247529600000"],["-780","Russia","+13/+14","386467200000"],["-720","Russia","+12/+13","670384800000"],["-660","Russia","+11/+12","695786400000"],["-720","Russia","+12/+13","1269741600000"],["-660","Russia","+11/+12","1301191200000"],["-720","-","+12",null]],"Europe/Belgrade":[["-82","-","LMT","-2682374400000"],["-60","-","CET","-905821200000"],["-60","C-Eur","CE%sT","-757468800000"],["-60","-","CET","-777938400000"],["-60","1:00","CEST","-766620000000"],["-60","-","CET","407203200000"],["-60","EU","CE%sT",null]],"Europe/Ljubljana":"Europe/Belgrade","Europe/Podgorica":"Europe/Belgrade","Europe/Sarajevo":"Europe/Belgrade","Europe/Skopje":"Europe/Belgrade","Europe/Zagreb":"Europe/Belgrade","Europe/Bratislava":"Europe/Prague","Europe/Madrid":[["14.733333333333334","-","LMT","-2177453684000"],["0","Spain","WE%sT","-940208400000"],["-60","Spain","CE%sT","315446400000"],["-60","EU","CE%sT",null]],"Africa/Ceuta":[["21.26666666666667","-","LMT","-2177454076000"],["0","-","WET","-1630112400000"],["0","1:00","WEST","-1616806800000"],["0","-","WET","-1420156800000"],["0","Spain","WE%sT","-1262390400000"],["0","-","WET","-63244800000"],["0","SpainAfrica","WE%sT","448243200000"],["-60","-","CET","536371200000"],["-60","EU","CE%sT",null]],"Atlantic/Canary":[["61.6","-","LMT","-1509667200000"],["60","-","-01","-733878000000"],["0","-","WET","323827200000"],["0","1:00","WEST","338950800000"],["0","EU","WE%sT",null]],"Europe/Stockholm":[["-72.2","-","LMT","-2871676800000"],["-60.233333333333334","-","SET","-2208988800000"],["-60","-","CET","-1692493200000"],["-60","1:00","CEST","-1680476400000"],["-60","-","CET","347068800000"],["-60","EU","CE%sT",null]],"Europe/Zurich":[["-34.13333333333333","-","LMT","-3675196800000"],["-29.76666666666667","-","BMT","-2385244800000"],["-60","Swiss","CE%sT","378604800000"],["-60","EU","CE%sT",null]],"Europe/Istanbul":[["-115.86666666666667","-","LMT","-2808604800000"],["-116.93333333333332","-","IMT","-1869868800000"],["-120","Turkey","EE%sT","267926400000"],["-180","Turkey","+03/+04","468122400000"],["-120","Turkey","EE%sT","1199059200000"],["-120","EU","EE%sT","1301187600000"],["-120","-","EET","1301274000000"],["-120","EU","EE%sT","1396141200000"],["-120","-","EET","1396227600000"],["-120","EU","EE%sT","1445734800000"],["-120","1:00","EEST","1446944400000"],["-120","EU","EE%sT","1473206400000"],["-180","-","+03",null]],"Asia/Istanbul":"Europe/Istanbul","Europe/Kiev":[["-122.06666666666668","-","LMT","-2808604800000"],["-122.06666666666668","-","KMT","-1441152000000"],["-120","-","EET","-1247529600000"],["-180","-","MSK","-892512000000"],["-60","C-Eur","CE%sT","-825379200000"],["-180","Russia","MSK/MSD","646797600000"],["-120","1:00","EEST","686113200000"],["-120","E-Eur","EE%sT","820368000000"],["-120","EU","EE%sT",null]],"Europe/Uzhgorod":[["-89.2","-","LMT","-2500934400000"],["-60","-","CET","-915235200000"],["-60","C-Eur","CE%sT","-796867200000"],["-60","1:00","CEST","-794707200000"],["-60","-","CET","-773452800000"],["-180","Russia","MSK/MSD","662601600000"],["-180","-","MSK","646797600000"],["-60","-","CET","670388400000"],["-120","-","EET","725760000000"],["-120","E-Eur","EE%sT","820368000000"],["-120","EU","EE%sT",null]],"Europe/Zaporozhye":[["-140.66666666666666","-","LMT","-2808604800000"],["-140","-","+0220","-1441152000000"],["-120","-","EET","-1247529600000"],["-180","-","MSK","-894758400000"],["-60","C-Eur","CE%sT","-826416000000"],["-180","Russia","MSK/MSD","670384800000"],["-120","E-Eur","EE%sT","820368000000"],["-120","EU","EE%sT",null]],Factory:[["0","-","-00",null]],EST:[["300","-","EST",null]],MST:[["420","-","MST",null]],HST:[["600","-","HST",null]],EST5EDT:[["300","US","E%sT",null]],CST6CDT:[["360","US","C%sT",null]],MST7MDT:[["420","US","M%sT",null]],PST8PDT:[["480","US","P%sT",null]],"America/New_York":[["296.0333333333333","-","LMT","-2717668562000"],["300","US","E%sT","-1546387200000"],["300","NYC","E%sT","-852163200000"],["300","US","E%sT","-725932800000"],["300","NYC","E%sT","-63244800000"],["300","US","E%sT",null]],"America/Chicago":[["350.6","-","LMT","-2717668236000"],["360","US","C%sT","-1546387200000"],["360","Chicago","C%sT","-1067810400000"],["300","-","EST","-1045432800000"],["360","Chicago","C%sT","-852163200000"],["360","US","C%sT","-725932800000"],["360","Chicago","C%sT","-63244800000"],["360","US","C%sT",null]],"America/North_Dakota/Center":[["405.2","-","LMT","-2717667912000"],["420","US","M%sT","719978400000"],["360","US","C%sT",null]],"America/North_Dakota/New_Salem":[["405.65","-","LMT","-2717667939000"],["420","US","M%sT","1067133600000"],["360","US","C%sT",null]],"America/North_Dakota/Beulah":[["407.1166666666667","-","LMT","-2717668027000"],["420","US","M%sT","1289095200000"],["360","US","C%sT",null]],"America/Denver":[["419.93333333333334","-","LMT","-2717668796000"],["420","US","M%sT","-1546387200000"],["420","Denver","M%sT","-852163200000"],["420","US","M%sT","-725932800000"],["420","Denver","M%sT","-63244800000"],["420","US","M%sT",null]],"America/Los_Angeles":[["472.9666666666667","-","LMT","-2717668378000"],["480","US","P%sT","-725932800000"],["480","CA","P%sT","-63244800000"],["480","US","P%sT",null]],"America/Juneau":[["-902.3166666666666","-","LMT","-3225169588000"],["537.6833333333334","-","LMT","-2188987200000"],["480","-","PST","-852163200000"],["480","US","P%sT","-725932800000"],["480","-","PST","-86400000"],["480","US","P%sT","325648800000"],["540","US","Y%sT","341373600000"],["480","US","P%sT","436327200000"],["540","US","Y%sT","438998400000"],["540","US","AK%sT",null]],"America/Sitka":[["-898.7833333333334","-","LMT","-3225169800000"],["541.2166666666666","-","LMT","-2188987200000"],["480","-","PST","-852163200000"],["480","US","P%sT","-725932800000"],["480","-","PST","-86400000"],["480","US","P%sT","436327200000"],["540","US","Y%sT","438998400000"],["540","US","AK%sT",null]],"America/Metlakatla":[["-913.7","-","LMT","-3225168905000"],["526.3","-","LMT","-2188987200000"],["480","-","PST","-852163200000"],["480","US","P%sT","-725932800000"],["480","-","PST","-86400000"],["480","US","P%sT","436327200000"],["480","-","PST","1446343200000"],["540","US","AK%sT","1541296800000"],["480","-","PST","1547949600000"],["540","US","AK%sT",null]],"America/Yakutat":[["-881.0833333333334","-","LMT","-3225170862000"],["558.9166666666666","-","LMT","-2188987200000"],["540","-","YST","-852163200000"],["540","US","Y%sT","-725932800000"],["540","-","YST","-86400000"],["540","US","Y%sT","438998400000"],["540","US","AK%sT",null]],"America/Anchorage":[["-840.4","-","LMT","-3225173303000"],["599.6","-","LMT","-2188987200000"],["600","-","AST","-852163200000"],["600","US","A%sT","-86918400000"],["600","-","AHST","-86400000"],["600","US","AH%sT","436327200000"],["540","US","Y%sT","438998400000"],["540","US","AK%sT",null]],"America/Nome":[["-778.3666666666667","-","LMT","-3225177025000"],["661.6333333333333","-","LMT","-2188987200000"],["660","-","NST","-852163200000"],["660","US","N%sT","-725932800000"],["660","-","NST","-86918400000"],["660","-","BST","-86400000"],["660","US","B%sT","436327200000"],["540","US","Y%sT","438998400000"],["540","US","AK%sT",null]],"America/Adak":[["-733.3666666666667","-","LMT","-3225179725000"],["706.6333333333333","-","LMT","-2188987200000"],["660","-","NST","-852163200000"],["660","US","N%sT","-725932800000"],["660","-","NST","-86918400000"],["660","-","BST","-86400000"],["660","US","B%sT","436327200000"],["600","US","AH%sT","438998400000"],["600","US","H%sT",null]],"Pacific/Honolulu":[["631.4333333333334","-","LMT","-2334139200000"],["630","-","HST","-1157320800000"],["630","1:00","HDT","-1155470400000"],["630","US","H%sT","-712188000000"],["600","-","HST",null]],"America/Phoenix":[["448.3","-","LMT","-2717670498000"],["420","US","M%sT","-820540740000"],["420","-","MST","-812678340000"],["420","US","M%sT","-796867140000"],["420","-","MST","-63244800000"],["420","US","M%sT","-56246400000"],["420","-","MST",null]],"America/Boise":[["464.81666666666666","-","LMT","-2717667889000"],["480","US","P%sT","-1471816800000"],["420","US","M%sT","157680000000"],["420","-","MST","129088800000"],["420","US","M%sT",null]],"America/Indiana/Indianapolis":[["344.6333333333333","-","LMT","-2717667878000"],["360","US","C%sT","-1546387200000"],["360","Indianapolis","C%sT","-852163200000"],["360","US","C%sT","-725932800000"],["360","Indianapolis","C%sT","-463615200000"],["300","-","EST","-386805600000"],["360","-","CST","-368661600000"],["300","-","EST","-86400000"],["300","US","E%sT","62985600000"],["300","-","EST","1167523200000"],["300","US","E%sT",null]],"America/Indiana/Marengo":[["345.3833333333333","-","LMT","-2717667923000"],["360","US","C%sT","-568166400000"],["360","Marengo","C%sT","-273708000000"],["300","-","EST","-86400000"],["300","US","E%sT","126669600000"],["360","1:00","CDT","152071200000"],["300","US","E%sT","220838400000"],["300","-","EST","1167523200000"],["300","US","E%sT",null]],"America/Indiana/Vincennes":[["350.1166666666667","-","LMT","-2717668207000"],["360","US","C%sT","-725932800000"],["360","Vincennes","C%sT","-179359200000"],["300","-","EST","-86400000"],["300","US","E%sT","62985600000"],["300","-","EST","1143943200000"],["360","US","C%sT","1194141600000"],["300","US","E%sT",null]],"America/Indiana/Tell_City":[["347.05","-","LMT","-2717668023000"],["360","US","C%sT","-725932800000"],["360","Perry","C%sT","-179359200000"],["300","-","EST","-68680800000"],["360","US","C%sT","-21506400000"],["300","US","E%sT","62985600000"],["300","-","EST","1143943200000"],["360","US","C%sT",null]],"America/Indiana/Petersburg":[["349.1166666666667","-","LMT","-2717668147000"],["360","US","C%sT","-441936000000"],["360","Pike","C%sT","-147909600000"],["300","-","EST","-100130400000"],["360","US","C%sT","247024800000"],["300","-","EST","1143943200000"],["360","US","C%sT","1194141600000"],["300","US","E%sT",null]],"America/Indiana/Knox":[["346.5","-","LMT","-2717667990000"],["360","US","C%sT","-694396800000"],["360","Starke","C%sT","-242258400000"],["300","-","EST","-195084000000"],["360","US","C%sT","688528800000"],["300","-","EST","1143943200000"],["360","US","C%sT",null]],"America/Indiana/Winamac":[["346.4166666666667","-","LMT","-2717667985000"],["360","US","C%sT","-725932800000"],["360","Pulaski","C%sT","-273708000000"],["300","-","EST","-86400000"],["300","US","E%sT","62985600000"],["300","-","EST","1143943200000"],["360","US","C%sT","1173578400000"],["300","US","E%sT",null]],"America/Indiana/Vevay":[["340.2666666666667","-","LMT","-2717667616000"],["360","US","C%sT","-495064800000"],["300","-","EST","-86400000"],["300","US","E%sT","126144000000"],["300","-","EST","1167523200000"],["300","US","E%sT",null]],"America/Kentucky/Louisville":[["343.0333333333333","-","LMT","-2717667782000"],["360","US","C%sT","-1514851200000"],["360","Louisville","C%sT","-852163200000"],["360","US","C%sT","-725932800000"],["360","Louisville","C%sT","-266450400000"],["300","-","EST","-31622400000"],["300","US","E%sT","126669600000"],["360","1:00","CDT","152071200000"],["300","US","E%sT",null]],"America/Kentucky/Monticello":[["339.4","-","LMT","-2717667564000"],["360","US","C%sT","-725932800000"],["360","-","CST","-31622400000"],["360","US","C%sT","972784800000"],["300","US","E%sT",null]],"America/Detroit":[["332.18333333333334","-","LMT","-2019772800000"],["360","-","CST","-1724104800000"],["300","-","EST","-852163200000"],["300","US","E%sT","-725932800000"],["300","Detroit","E%sT","-80524740000"],["300","US","E%sT","-86400000"],["300","-","EST","126144000000"],["300","US","E%sT","189216000000"],["300","-","EST","167796000000"],["300","US","E%sT",null]],"America/Menominee":[["350.45","-","LMT","-2659780800000"],["360","US","C%sT","-725932800000"],["360","Menominee","C%sT","-21506400000"],["300","-","EST","104896800000"],["360","US","C%sT",null]],"America/St_Johns":[["210.86666666666665","-","LMT","-2682374400000"],["210.86666666666665","StJohns","N%sT","-1609545600000"],["210.86666666666665","Canada","N%sT","-1578009600000"],["210.86666666666665","StJohns","N%sT","-1096934400000"],["210","StJohns","N%sT","-872380800000"],["210","Canada","N%sT","-725932800000"],["210","StJohns","N%sT","1320105600000"],["210","Canada","N%sT",null]],"America/Goose_Bay":[["241.66666666666666","-","LMT","-2682374400000"],["210.86666666666665","-","NST","-1609545600000"],["210.86666666666665","Canada","N%sT","-1578009600000"],["210.86666666666665","-","NST","-1096934400000"],["210","-","NST","-1041465600000"],["210","StJohns","N%sT","-872380800000"],["210","Canada","N%sT","-725932800000"],["210","StJohns","N%sT","-119916000000"],["240","StJohns","A%sT","1320105600000"],["240","Canada","A%sT",null]],"America/Halifax":[["254.4","-","LMT","-2131660800000"],["240","Halifax","A%sT","-1609545600000"],["240","Canada","A%sT","-1578009600000"],["240","Halifax","A%sT","-880236000000"],["240","Canada","A%sT","-725932800000"],["240","Halifax","A%sT","157680000000"],["240","Canada","A%sT",null]],"America/Glace_Bay":[["239.8","-","LMT","-2131660800000"],["240","Canada","A%sT","-505008000000"],["240","Halifax","A%sT","-473472000000"],["240","-","AST","94608000000"],["240","Halifax","A%sT","157680000000"],["240","Canada","A%sT",null]],"America/Moncton":[["259.1333333333333","-","LMT","-2715897600000"],["300","-","EST","-2131660800000"],["240","Canada","A%sT","-1136160000000"],["240","Moncton","A%sT","-852163200000"],["240","Canada","A%sT","-725932800000"],["240","Moncton","A%sT","126144000000"],["240","Canada","A%sT","757296000000"],["240","Moncton","A%sT","1199059200000"],["240","Canada","A%sT",null]],"America/Blanc-Sablon":[["228.46666666666667","-","LMT","-2682374400000"],["240","Canada","A%sT","31449600000"],["240","-","AST",null]],"America/Toronto":[["317.5333333333333","-","LMT","-2335305600000"],["300","Canada","E%sT","-1578009600000"],["300","Toronto","E%sT","-880236000000"],["300","Canada","E%sT","-725932800000"],["300","Toronto","E%sT","157680000000"],["300","Canada","E%sT",null]],"America/Thunder_Bay":[["357","-","LMT","-2335305600000"],["360","-","CST","-1862006400000"],["300","-","EST","-852163200000"],["300","Canada","E%sT","31449600000"],["300","Toronto","E%sT","126144000000"],["300","-","EST","157680000000"],["300","Canada","E%sT",null]],"America/Nipigon":[["353.06666666666666","-","LMT","-2335305600000"],["300","Canada","E%sT","-923270400000"],["300","1:00","EDT","-880236000000"],["300","Canada","E%sT",null]],"America/Rainy_River":[["378.2666666666667","-","LMT","-2335305600000"],["360","Canada","C%sT","-923270400000"],["360","1:00","CDT","-880236000000"],["360","Canada","C%sT",null]],"America/Atikokan":[["366.4666666666667","-","LMT","-2335305600000"],["360","Canada","C%sT","-923270400000"],["360","1:00","CDT","-880236000000"],["360","Canada","C%sT","-765410400000"],["300","-","EST",null]],"America/Winnipeg":[["388.6","-","LMT","-2602281600000"],["360","Winn","C%sT","1167523200000"],["360","Canada","C%sT",null]],"America/Regina":[["418.6","-","LMT","-2030227200000"],["420","Regina","M%sT","-307749600000"],["360","-","CST",null]],"America/Swift_Current":[["431.3333333333333","-","LMT","-2030227200000"],["420","Canada","M%sT","-749599200000"],["420","Regina","M%sT","-599702400000"],["420","Swift","M%sT","70941600000"],["360","-","CST",null]],"America/Edmonton":[["453.8666666666667","-","LMT","-1998691200000"],["420","Edm","M%sT","567907200000"],["420","Canada","M%sT",null]],"America/Vancouver":[["492.4666666666667","-","LMT","-2682374400000"],["480","Vanc","P%sT","567907200000"],["480","Canada","P%sT",null]],"America/Dawson_Creek":[["480.93333333333334","-","LMT","-2682374400000"],["480","Canada","P%sT","-694396800000"],["480","Vanc","P%sT","83988000000"],["420","-","MST",null]],"America/Fort_Nelson":[["490.7833333333333","-","LMT","-2682374400000"],["480","Vanc","P%sT","-725932800000"],["480","-","PST","-694396800000"],["480","Vanc","P%sT","567907200000"],["480","Canada","P%sT","1425780000000"],["420","-","MST",null]],"America/Creston":[["466.06666666666666","-","LMT","-2682374400000"],["420","-","MST","-1680480000000"],["480","-","PST","-1627862400000"],["420","-","MST",null]],"America/Pangnirtung":[["0","-","-00","-1514851200000"],["240","NT_YK","A%sT","796701600000"],["300","Canada","E%sT","941335200000"],["360","Canada","C%sT","972784800000"],["300","Canada","E%sT",null]],"America/Iqaluit":[["0","-","-00","-865296000000"],["300","NT_YK","E%sT","941335200000"],["360","Canada","C%sT","972784800000"],["300","Canada","E%sT",null]],"America/Resolute":[["0","-","-00","-704937600000"],["360","NT_YK","C%sT","972784800000"],["300","-","EST","986094000000"],["360","Canada","C%sT","1162087200000"],["300","-","EST","1173582000000"],["360","Canada","C%sT",null]],"America/Rankin_Inlet":[["0","-","-00","-378777600000"],["360","NT_YK","C%sT","972784800000"],["300","-","EST","986094000000"],["360","Canada","C%sT",null]],"America/Cambridge_Bay":[["0","-","-00","-1546387200000"],["420","NT_YK","M%sT","941335200000"],["360","Canada","C%sT","972784800000"],["300","-","EST","973382400000"],["360","-","CST","986094000000"],["420","Canada","M%sT",null]],"America/Yellowknife":[["0","-","-00","-1073088000000"],["420","NT_YK","M%sT","347068800000"],["420","Canada","M%sT",null]],"America/Inuvik":[["0","-","-00","-505008000000"],["480","NT_YK","P%sT","291780000000"],["420","NT_YK","M%sT","347068800000"],["420","Canada","M%sT",null]],"America/Whitehorse":[["540.2","-","LMT","-2189030400000"],["540","NT_YK","Y%sT","-81993600000"],["480","NT_YK","P%sT","347068800000"],["480","Canada","P%sT","1604188800000"],["420","-","MST",null]],"America/Dawson":[["557.6666666666666","-","LMT","-2189030400000"],["540","NT_YK","Y%sT","120614400000"],["480","NT_YK","P%sT","347068800000"],["480","Canada","P%sT","1604188800000"],["420","-","MST",null]],"America/Cancun":[["347.06666666666666","-","LMT","-1514764024000"],["360","-","CST","377913600000"],["300","Mexico","E%sT","902023200000"],["360","Mexico","C%sT","1422756000000"],["300","-","EST",null]],"America/Merida":[["358.4666666666667","-","LMT","-1514764708000"],["360","-","CST","377913600000"],["300","-","EST","407635200000"],["360","Mexico","C%sT",null]],"America/Matamoros":[["400","-","LMT","-1514767200000"],["360","-","CST","599529600000"],["360","US","C%sT","631065600000"],["360","Mexico","C%sT","1293753600000"],["360","US","C%sT",null]],"America/Monterrey":[["401.2666666666667","-","LMT","-1514767276000"],["360","-","CST","599529600000"],["360","US","C%sT","631065600000"],["360","Mexico","C%sT",null]],"America/Mexico_City":[["396.6","-","LMT","-1514763396000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","Mexico","C%sT","1001815200000"],["360","-","CST","1014163200000"],["360","Mexico","C%sT",null]],"America/Ojinaga":[["417.6666666666667","-","LMT","-1514764660000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","-","CST","851990400000"],["360","Mexico","C%sT","915062400000"],["360","-","CST","891399600000"],["420","Mexico","M%sT","1293753600000"],["420","US","M%sT",null]],"America/Chihuahua":[["424.3333333333333","-","LMT","-1514765060000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","-","CST","851990400000"],["360","Mexico","C%sT","915062400000"],["360","-","CST","891399600000"],["420","Mexico","M%sT",null]],"America/Hermosillo":[["443.8666666666667","-","LMT","-1514766232000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","-","CST","-873849600000"],["420","-","MST","-661564800000"],["480","-","PST","31449600000"],["420","Mexico","M%sT","946598400000"],["420","-","MST",null]],"America/Mazatlan":[["425.6666666666667","-","LMT","-1514765140000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","-","CST","-873849600000"],["420","-","MST","-661564800000"],["480","-","PST","31449600000"],["420","Mexico","M%sT",null]],"America/Bahia_Banderas":[["421","-","LMT","-1514764860000"],["420","-","MST","-1343091600000"],["360","-","CST","-1234828800000"],["420","-","MST","-1220317200000"],["360","-","CST","-1207180800000"],["420","-","MST","-1191369600000"],["360","-","CST","-873849600000"],["420","-","MST","-661564800000"],["480","-","PST","31449600000"],["420","Mexico","M%sT","1270346400000"],["360","Mexico","C%sT",null]],"America/Tijuana":[["468.06666666666666","-","LMT","-1514764084000"],["420","-","MST","-1420156800000"],["480","-","PST","-1343091600000"],["420","-","MST","-1234828800000"],["480","-","PST","-1222992000000"],["480","1:00","PDT","-1207267200000"],["480","-","PST","-873849600000"],["480","1:00","PWT","-769395600000"],["480","1:00","PPT","-761702400000"],["480","-","PST","-686102400000"],["480","1:00","PDT","-661564800000"],["480","-","PST","-473472000000"],["480","CA","P%sT","-252547200000"],["480","-","PST","220838400000"],["480","US","P%sT","851990400000"],["480","Mexico","P%sT","1009756800000"],["480","US","P%sT","1014163200000"],["480","Mexico","P%sT","1293753600000"],["480","US","P%sT",null]],"America/Nassau":[["309.5","-","LMT","-1825113600000"],["300","Bahamas","E%sT","220838400000"],["300","US","E%sT",null]],"America/Barbados":[["238.48333333333335","-","LMT","-1420156800000"],["238.48333333333335","-","BMT","-1167696000000"],["240","Barb","A%sT",null]],"America/Belize":[["352.8","-","LMT","-1822521600000"],["360","Belize","%s",null]],"Atlantic/Bermuda":[["259.3","-","LMT","-2493072000000"],["259.3","Bermuda","BMT/BST","-1262296800000"],["240","Bermuda","A%sT","136346400000"],["240","Canada","A%sT","220838400000"],["240","US","A%sT",null]],"America/Costa_Rica":[["336.2166666666667","-","LMT","-2493072000000"],["336.2166666666667","-","SJMT","-1545091200000"],["360","CR","C%sT",null]],"America/Havana":[["329.4666666666667","-","LMT","-2493072000000"],["329.6","-","HMT","-1402833600000"],["300","Cuba","C%sT",null]],"America/Santo_Domingo":[["279.6","-","LMT","-2493072000000"],["280","-","SDMT","-1159790400000"],["300","DR","%s","152064000000"],["240","-","AST","972784800000"],["300","US","E%sT","975805200000"],["240","-","AST",null]],"America/El_Salvador":[["356.8","-","LMT","-1514851200000"],["360","Salv","C%sT",null]],"America/Guatemala":[["362.06666666666666","-","LMT","-1617062400000"],["360","Guat","C%sT",null]],"America/Port-au-Prince":[["289.3333333333333","-","LMT","-2493072000000"],["289","-","PPMT","-1670500800000"],["300","Haiti","E%sT",null]],"America/Tegucigalpa":[["348.8666666666667","-","LMT","-1538524800000"],["360","Hond","C%sT",null]],"America/Jamaica":[["307.1666666666667","-","LMT","-2493072000000"],["307.1666666666667","-","KMT","-1827705600000"],["300","-","EST","157680000000"],["300","US","E%sT","473299200000"],["300","-","EST",null]],"America/Martinique":[["244.33333333333334","-","LMT","-2493072000000"],["244.33333333333334","-","FFMT","-1851552000000"],["240","-","AST","323827200000"],["240","1:00","ADT","338947200000"],["240","-","AST",null]],"America/Managua":[["345.1333333333333","-","LMT","-2493072000000"],["345.2","-","MMT","-1121126400000"],["360","-","CST","105062400000"],["300","-","EST","161740800000"],["360","Nic","C%sT","694238400000"],["300","-","EST","717292800000"],["360","-","CST","757296000000"],["300","-","EST","883526400000"],["360","Nic","C%sT",null]],"America/Panama":[["318.1333333333333","-","LMT","-2493072000000"],["319.6","-","CMT","-1946937600000"],["300","-","EST",null]],"America/Cayman":"America/Panama","America/Puerto_Rico":[["264.4166666666667","-","LMT","-2233051200000"],["240","-","AST","-873072000000"],["240","US","A%sT","-725932800000"],["240","-","AST",null]],"America/Miquelon":[["224.66666666666666","-","LMT","-1850342400000"],["240","-","AST","325987200000"],["180","-","-03","567907200000"],["180","Canada","-03/-02",null]],"America/Grand_Turk":[["284.5333333333333","-","LMT","-2493072000000"],["307.1666666666667","-","KMT","-1827705600000"],["300","-","EST","315446400000"],["300","US","E%sT","1425780000000"],["240","-","AST","1520737200000"],["300","US","E%sT",null]],"America/Argentina/Buenos_Aires":[["233.8","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","Arg","-03/-02",null]],"America/Argentina/Cordoba":[["256.8","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667958400000"],["240","-","-04","687916800000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","Arg","-03/-02",null]],"America/Argentina/Salta":[["261.66666666666663","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667958400000"],["240","-","-04","687916800000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/Tucuman":[["260.8666666666667","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667958400000"],["240","-","-04","687916800000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1086048000000"],["240","-","-04","1087084800000"],["180","Arg","-03/-02",null]],"America/Argentina/La_Rioja":[["267.4","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667785600000"],["240","-","-04","673574400000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1086048000000"],["240","-","-04","1087689600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/San_Juan":[["274.06666666666666","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667785600000"],["240","-","-04","673574400000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1085961600000"],["240","-","-04","1090713600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/Jujuy":[["261.2","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","636508800000"],["240","-","-04","657072000000"],["240","1:00","-03","669168000000"],["240","-","-04","686707200000"],["180","1:00","-02","725760000000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/Catamarca":[["263.1333333333333","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","667958400000"],["240","-","-04","687916800000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1086048000000"],["240","-","-04","1087689600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/Mendoza":[["275.2666666666667","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","636508800000"],["240","-","-04","655948800000"],["240","1:00","-03","667785600000"],["240","-","-04","687484800000"],["240","1:00","-03","699408000000"],["240","-","-04","719366400000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1085270400000"],["240","-","-04","1096156800000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/San_Luis":[["265.4","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","662601600000"],["180","1:00","-02","637372800000"],["240","-","-04","655948800000"],["240","1:00","-03","667785600000"],["240","-","-04","675734400000"],["180","-","-03","938908800000"],["240","1:00","-03","952041600000"],["180","-","-03","1085961600000"],["240","-","-04","1090713600000"],["180","Arg","-03/-02","1200873600000"],["240","SanLuis","-04/-03","1255219200000"],["180","-","-03",null]],"America/Argentina/Rio_Gallegos":[["276.8666666666667","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1086048000000"],["240","-","-04","1087689600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Argentina/Ushuaia":[["273.2","-","LMT","-2372112000000"],["256.8","-","CMT","-1567468800000"],["240","-","-04","-1233446400000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","938908800000"],["240","Arg","-04/-03","952041600000"],["180","-","-03","1085875200000"],["240","-","-04","1087689600000"],["180","Arg","-03/-02","1224288000000"],["180","-","-03",null]],"America/Aruba":"America/Curacao","America/La_Paz":[["272.6","-","LMT","-2493072000000"],["272.6","-","CMT","-1205971200000"],["272.6","1:00","BST","-1192320000000"],["240","-","-04",null]],"America/Noronha":[["129.66666666666669","-","LMT","-1735776000000"],["120","Brazil","-02/-01","653529600000"],["120","-","-02","938649600000"],["120","Brazil","-02/-01","971568000000"],["120","-","-02","1000339200000"],["120","Brazil","-02/-01","1033430400000"],["120","-","-02",null]],"America/Belem":[["193.93333333333334","-","LMT","-1735776000000"],["180","Brazil","-03/-02","590025600000"],["180","-","-03",null]],"America/Santarem":[["218.8","-","LMT","-1735776000000"],["240","Brazil","-04/-03","590025600000"],["240","-","-04","1214265600000"],["180","-","-03",null]],"America/Fortaleza":[["154","-","LMT","-1735776000000"],["180","Brazil","-03/-02","653529600000"],["180","-","-03","938649600000"],["180","Brazil","-03/-02","972172800000"],["180","-","-03","1000339200000"],["180","Brazil","-03/-02","1033430400000"],["180","-","-03",null]],"America/Recife":[["139.6","-","LMT","-1735776000000"],["180","Brazil","-03/-02","653529600000"],["180","-","-03","938649600000"],["180","Brazil","-03/-02","971568000000"],["180","-","-03","1000339200000"],["180","Brazil","-03/-02","1033430400000"],["180","-","-03",null]],"America/Araguaina":[["192.8","-","LMT","-1735776000000"],["180","Brazil","-03/-02","653529600000"],["180","-","-03","811036800000"],["180","Brazil","-03/-02","1064361600000"],["180","-","-03","1350777600000"],["180","Brazil","-03/-02","1377993600000"],["180","-","-03",null]],"America/Maceio":[["142.86666666666665","-","LMT","-1735776000000"],["180","Brazil","-03/-02","653529600000"],["180","-","-03","813542400000"],["180","Brazil","-03/-02","841795200000"],["180","-","-03","938649600000"],["180","Brazil","-03/-02","972172800000"],["180","-","-03","1000339200000"],["180","Brazil","-03/-02","1033430400000"],["180","-","-03",null]],"America/Bahia":[["154.06666666666666","-","LMT","-1735776000000"],["180","Brazil","-03/-02","1064361600000"],["180","-","-03","1318723200000"],["180","Brazil","-03/-02","1350777600000"],["180","-","-03",null]],"America/Sao_Paulo":[["186.46666666666667","-","LMT","-1735776000000"],["180","Brazil","-03/-02","-195436800000"],["180","1:00","-02","-157852800000"],["180","Brazil","-03/-02",null]],"America/Campo_Grande":[["218.46666666666667","-","LMT","-1735776000000"],["240","Brazil","-04/-03",null]],"America/Cuiaba":[["224.33333333333334","-","LMT","-1735776000000"],["240","Brazil","-04/-03","1064361600000"],["240","-","-04","1096588800000"],["240","Brazil","-04/-03",null]],"America/Porto_Velho":[["255.6","-","LMT","-1735776000000"],["240","Brazil","-04/-03","590025600000"],["240","-","-04",null]],"America/Boa_Vista":[["242.66666666666666","-","LMT","-1735776000000"],["240","Brazil","-04/-03","590025600000"],["240","-","-04","938649600000"],["240","Brazil","-04/-03","971568000000"],["240","-","-04",null]],"America/Manaus":[["240.06666666666666","-","LMT","-1735776000000"],["240","Brazil","-04/-03","590025600000"],["240","-","-04","749174400000"],["240","Brazil","-04/-03","780192000000"],["240","-","-04",null]],"America/Eirunepe":[["279.4666666666667","-","LMT","-1735776000000"],["300","Brazil","-05/-04","590025600000"],["300","-","-05","749174400000"],["300","Brazil","-05/-04","780192000000"],["300","-","-05","1214265600000"],["240","-","-04","1384041600000"],["300","-","-05",null]],"America/Rio_Branco":[["271.2","-","LMT","-1735776000000"],["300","Brazil","-05/-04","590025600000"],["300","-","-05","1214265600000"],["240","-","-04","1384041600000"],["300","-","-05",null]],"America/Santiago":[["282.7666666666667","-","LMT","-2493072000000"],["282.7666666666667","-","SMT","-1892678400000"],["300","-","-05","-1688428800000"],["282.7666666666667","-","SMT","-1619222400000"],["240","-","-04","-1593820800000"],["282.7666666666667","-","SMT","-1336003200000"],["300","Chile","-05/-04","-1178150400000"],["240","-","-04","-870566400000"],["300","-","-05","-865296000000"],["240","-","-04","-740534400000"],["240","1:00","-03","-736387200000"],["240","-","-04","-718070400000"],["300","-","-05","-713667600000"],["240","Chile","-04/-03",null]],"America/Punta_Arenas":[["283.6666666666667","-","LMT","-2493072000000"],["282.7666666666667","-","SMT","-1892678400000"],["300","-","-05","-1688428800000"],["282.7666666666667","-","SMT","-1619222400000"],["240","-","-04","-1593820800000"],["282.7666666666667","-","SMT","-1336003200000"],["300","Chile","-05/-04","-1178150400000"],["240","-","-04","-870566400000"],["300","-","-05","-865296000000"],["240","-","-04","-718070400000"],["300","-","-05","-713667600000"],["240","Chile","-04/-03","1480809600000"],["180","-","-03",null]],"Pacific/Easter":[["437.4666666666667","-","LMT","-2493072000000"],["437.4666666666667","-","EMT","-1178150400000"],["420","Chile","-07/-06","384922800000"],["360","Chile","-06/-05",null]],"Antarctica/Palmer":[["0","-","-00","-126316800000"],["240","Arg","-04/-03","-7603200000"],["180","Arg","-03/-02","389059200000"],["240","Chile","-04/-03","1480809600000"],["180","-","-03",null]],"America/Bogota":[["296.2666666666667","-","LMT","-2707689600000"],["296.2666666666667","-","BMT","-1739059200000"],["300","CO","-05/-04",null]],"America/Curacao":[["275.7833333333333","-","LMT","-1826755200000"],["270","-","-0430","-126316800000"],["240","-","AST",null]],"America/Lower_Princes":"America/Curacao","America/Kralendijk":"America/Curacao","America/Guayaquil":[["319.3333333333333","-","LMT","-2493072000000"],["314","-","QMT","-1199318400000"],["300","Ecuador","-05/-04",null]],"Pacific/Galapagos":[["358.4","-","LMT","-1199318400000"],["300","-","-05","536371200000"],["360","Ecuador","-06/-05",null]],"Atlantic/Stanley":[["231.4","-","LMT","-2493072000000"],["231.4","-","SMT","-1824249600000"],["240","Falk","-04/-03","420595200000"],["180","Falk","-03/-02","495590400000"],["240","Falk","-04/-03","1283652000000"],["180","-","-03",null]],"America/Cayenne":[["209.33333333333334","-","LMT","-1846281600000"],["240","-","-04","-71107200000"],["180","-","-03",null]],"America/Guyana":[["232.66666666666666","-","LMT","-1730592000000"],["225","-","-0345","175996800000"],["180","-","-03","694137600000"],["240","-","-04",null]],"America/Asuncion":[["230.66666666666666","-","LMT","-2493072000000"],["230.66666666666666","-","AMT","-1206403200000"],["240","-","-04","86745600000"],["180","-","-03","134006400000"],["240","Para","-04/-03",null]],"America/Lima":[["308.2","-","LMT","-2493072000000"],["308.6","-","LMT","-1938556800000"],["300","Peru","-05/-04",null]],"Atlantic/South_Georgia":[["146.13333333333335","-","LMT","-2493072000000"],["120","-","-02",null]],"America/Paramaribo":[["220.66666666666666","-","LMT","-1830470400000"],["220.86666666666665","-","PMT","-1073088000000"],["220.6","-","PMT","-765331200000"],["210","-","-0330","465436800000"],["180","-","-03",null]],"America/Port_of_Spain":[["246.06666666666666","-","LMT","-1825113600000"],["240","-","AST",null]],"America/Anguilla":"America/Port_of_Spain","America/Antigua":"America/Port_of_Spain","America/Dominica":"America/Port_of_Spain","America/Grenada":"America/Port_of_Spain","America/Guadeloupe":"America/Port_of_Spain","America/Marigot":"America/Port_of_Spain","America/Montserrat":"America/Port_of_Spain","America/St_Barthelemy":"America/Port_of_Spain","America/St_Kitts":"America/Port_of_Spain","America/St_Lucia":"America/Port_of_Spain","America/St_Thomas":"America/Port_of_Spain","America/St_Vincent":"America/Port_of_Spain","America/Tortola":"America/Port_of_Spain","America/Montevideo":[["224.85","-","LMT","-1942704000000"],["224.85","-","MMT","-1567468800000"],["240","-","-04","-1459641600000"],["210","Uruguay","-0330/-03","-853632000000"],["180","Uruguay","-03/-0230","-284083200000"],["180","Uruguay","-03/-02","-31622400000"],["180","Uruguay","-03/-0230","31449600000"],["180","Uruguay","-03/-02","157680000000"],["180","Uruguay","-03/-0130","132105600000"],["180","Uruguay","-03/-0230","156902400000"],["180","Uruguay","-03/-02",null]],"America/Caracas":[["267.7333333333333","-","LMT","-2493072000000"],["267.6666666666667","-","CMT","-1826755200000"],["270","-","-0430","-157766400000"],["240","-","-04","1197169200000"],["270","-","-0430","1462069800000"],["240","-","-04",null]]};function dw(){const e=[],t=xt.local();let n=null,r=null;const i=[];for(let[o,u]of Object.entries(fw)){const l=xt.local().setZone(o);if(Array.isArray(u)&&l.isValid&&!e.includes(l.offsetNameLong)&&!l.offsetNameLong.startsWith("GMT")&&!l.offsetNameLong.startsWith("UTC")){let d=l.offset/60,m=`UTC ${d>0?"+":"-"}${Math.abs(Math.trunc(d)).toString().padStart(2,"0")}:${(Math.abs(l.offset)%60).toString().padStart(2,"0")}`;i.push({id:e.length,zone:o,display:`${l.offsetNameLong} (${m})`,offset:l.offset}),t.offsetNameLong==l.offsetNameLong&&(r=i[i.length-1]),l.offsetNameShort==="UTC"&&(n=i[i.length-1]),e.push(l.offsetNameLong)}}return i.sort((o,u)=>o.offset-u.offset),[i,r,n]}function hw(e,t,n){for(;e[t.toISO()]===0;)t=t.plus({hour:1});return t>=n?null:t}const pw=nn({components:{Button:nr,Checkbox:cg,Loading:ku},setup(){var M;const e=Nr(),t=a0(),n=Ci();n.currentPage=4;const r=jt(null),i=xt.utc().startOf("hour"),o=n.assessment.start_date&&xt.fromISO(n.assessment.start_date).toUTC()>xt.utc()?xt.fromISO(n.assessment.start_date).startOf("hour").toUTC():i,u=xt.fromISO(n.assessment.end_date).toUTC().startOf("hour"),[l,f,d]=dw(),m=jt(f||d),c=(M=n.assessment)!=null&&M.assessment_date?xt.fromISO(n.assessment.assessment_date).startOf("hour").toUTC():null,p=c&&xt.now().startOf("hour")<c,T=jt({id:o.setZone(m.value.zone).toFormat("yyyyLLdd"),date:o.setZone(m.value.zone)}),g=jt({id:o.setZone(m.value.zone).toFormat("yyyyLLddHH"),date:o.setZone(m.value.zone)}),D=Nn(()=>{if(!r.value)return[];const F=u.startOf("day").setZone(m.value.zone);let ie=o.setZone(m.value.zone).startOf("day"),Ee=[];for(;ie<=F;)Ee.push({id:ie.toFormat("yyyyLLdd"),date:ie,display:ie.toFormat("cccc, dd LLLL, yyyy")}),ie=ie.plus({days:1});return Ee}),v=Nn(()=>{if(!r.value)return[];let F=[],ie=T.value.date.startOf("day");const Ee=xt.now().startOf("hour"),Be=o.setZone(m.value.zone).startOf("hour"),Le=u.setZone(m.value.zone).startOf("hour"),X=n.assessment.assessment_date?xt.fromISO(n.assessment.assessment_date).toUTC():null;for(let P=0;P<24;P++){const J=ie.setZone("utc").startOf("hour"),oe=(r.value[J.toISO()]||0)===0,te=X&&J.equals(X);F.push({id:ie.toFormat("yyyyLLddHH"),date:ie,display:`${ie.toFormat("h")} - ${ie.plus({hour:1}).toFormat("h a")}`,unavailable:ie<Ee||ie<Be||ie>=Le||oe&&!te}),ie=ie.plus({hour:1})}return F}),w=()=>{e.push(t.params.next?t.params.next:"/device/check")},A=async()=>{await Wl(n,g.value.date.toUTC()),w()},N=F=>{const ie=document.querySelector(F);ie&&ie.scrollIntoView()},H=F=>{m.value=F;const ie=g.value.date.setZone(F.zone,{keepLocalTime:!0});T.value={id:ie.toFormat("yyyyLLdd"),date:ie},g.value={id:ie.toFormat("yyyyLLddHH"),date:ie}},S=jt(0);if(xa(async()=>{S.value+=1,r.value=await n.api.getSchedule(xt.utc().startOf("hour").toJSDate(),u.startOf("hour").toJSDate()),S.value-=1;const F=p?c:hw(r.value,i,u);let ie=F?F.setZone(m.value.zone):null;ie&&((ie==null?void 0:ie.minute)>=30&&(ie=ie.plus({hour:1}).startOf("hour")),T.value={id:ie.toFormat("yyyyLLdd"),date:ie},g.value={id:ie.toFormat("yyyyLLddHH"),date:ie},setTimeout(()=>{m.value!==null&&N(`#tz-${m.value.id}`),g.value!==null&&N(`#hr-${g.value.id}`)},500))}),n.assessment.can_start||p&&t.params.mode!=="edit")w();else if(!p){S.value+=1;let F=async()=>{if(!r.value){setTimeout(F,500);return}r.value[i.toISO()]>0&&await Wl(n)?w():S.value-=1};setTimeout(F,500)}return{scheduling:S,days:D,hours:v,zones:l,daySelected:T,hourSelected:g,zoneSelected:m,switchZone:H,confirm:A}}}),C0=e=>(fr("data-v-63a2a3c5"),e=e(),dr(),e),mw={class:"content-wide"},gw={key:0},yw={key:1},_w=C0(()=>Je("h1",{class:"text-heading-large"},"When do you want to start your assessment?",-1)),Tw=C0(()=>Je("p",{class:"text-body"}," You can start your assessment at any time during the one hour window that you select below. ",-1)),vw=C0(()=>Je("p",{class:"text-body"},[Lt(" If there are no available dates that work, please contact "),Je("a",{href:"mailto:assessment-support@roblox.com"},"assessment-support@roblox.com")],-1)),Ew={class:"column"},bw={class:"card"},Aw=["onClick"],Sw={class:"column time"},Iw={class:"card"},ww=["id","onClick"],Rw={class:"column timezone"},Cw={class:"card"},Mw=["id","onClick"];function Nw(e,t,n,r,i,o){const u=Kt("Loading"),l=Kt("Button");return dt(),_t("div",mw,[e.scheduling?(dt(),_t("div",gw,[Ft(u,null,{default:qt(()=>[Lt("Checking schedule...")]),_:1})])):(dt(),_t("div",yw,[_w,Tw,vw,Je("div",Ew,[Lt(" Date "),Je("div",bw,[(dt(!0),_t(xn,null,zr(e.days,f=>(dt(),_t("div",{class:lr(["row",{selected:e.daySelected.id==f.id}]),key:f.id,onClick:()=>{e.daySelected=f}},Wt(f.display),11,Aw))),128))])]),Je("div",Sw,[Lt(" Time "),Je("div",Iw,[(dt(!0),_t(xn,null,zr(e.hours,f=>(dt(),_t("div",{id:`hr-${f.id}`,class:lr(["row",{selected:e.hourSelected.id==f.id,unavailable:f.unavailable}]),key:f.id,onClick:()=>{f.unavailable||(e.hourSelected=f)}},Wt(f.display),11,ww))),128))])]),Je("div",Rw,[Lt(" Timezone "),Je("div",Cw,[(dt(!0),_t(xn,null,zr(e.zones,f=>(dt(),_t("div",{id:`tz-${f.id}`,class:lr(["row",{selected:f.id===e.zoneSelected.id}]),key:f.id,onClick:()=>{e.switchZone(f)}},Wt(f.display),11,Mw))),128))])]),Ft(l,{onClick:e.confirm,disabled:e.hourSelected.id===null},{default:qt(()=>[Lt("Confirm Starting Window")]),_:1},8,["onClick","disabled"])]))])}const Ow=cn(pw,[["render",Nw],["__scopeId","data-v-63a2a3c5"]]),Dw=nn({components:{Container:s0},props:{title:String,onClose:{type:Function,required:!1}},setup(e){return so(e)}}),Pw={class:"popup-background"},Lw={class:"content popup"},xw={class:"card card-overlay"},Fw={style:{display:"flex"}},kw={class:"text-heading-large",style:{"flex-grow":"1"}},Uw=["onClick"],Bw={class:"body"};function Gw(e,t,n,r,i,o){const u=Kt("Container");return dt(),_t("div",Pw,[Ft(u,null,{default:qt(()=>[Je("div",Lw,[Je("div",xw,[Je("div",Fw,[Je("h1",kw,Wt(e.title),1),e.onClose!==void 0?(dt(),_t("div",{key:0,class:"close",onClick:()=>e.onClose?e.onClose():null},"  ",8,Uw)):Hn("",!0)]),Je("div",Bw,[ai(e.$slots,"default",{},void 0,!0)])])])]),_:3})])}const jw=cn(Dw,[["render",Gw],["__scopeId","data-v-12d9e001"]]),Hw=nn({props:{onBack:Function},setup(e){return so(e)}}),Vw=e=>(fr("data-v-3df8bf7a"),e=e(),dr(),e),qw={class:"container"},Yw=Vw(()=>Je("div",{class:"icon"},"<",-1)),$w=["onClick"];function Ww(e,t,n,r,i,o){return dt(),_t("div",qw,[Yw,Je("div",{onClick:()=>e.onBack?e.onBack():null},"Go Back",8,$w)])}const zw=cn(Hw,[["render",Ww],["__scopeId","data-v-3df8bf7a"]]);function Kw(e){const t=jt(!1);return{showCreatePopup:t,createAccount:function(){window.open("https://www.roblox.com/account/signupredir","roblox"),t.value=!1,e.view.value="entry"}}}function Xw(e){var i;const t=jt("input-label"),n=jt(((i=e.state.roblox)==null?void 0:i.name)||"");return{connectAccount:async()=>{try{e.roblox.value=await e.state.api.getRobloxUser({username:n.value}),e.view.value="confirm"}catch(o){switch(t.value="input-error",o.error){case"invalidUsername":e.error.value="This username isn't associated with a Roblox account";break;default:e.error.value=o.message;break}}},username:n,labelClass:t}}function Qw(e){const t=Nn(()=>{var u;return((u=e.roblox.value.headshot)==null?void 0:u.state)!=="completed"?"avatar avatar-warning":"avatar avatar-profile"}),n=Nn(()=>{var u;switch((u=e.roblox.value.headshot)==null?void 0:u.state){case"completed":return"";case"blocked":return"Your avatar's preview cannot be shown because one or more equipped clothing items has been removed from the avatar shop. This will not prevent you from taking the assessment.";default:return"Your avatar's preview failed to load. This will not prevent you from taking the assessment."}}),r=Nn(()=>{var u;return((u=e.roblox.value.headshot)==null?void 0:u.state)==="completed"?e.roblox.value.headshot.url:"/assets/icon-no-avatar.png"});return{avatarClass:t,profileWarning:n,profileUrl:r,confirmAccount:async()=>{try{await e.state.api.updateUser({roblox_id:e.roblox.value.id}),e.state.roblox=e.roblox.value,e.next()}catch(u){e.error.value=u.error_message||"Unknown server error",e.view.value="entry"}},incorrectAccount:()=>{e.view.value="entry"}}}const Zw=nn({components:{Button:nr,Input:Cu,Spinner:fo,Popup:jw,BackButton:zw},setup(){var f;const e=a0(),t=Nr(),n=Kn(Xr);n.currentPage=3,n.progressVisible=!e.params.next;const r=jt((f=n.roblox)!=null&&f.name?"confirm":"check"),i=jt(""),o=jt({...n.roblox}),l={state:n,view:r,error:i,roblox:o,next:()=>{n.progressVisible=!0;const d=e.params.next;t.push({name:d||"Schedule"})}};return(n.assessment.roblox_id&&e.params.mode!=="edit"||!n.assessment.task_platforms.includes("roblox"))&&(n.api.getRobloxUser({user_id:n.assessment.roblox_id}).then(d=>n.roblox=d),l.next()),{...l,...Kw(l),...Xw(l),...Qw(l)}}}),ia=e=>(fr("data-v-fe4ce0d1"),e=e(),dr(),e),Jw={key:0,class:"content"},eR=ia(()=>Je("h1",{class:"text-heading-large"},"Have a Roblox account?",-1)),tR=ia(()=>Je("p",{class:"text-body"},"You will need to login to Roblox to complete at least part of your assessment.",-1)),nR={class:"buttons"},rR=ia(()=>Je("p",{class:"text-body"},"We're sending you to roblox.com to create a new account.",-1)),iR=ia(()=>Je("p",{class:"text-body"}," When you finish, record your Roblox username and return to this tab to continue setting up your assessment. ",-1)),aR={key:1,class:"content"},oR=ia(()=>Je("h1",{class:"text-heading-large"},"What is your Roblox username?",-1)),sR=ia(()=>Je("p",{class:"text-body"},"We need to know your Roblox username to give you access to the assessment on Roblox.",-1)),uR={class:"username-description"},lR={key:2,class:"content"},cR=ia(()=>Je("h1",{class:"text-heading-large"},"Is this the correct account?",-1)),fR=ia(()=>Je("p",{class:"text-body"},"You will have to be logged into this Roblox account to complete the assessment.",-1)),dR=["src"],hR={class:"description"},pR={class:"text-heading-medium"},mR={key:0,class:"text-body text-warning"},gR={class:"buttons"};function yR(e,t,n,r,i,o){const u=Kt("Button"),l=Kt("Popup"),f=Kt("BackButton"),d=Kt("Input");return dt(),_t(xn,null,[e.view==="check"?(dt(),_t("div",Jw,[eR,tR,Je("div",nR,[Je("div",null,[Ft(u,{onClick:()=>e.view="entry"},{default:qt(()=>[Lt("Yes, I have a Roblox account")]),_:1},8,["onClick"])]),Je("div",null,[Ft(u,{onClick:()=>e.showCreatePopup=!0,class:"secondary"},{default:qt(()=>[Lt("No, I need to create an account")]),_:1},8,["onClick"])])]),Ii(Ft(l,{onClose:()=>e.showCreatePopup=!1,title:"Create a Roblox Account"},{default:qt(()=>[rR,iR,Ft(u,{onClick:e.createAccount,class:"primary"},{default:qt(()=>[Lt("Open roblox.com")]),_:1},8,["onClick"])]),_:1},8,["onClose"]),[[Zi,e.showCreatePopup]])])):Hn("",!0),e.view==="entry"?(dt(),_t("div",aR,[Ft(f,{onBack:()=>e.view="check"},null,8,["onBack"]),oR,sR,Je("p",{class:lr(e.labelClass)},"Roblox Username",2),Je("div",null,[Ft(d,{class:"username-input",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=m=>e.username=m),error:e.error!=""},null,8,["modelValue","error"]),Je("div",uR,[Ii(Je("p",{class:"text-error"},Wt(e.error),513),[[Zi,e.error]])])]),Je("div",null,[Ft(u,{onClick:e.connectAccount,disabled:e.username.length==0},{default:qt(()=>[Lt("Connect Username")]),_:1},8,["onClick","disabled"])])])):Hn("",!0),e.view==="confirm"?(dt(),_t("div",lR,[Ft(f,{onBack:()=>e.view="entry"},null,8,["onBack"]),cR,fR,Je("div",null,[Je("div",{class:lr(e.avatarClass)},[Je("img",{src:e.profileUrl},null,8,dR)],2),Je("div",hR,[Je("div",null,[Je("p",pR,Wt(e.roblox.name),1),e.profileWarning?(dt(),_t("p",mR,Wt(e.profileWarning),1)):Hn("",!0)])])]),Je("div",gR,[Je("div",null,[Ft(u,{onClick:e.confirmAccount},{default:qt(()=>[Lt("Yes")]),_:1},8,["onClick"])]),Je("div",null,[Ft(u,{onClick:e.incorrectAccount,class:"secondary"},{default:qt(()=>[Lt("No")]),_:1},8,["onClick"])])])])):Hn("",!0)],64)}const _R=cn(Zw,[["render",yR],["__scopeId","data-v-fe4ce0d1"]]),TR=nn({components:{Button:nr},setup(){const e=Nr(),t=Ci();return{scheduledDate:t.assessment.can_start?null:n0(t),check:()=>{e.push("/tech-check/prepare")},bye:()=>{e.push("/device/bye")}}}}),Uu=e=>(fr("data-v-14f950d9"),e=e(),dr(),e),vR={class:"content"},ER={key:0},bR=Uu(()=>Je("h1",{class:"text-heading-large"},"Your assessment is scheduled",-1)),AR={class:"text-body"},SR={class:"bold"},IR=Uu(()=>Je("p",{class:"text-body"}," In the meantime, would you like to check whether this device can run the assessment? ",-1)),wR={key:1},RR=Uu(()=>Je("h1",{class:"text-heading-large"},"Is this the device that you'd like to use for the assessment?",-1)),CR=Uu(()=>Je("p",{class:"text-body"},"A desktop or laptop device is required.",-1));function MR(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",vR,[e.scheduledDate?(dt(),_t("div",ER,[bR,Je("p",AR,[Lt(" Please return during "),Je("span",SR,Wt(e.scheduledDate),1),Lt(", to get started on your assessment. A laptop or computer will be required ")]),IR,Je("div",null,[Ft(u,{onClick:e.check},{default:qt(()=>[Lt("Yes")]),_:1},8,["onClick"])]),Je("div",null,[Ft(u,{onClick:e.bye,class:"secondary"},{default:qt(()=>[Lt("No")]),_:1},8,["onClick"])])])):(dt(),_t("div",wR,[RR,CR,Je("div",null,[Ft(u,{onClick:e.check},{default:qt(()=>[Lt("Yes")]),_:1},8,["onClick"])]),Je("div",null,[Ft(u,{onClick:e.bye,class:"secondary"},{default:qt(()=>[Lt("No")]),_:1},8,["onClick"])])]))])}const NR=cn(TR,[["render",MR],["__scopeId","data-v-14f950d9"]]),OR=nn({components:{Button:nr},setup(){const e=Nr(),t=Ci();t.currentPage=6;const n=async()=>{e.push("/task-dashboard")};return{scheduledDate:t.assessment.can_start?null:n0(t),next:n}}}),M0=e=>(fr("data-v-85a61410"),e=e(),dr(),e),DR={class:"content"},PR=M0(()=>Je("h1",{class:"text-heading-large"},"Your device is ready!",-1)),LR={key:0},xR=M0(()=>Je("p",{class:"text-body"},"The Roblox Assessment should successfully run on this device.",-1)),FR={class:"text-body"},kR={class:"bold"},UR={key:1},BR=M0(()=>Je("p",{class:"text-body"}," You may now view your assessment, where you can start timed tasks when youre ready. ",-1));function GR(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",DR,[PR,e.scheduledDate?(dt(),_t("div",LR,[xR,Je("p",FR,[Lt(" You can start your assessment at any time between "),Je("span",kR,Wt(e.scheduledDate),1),Lt(". Please return at this time on this device to get started. ")])])):(dt(),_t("div",UR,[BR,Ft(u,{onClick:e.next},{default:qt(()=>[Lt("Go to Assessment")]),_:1},8,["onClick"])]))])}const jR=cn(OR,[["render",GR],["__scopeId","data-v-85a61410"]]),HR=nn({components:{Button:nr},setup(){const e=Nr(),t=Kn(Xr);return t.currentPage=5,{cards:[{url:"/assets/icon-chrome.png",title:"Use Google Chrome",body:"If you need to switch to Chrome, it's okay. We've saved your progress."},{url:"/assets/icon-close-windows.png",title:"Don't leave tech check while it's running",body:"Close other programs and websites"},{url:"/assets/icon-disconnect-vpn.png",title:"Disconnect from any VPN or proxies"},{url:"/assets/icon-stable-wifi.png",title:"Use a stable internet connection"}],start:()=>{e.push("/tech-check/test")}}}}),dg=e=>(fr("data-v-1d4ecf12"),e=e(),dr(),e),VR={class:"content-wide"},qR=dg(()=>Je("h1",{class:"text-heading-large"},"Prepare for tech check",-1)),YR=dg(()=>Je("p",{class:"text-body"}," We need to make sure your computer can run the assessment without technical issues. Here are some ways you can prepare for optimal performance. ",-1)),$R={class:"cards"},WR={class:"card_panel"},zR={class:"card"},KR={class:"img-container"},XR=["src"],QR={class:"headline"};function ZR(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",VR,[qR,YR,Je("div",$R,[Je("div",WR,[(dt(!0),_t(xn,null,zr(e.cards,(l,f)=>(dt(),_t("div",{key:f},[Je("div",zR,[Je("div",KR,[Je("img",{src:l.url},null,8,XR)]),Je("div",QR,Wt(l.title),1),Je("p",null,Wt(l.body),1)])]))),128))])]),Ft(u,{onClick:e.start},{default:qt(()=>[Lt("Start Tech Check")]),_:1},8,["onClick"])])}const JR=cn(HR,[["render",ZR],["__scopeId","data-v-1d4ecf12"]]);var eC=typeof global=="object"&&global&&global.Object===Object&&global;const hg=eC;var tC=typeof self=="object"&&self&&self.Object===Object&&self,nC=hg||tC||Function("return this")();const yo=nC;var rC=yo.Symbol;const cu=rC;var pg=Object.prototype,iC=pg.hasOwnProperty,aC=pg.toString,Lo=cu?cu.toStringTag:void 0;function oC(e){var t=iC.call(e,Lo),n=e[Lo];try{e[Lo]=void 0;var r=!0}catch{}var i=aC.call(e);return r&&(t?e[Lo]=n:delete e[Lo]),i}var sC=Object.prototype,uC=sC.toString;function lC(e){return uC.call(e)}var cC="[object Null]",fC="[object Undefined]",fh=cu?cu.toStringTag:void 0;function Bu(e){return e==null?e===void 0?fC:cC:fh&&fh in Object(e)?oC(e):lC(e)}function hs(e){return e!=null&&typeof e=="object"}var dC=Array.isArray;const sc=dC;function Ba(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function mg(e){return e}var hC="[object AsyncFunction]",pC="[object Function]",mC="[object GeneratorFunction]",gC="[object Proxy]";function N0(e){if(!Ba(e))return!1;var t=Bu(e);return t==pC||t==mC||t==hC||t==gC}var yC=yo["__core-js_shared__"];const Rl=yC;var dh=function(){var e=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _C(e){return!!dh&&dh in e}var TC=Function.prototype,vC=TC.toString;function EC(e){if(e!=null){try{return vC.call(e)}catch{}try{return e+""}catch{}}return""}var bC=/[\\^$.*+?()[\]{}|]/g,AC=/^\[object .+?Constructor\]$/,SC=Function.prototype,IC=Object.prototype,wC=SC.toString,RC=IC.hasOwnProperty,CC=RegExp("^"+wC.call(RC).replace(bC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MC(e){if(!Ba(e)||_C(e))return!1;var t=N0(e)?CC:AC;return t.test(EC(e))}function NC(e,t){return e==null?void 0:e[t]}function O0(e,t){var n=NC(e,t);return MC(n)?n:void 0}var hh=Object.create,OC=function(){function e(){}return function(t){if(!Ba(t))return{};if(hh)return hh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const DC=OC;function PC(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function LC(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var xC=800,FC=16,kC=Date.now;function UC(e){var t=0,n=0;return function(){var r=kC(),i=FC-(r-n);if(n=r,i>0){if(++t>=xC)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function BC(e){return function(){return e}}var GC=function(){try{var e=O0(Object,"defineProperty");return e({},"",{}),e}catch{}}();const fu=GC;var jC=fu?function(e,t){return fu(e,"toString",{configurable:!0,enumerable:!1,value:BC(t),writable:!0})}:mg;const HC=jC;var VC=UC(HC);const qC=VC;var YC=9007199254740991,$C=/^(?:0|[1-9]\d*)$/;function gg(e,t){var n=typeof e;return t=t??YC,!!t&&(n=="number"||n!="symbol"&&$C.test(e))&&e>-1&&e%1==0&&e<t}function D0(e,t,n){t=="__proto__"&&fu?fu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gu(e,t){return e===t||e!==e&&t!==t}var WC=Object.prototype,zC=WC.hasOwnProperty;function KC(e,t,n){var r=e[t];(!(zC.call(e,t)&&Gu(r,n))||n===void 0&&!(t in e))&&D0(e,t,n)}function XC(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],f=r?r(n[l],e[l],l,n,e):void 0;f===void 0&&(f=e[l]),i?D0(n,l,f):KC(n,l,f)}return n}var ph=Math.max;function QC(e,t,n){return t=ph(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ph(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),PC(e,this,l)}}function ZC(e,t){return qC(QC(e,t,mg),e+"")}var JC=9007199254740991;function yg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JC}function P0(e){return e!=null&&yg(e.length)&&!N0(e)}function eM(e,t,n){if(!Ba(n))return!1;var r=typeof t;return(r=="number"?P0(n)&&gg(t,n.length):r=="string"&&t in n)?Gu(n[t],e):!1}function tM(e){return ZC(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&eM(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})}var nM=Object.prototype;function _g(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||nM;return e===n}function rM(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var iM="[object Arguments]";function mh(e){return hs(e)&&Bu(e)==iM}var Tg=Object.prototype,aM=Tg.hasOwnProperty,oM=Tg.propertyIsEnumerable,sM=mh(function(){return arguments}())?mh:function(e){return hs(e)&&aM.call(e,"callee")&&!oM.call(e,"callee")};const uc=sM;function uM(){return!1}var vg=typeof Br=="object"&&Br&&!Br.nodeType&&Br,gh=vg&&typeof xr=="object"&&xr&&!xr.nodeType&&xr,lM=gh&&gh.exports===vg,yh=lM?yo.Buffer:void 0,cM=yh?yh.isBuffer:void 0,fM=cM||uM;const Eg=fM;var dM="[object Arguments]",hM="[object Array]",pM="[object Boolean]",mM="[object Date]",gM="[object Error]",yM="[object Function]",_M="[object Map]",TM="[object Number]",vM="[object Object]",EM="[object RegExp]",bM="[object Set]",AM="[object String]",SM="[object WeakMap]",IM="[object ArrayBuffer]",wM="[object DataView]",RM="[object Float32Array]",CM="[object Float64Array]",MM="[object Int8Array]",NM="[object Int16Array]",OM="[object Int32Array]",DM="[object Uint8Array]",PM="[object Uint8ClampedArray]",LM="[object Uint16Array]",xM="[object Uint32Array]",Fn={};Fn[RM]=Fn[CM]=Fn[MM]=Fn[NM]=Fn[OM]=Fn[DM]=Fn[PM]=Fn[LM]=Fn[xM]=!0;Fn[dM]=Fn[hM]=Fn[IM]=Fn[pM]=Fn[wM]=Fn[mM]=Fn[gM]=Fn[yM]=Fn[_M]=Fn[TM]=Fn[vM]=Fn[EM]=Fn[bM]=Fn[AM]=Fn[SM]=!1;function FM(e){return hs(e)&&yg(e.length)&&!!Fn[Bu(e)]}function kM(e){return function(t){return e(t)}}var bg=typeof Br=="object"&&Br&&!Br.nodeType&&Br,Ko=bg&&typeof xr=="object"&&xr&&!xr.nodeType&&xr,UM=Ko&&Ko.exports===bg,Cl=UM&&hg.process,BM=function(){try{var e=Ko&&Ko.require&&Ko.require("util").types;return e||Cl&&Cl.binding&&Cl.binding("util")}catch{}}();const _h=BM;var Th=_h&&_h.isTypedArray,GM=Th?kM(Th):FM;const Ag=GM;var jM=Object.prototype,HM=jM.hasOwnProperty;function VM(e,t){var n=sc(e),r=!n&&uc(e),i=!n&&!r&&Eg(e),o=!n&&!r&&!i&&Ag(e),u=n||r||i||o,l=u?rM(e.length,String):[],f=l.length;for(var d in e)(t||HM.call(e,d))&&!(u&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||gg(d,f)))&&l.push(d);return l}function qM(e,t){return function(n){return e(t(n))}}function YM(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var $M=Object.prototype,WM=$M.hasOwnProperty;function zM(e){if(!Ba(e))return YM(e);var t=_g(e),n=[];for(var r in e)r=="constructor"&&(t||!WM.call(e,r))||n.push(r);return n}function Sg(e){return P0(e)?VM(e,!0):zM(e)}var KM=O0(Object,"create");const is=KM;function XM(){this.__data__=is?is(null):{},this.size=0}function QM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZM="__lodash_hash_undefined__",JM=Object.prototype,eN=JM.hasOwnProperty;function tN(e){var t=this.__data__;if(is){var n=t[e];return n===ZM?void 0:n}return eN.call(t,e)?t[e]:void 0}var nN=Object.prototype,rN=nN.hasOwnProperty;function iN(e){var t=this.__data__;return is?t[e]!==void 0:rN.call(t,e)}var aN="__lodash_hash_undefined__";function oN(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=is&&t===void 0?aN:t,this}function Pa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pa.prototype.clear=XM;Pa.prototype.delete=QM;Pa.prototype.get=tN;Pa.prototype.has=iN;Pa.prototype.set=oN;function sN(){this.__data__=[],this.size=0}function ju(e,t){for(var n=e.length;n--;)if(Gu(e[n][0],t))return n;return-1}var uN=Array.prototype,lN=uN.splice;function cN(e){var t=this.__data__,n=ju(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():lN.call(t,n,1),--this.size,!0}function fN(e){var t=this.__data__,n=ju(t,e);return n<0?void 0:t[n][1]}function dN(e){return ju(this.__data__,e)>-1}function hN(e,t){var n=this.__data__,r=ju(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Mi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mi.prototype.clear=sN;Mi.prototype.delete=cN;Mi.prototype.get=fN;Mi.prototype.has=dN;Mi.prototype.set=hN;var pN=O0(yo,"Map");const Ig=pN;function mN(){this.size=0,this.__data__={hash:new Pa,map:new(Ig||Mi),string:new Pa}}function gN(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Hu(e,t){var n=e.__data__;return gN(t)?n[typeof t=="string"?"string":"hash"]:n.map}function yN(e){var t=Hu(this,e).delete(e);return this.size-=t?1:0,t}function _N(e){return Hu(this,e).get(e)}function TN(e){return Hu(this,e).has(e)}function vN(e,t){var n=Hu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function _o(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_o.prototype.clear=mN;_o.prototype.delete=yN;_o.prototype.get=_N;_o.prototype.has=TN;_o.prototype.set=vN;var EN=qM(Object.getPrototypeOf,Object);const wg=EN;var bN="[object Object]",AN=Function.prototype,SN=Object.prototype,Rg=AN.toString,IN=SN.hasOwnProperty,wN=Rg.call(Object);function RN(e){if(!hs(e)||Bu(e)!=bN)return!1;var t=wg(e);if(t===null)return!0;var n=IN.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Rg.call(n)==wN}function CN(){this.__data__=new Mi,this.size=0}function MN(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function NN(e){return this.__data__.get(e)}function ON(e){return this.__data__.has(e)}var DN=200;function PN(e,t){var n=this.__data__;if(n instanceof Mi){var r=n.__data__;if(!Ig||r.length<DN-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _o(r)}return n.set(e,t),this.size=n.size,this}function To(e){var t=this.__data__=new Mi(e);this.size=t.size}To.prototype.clear=CN;To.prototype.delete=MN;To.prototype.get=NN;To.prototype.has=ON;To.prototype.set=PN;var Cg=typeof Br=="object"&&Br&&!Br.nodeType&&Br,vh=Cg&&typeof xr=="object"&&xr&&!xr.nodeType&&xr,LN=vh&&vh.exports===Cg,Eh=LN?yo.Buffer:void 0,bh=Eh?Eh.allocUnsafe:void 0;function xN(e,t){if(t)return e.slice();var n=e.length,r=bh?bh(n):new e.constructor(n);return e.copy(r),r}var FN=yo.Uint8Array;const Ah=FN;function kN(e){var t=new e.constructor(e.byteLength);return new Ah(t).set(new Ah(e)),t}function UN(e,t){var n=t?kN(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function BN(e){return typeof e.constructor=="function"&&!_g(e)?DC(wg(e)):{}}function GN(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),l=u.length;l--;){var f=u[e?l:++i];if(n(o[f],f,o)===!1)break}return t}}var jN=GN();const HN=jN;function lc(e,t,n){(n!==void 0&&!Gu(e[t],n)||n===void 0&&!(t in e))&&D0(e,t,n)}function VN(e){return hs(e)&&P0(e)}function cc(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function qN(e){return XC(e,Sg(e))}function YN(e,t,n,r,i,o,u){var l=cc(e,n),f=cc(t,n),d=u.get(f);if(d){lc(e,n,d);return}var m=o?o(l,f,n+"",e,t,u):void 0,c=m===void 0;if(c){var p=sc(f),T=!p&&Eg(f),g=!p&&!T&&Ag(f);m=f,p||T||g?sc(l)?m=l:VN(l)?m=LC(l):T?(c=!1,m=xN(f,!0)):g?(c=!1,m=UN(f,!0)):m=[]:RN(f)||uc(f)?(m=l,uc(l)?m=qN(l):(!Ba(l)||N0(l))&&(m=BN(f))):c=!1}c&&(u.set(f,m),i(m,f,r,o,u),u.delete(f)),lc(e,n,m)}function Mg(e,t,n,r,i){e!==t&&HN(t,function(o,u){if(i||(i=new To),Ba(o))YN(e,t,u,n,Mg,r,i);else{var l=r?r(cc(e,u),o,u+"",e,t,i):void 0;l===void 0&&(l=o),lc(e,u,l)}},Sg)}var $N=tM(function(e,t,n){Mg(e,t,n)});const Sh=$N;class WN{constructor(){Cn(this,"description","Checking Memory...")}async check(t){const n=navigator.deviceMemory||0,r=n===0,i=r||n>=4;let o="",u="";return r?(o="WARNING: Cannot detect your computer memory size. ",u="This assessment performs best with 8 GB of RAM, and we are unable to determine how much memory your computer has. Please ensure that you have at least 4 GB RAM before taking the assessment, or else your computer may not be able to run it. "):i||(o="Your computer does not have enough memory",u="This assessment performs best with 8 GB of RAM, and your computer seems to have below 4 GB RAM. Unfortunately, that is not enough to run the assessment. You will have to use another machine with more memory, if possible. If that is not possible, please contact your recruiter to let them know you do not have access to a computer that can run the assessment."),{name:"memory",passed:i,warning:r,explanation:o,resolution:u,icon:"/assets/icon-switch-device.png",analytics:{system:{memory:{passed:i,size:n}}}}}}class zN{constructor(){Cn(this,"description","Checking Browser...")}async check(t){var g;const n=R0.parse(window.navigator.userAgent);let i=n.browser.name==="Chrome"&&parseInt(n.browser.version.split(".")[0])>=70;const o=n.platform.type==="desktop",u=n.os.name==="Windows",l=!u||/x64/.test(navigator.userAgent),f=!u||/x64|WOW64/.test(navigator.userAgent),d=n.os.name==="macOS"&&((g=n.os.version)==null?void 0:g.startsWith("10.13"));var m=i&&o&&l&&!d;const c={system:{browser:{passed:m,agent:navigator.userAgent,...n.browser}}};let p="",T="";return o?i?d?(p="Unsupported MacOS",T="The version of your operating system is unable to support this assessment.<br/> Please update the operating system before continuing."):u&&!l&&(f?(p="Upgrade Chrome",T='Please download, install, and use the latest 64bit version of Google Chrome <a href="https://www.google.com/chrome/" target="_blank">here</a>'):(p="Unsupported 32bit OS",T="Please try another machine that supports 64bit Chrome, otherwise you may have to contact your recruiter to make alternative arrangements.")):(p="Upgrade Chrome",T='Please download, install, and use the latest version of Google Chrome <a href="https://www.google.com/chrome/" target="_blank">here</a>'):(p="Switch to a Desktop",T="Mobile devices are not supported for this assessment."),{name:"browser",passed:m,explanation:p,resolution:T,icon:"/assets/icon-chrome.png",analytics:c}}}class KN{constructor(){Cn(this,"description","Checking OS...")}async check(t){const n=R0.parse(window.navigator.userAgent),r=t.assessment.task_platforms.indexOf("roblox")<0||n.os.name==="Windows"||n.os.name==="macOS",i="This assessment requires a Windows or Mac operating system",o={system:{os:{passed:r,...n.os}}};return{name:"os",passed:r,warning:!1,explanation:i,icon:"/assets/icon-switch-device.png",analytics:o}}}const XN=1200,QN=700;class ZN{constructor(){Cn(this,"description","Checking Screen...")}async check(t){const n=screen.width>=XN&&screen.height>=QN,r={system:{screen:{passed:n,width:screen.width,height:screen.height}}};return{name:"screen",passed:n,explanation:"Screen too small",resolution:"Please try a different computer that has a larger screen.",analytics:r,icon:"/assets/icon-fail-screen-size.png"}}}const JN=200,eO={id:0,class:"game_server.Command_Echo"},Ih=10;class tO{constructor(){Cn(this,"description","Checking Network Latency...");Cn(this,"resolution","You may be located too far from our servers to run this assessment successfully. Please switch off any VPNs or proxies, restart your network connection and re-run the test.")}async check(t){return new Promise(n=>{window.WebSocket||n({name:"ping",passed:!1,explanation:"Not Supported",resolution:"Please try a different browser",analytics:{network:{ping:{passed:!1,finished:!1}}}});const r=new WebSocket(`${Ql("gs",!1,"wss")}/ws`);let i=0,o=0,u=[];const l=()=>{i=new Date().getTime(),r.send(JSON.stringify(eO)),o++};r.onmessage=d=>{const m=new Date().getTime()-i;if(u.push(m),o===Ih){u.sort((T,g)=>T-g);const c=u[Ih/2];r.close();let p={};fetch(`${Ql("gs",!1)}/ping`,{method:"GET",cache:"no-store"}).then(T=>T.json()).then(T=>{p=T}).catch(()=>{}).then(()=>{const T=c<=JN,g={network:{ping:{passed:T,finished:!0,time:c,response:p}}};n({name:"ping",passed:T,explanation:`${c}ms`,analytics:g,resolution:this.resolution})})}else l()},r.onopen=l;var f=1e4;setTimeout(()=>{r.close(),n({name:"ping",passed:!1,explanation:"Server Unreachable",resolution:this.resolution,analytics:{network:{ping:{passed:!1,finished:!1}}},icon:"/assets/icon-stable-wifi.png"})},f)})}}const nO=2;class rO{constructor(){Cn(this,"description","Checking Network Speed...")}async check(t){const n=new Date().getTime(),[r,i]=await this.download("/download-test.bin"),l=(new Date().getTime()-n)/1e3,m=r*8/1048576/l,c=Math.round(m*100)/100,p=c>=nO;return{name:"download",passed:p,explanation:"Download Failed",resolution:"Your internet speeds may not be strong enough to run this assessment successfully. Please close any other browser tabs or windows, pause any downloads or uploads, close down other devices that are sharing your network bandwidth, and re-run the test.",analytics:{network:{download:{passed:p,finished:i,speed:c}}},icon:"/assets/icon-stable-wifi.png"}}async download(t){return new Promise((n,r)=>{const i=new XMLHttpRequest;t=t+"?"+new Date().getTime(),i.open("GET",t,!0);let o=0;i.onprogress=function(u){o=u.loaded},i.onload=function(){i.readyState===4&&n([o,!0])},i.send(null),setTimeout(()=>{n([o,!1])},15e3)})}}class iO{constructor(){Cn(this,"description","Checking WebGL...")}async check(t){let n=!0;const r={};try{const u=document.createElement("canvas").getContext("webgl2");if(u){Object.assign(r,aO(u));const l=[{param:u.MAX_3D_TEXTURE_SIZE,min:256},{param:u.MAX_DRAW_BUFFERS,min:4},{param:u.MAX_COLOR_ATTACHMENTS,min:4},{param:u.MAX_VERTEX_UNIFORM_BLOCKS,min:12},{param:u.MAX_VERTEX_TEXTURE_IMAGE_UNITS,min:16},{param:u.MAX_FRAGMENT_INPUT_COMPONENTS,min:60},{param:u.MAX_UNIFORM_BUFFER_BINDINGS,min:24},{param:u.MAX_COMBINED_UNIFORM_BLOCKS,min:24}];let f={};for(let d of l){let m=u.getParameter(d.param);(typeof m!="number"||Number.isNaN(m)||m<d.min)&&(f[d.param.toString()]=m,n=!1)}n||(r.failedChecks=f)}}catch{}return{name:"webgl",passed:n,explanation:"Unsupported Graphics",resolution:"This assessment requires WebGL2, but WebGL2 is currently not supported by your browser. Please make sure that hardware acceleration is enabled for your browser. Sometimes this is the result of older video drivers being rejected by the browser. Try updating your video drivers if possible.",icon:"/assets/icon-chrome.png",analytics:{system:{webgl:r}}}}}function aO(e){var t={renderer:"",vendor:""};try{var n=e.getExtension("WEBGL_debug_renderer_info");n!=null&&(t.renderer=e.getParameter(n.UNMASKED_RENDERER_WEBGL),t.vendor=e.getParameter(n.UNMASKED_VENDOR_WEBGL))}catch{}return t}class oO{constructor(){Cn(this,"width",16);Cn(this,"height",16);Cn(this,"description","Checking Graphics Performance...");Cn(this,"startTime",0);Cn(this,"endTime",0);Cn(this,"currentTime",0);Cn(this,"previousTime",0);Cn(this,"slowCount",0);Cn(this,"draws",0);Cn(this,"ctx",null);Cn(this,"img",null)}async check(t,n){this.img=document.createElement("img"),this.img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHC0lEQVR4nO1bW6hVRRj+9jnmLTPrTGlqORImFZlZFuGFLIjEiqICu0AvUdRDl5dGonooiDMPRT1UEPRa0FNIED4UlBJUFqKEZtIZyi7mKKZp6nHvFXP4l42z/1mXvffae586Hwx7rXXWmjX/t775/38uBxOYwATyUOslQws3HLgawHl0emhkeGhbL9vTFTKksgsArAKwularrXaXAAxQGfRuNQDu7hUplZEhlV0C4AlHAIAF3rtqDhEyHA4BuGZkeMhU1bYYJnW6QqnsSgDPkRLgkZAUJH8WgKcAPNPptuWhY2RIZdcBGAZwSQcUt7RDzSqFtsmQyp4L4E0A60j2KZKIKpLgt28w0E5DpLJrAXwLYC0ZyRmaZXTsbz1xoC0rQyr7MoDH6IsnwW+KvHMOzoG+0Y5RraIlZUhlXwfwiKeGsID56qfPkyQqFhdB1vQikqAVZUhlXwNwHxnX8AgNSYgpxH35HQA207XN6fVeJ12lyJDKvuoRkSIkISTDnf8M4C1nuNFie0daXgEKkyGVfQHAvYz8U3VwpGwB8LbR4qNuG7ZwwwGkH2RkeKhQ5CqUD0hlbwDwPt2fZo815jzNKg8DeN5o8V6bNrUEImLAc+qNkeGh3KpylSGVnUkSb3jGwzMenjrc78cAnjRa/NllDsbAEFGjlL+e92yRaPIKgBlkaMNznElwzZV3jBYP95CI1HD/g41dk8rmfvhMMqSydwG4mSGiwRDxtNHixY5ZVhJERGrP6S6bJMlgkiTueJJUNtMt5LH1eKR7+McO7xotPuiW4SE8RSS+P6N8xifA3XMqVk9UGVLZOwHMCVRQZ5SxyWjxUoW2FkEaLQaIhLHCfMCzstSR1U3uYAwPiXG+4dmums2AIkWdukWWiscIidXDkiGVvRbAsgwS0mNltDhcvbn5cLlEkiSNIOSDSQEmxyqLKWNdAVV8abT4pAd2ZyH1BzWGhNO5kFSWVUeMjFU5ZDQo9+grGC3SaOcTwBVWHU3RRCq7CMDZ9PVjcvvBaLG138ggjJKxfpgNo98UAEfDBzllLC2gio1VWtMOPHVkKWOAS8K4PGMlVQaG0ZTlz/qOhTNR93wEIr+Tw5yDI2OJR0ZYkSt7jBa/VW1NmxgNBpOhHeBCLNdNYqG0TuX7frTeh9Ei7SaDwa8/um4i4wxlSGVnM10kPO53VaSoe/ZxtjRlomE3mR3pIv55T6fmSiAJVutCW6aHVXE+o8Fc8yvsu/WOCBrM0qWPXGVcmEMGxhEZtZyxVxNCMvYFi0HjGW2T4c9icV1iPBE1zZvj4HA8vBYyN5IxMEtD7JVdMaV9TPLC6iCThTaRdAYZRoujORM57poYJ2Sck5GOs4GAiyZHaKAWWyi6vLr2dwZS2WnM1/dtcGScCF/GOZgRz29wXeZ8qewFfcwFSBWx7pGWpqjJkfFVgRmuZd2xqWWIjO6RHh8JK+fI+DqyNuKXW/uVBansdFrnyRrCHzdanAyfbSLDaLGf8o2s+QzXVRZ3zcJyuChvLoOb2EFGUrI1slDkn6/vE+NPQyo7hcZX3NynvyZ8kHs+RsbnOcuI7ni+VPaW6k0shcUZPiIto0aLY1ylLBlGi58A7AwI4fzH7VLZ/OXtLkAqO5+2Teap4kCsNVm5+4eR7uGXqQAe7QMiXChdyKgiJMI5zd9j9UTJMFrs8tQRU4Yr86SyD1VmaQ5oYncJzWmG6yXhXpK9Rovya62EjRFFhGW5VPaB7tIwRoSburueJmpiayUpESeNFn9k1ZdJhtHCzXd+kdFNfJ/iCFlPqXDloE00KwDMZLoFV37Ma1OR8b7banCM8R1chLnO7Q2Vys6tkgyp7MUAbqQxVGxrlV8OGi2ijjNF0T1dV5OjzOoqPkmOvC2dXoul7PIqb6tEGO24879dVp3lK1IUIoMacg+Am3KICElxyc2nzhEbLZomU0q82yngCtqkzyk01ia3fvKN0eKvIu8pTAY16kFyWEXJ8JXiItMuo8Xugu+aQdnkPABzmYy4CBnbaHhRCKXIoEa6qLE8p5tkDfTqFOsPBXOu6f1zKDpMZ0bMWe8Jyw6jxS9lbCtNBhFyPznLLGXE8hJuFq2ecz2mCo4Ml1htN1rsK2tXSxvpjRZug+ymYIKYO04y7uHALVqVKadoE01pItCqMlJIZS+lveSzcnxHXuEUkFU4VfxKPmK0VXvaIgP/zjeuoP2iRbtJ0gIBXF6T0NzEThpctoW2yfBIcf+fusb952EkMYsZxikjYZxm+IzzDd8ZLfZ0yoaOkZFCKuu6zG00t1CUFM7Y2PUTtC1idztdgkPHyUghlZ1KhFwGYFEBg7NIcNsrXTfYZ7TYW1WbKyMjBG2ccwvb88nAGTSlH5Kxn5b+nAKsI8FowU7T/SchlR0vq3QTmMD/GgD+AeeujL2e/1CMAAAAAElFTkSuQmCC";const r=n.childNodes[0];this.width=r.clientWidth,this.height=r.clientHeight,r.style.display="none";let i=document.createElement("canvas");i.style.margin="0px 5px",i.setAttribute("width",`${this.width}px`),i.setAttribute("height",`${this.height}px`),n.appendChild(i),this.ctx=i.getContext("2d"),await this.runTest(),n.removeChild(i),r.style.display="inline";let o=0;const u=this.endTime!=null;if(u){const d=u?(this.endTime-this.startTime)/1e3:0;o=u?this.draws/d:0}const l=o>30;return{name:"graphics",passed:l,explanation:"WebGL Failed",resolution:'Please check your browser settings to make sure hardware acceleration is enabled, and update your video driver if possible.<br/><br/>Click <a href="https://support.at.robloxlabs.com/hc/en-us/articles/6768605527575-What-if-I-cannot-pass-the-Tech-Check-before-starting-my-assessment-">here</a> for help',analytics:{system:{graphics:{passed:l,rate:o}}},icon:"/assets/icon-chrome.png"}}async runTest(){return this.draws=1,this.startTime=window.performance.now(),this.previousTime=this.startTime,this.currentTime=this.startTime,this.slowCount=0,this.requestFrame(),new Promise(t=>{const n=()=>{if(this.endTime||this.getTotalDuration()>60){t();return}setTimeout(n,500)};setTimeout(n,500)})}requestFrame(){return requestAnimationFrame(()=>{if(this.previousTime=this.currentTime,this.currentTime=window.performance.now(),this.getLastDrawSuccess()||this.previousTime===this.startTime)this.draws++;else if(this.slowCount<10)this.slowCount++;else{this.endTime=window.performance.now();return}this.draw(this.draws*10),this.requestFrame()}),this}draw(t){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.save(),this.ctx.translate(this.width/2,this.height/2);for(let n=0;n<t;n++)this.ctx.clearRect(-this.width/2,-this.width/2,this.width,this.height),this.ctx.drawImage(this.img,-this.width/2,-this.width/2,this.width,this.height),this.ctx.rotate(.01);this.ctx.restore()}getLastDrawDuration(){return(this.currentTime-this.previousTime)/1e3}getLastDrawSuccess(){return 1/this.getLastDrawDuration()>=30}getTotalDuration(){return(this.currentTime-this.startTime)/1e3}}const sO=nn({components:{Button:nr,Loading:ku},setup(){var l;const e=Nr(),t=Kn(Xr);t.currentPage=5,t.showBackground=!t.assessment.task_platforms.includes("web");const n=[new KN,new ZN],r=(new URL(document.location.href).searchParams.get("ignore")||"").split(",");(l=t.assessment)!=null&&l.task_platforms.includes("web")&&n.push(new WN,new zN,new tO,new rO,new iO,new oO);const i=jt("");let o=null;return xa(async()=>{const f={};r&&Sh(f,{ignore:r});const d=[];for(const c of n){i.value=c.description,await new Promise(T=>setTimeout(T,500));const p=await c.check(t,o);!p.passed&&!r.includes(p.name)&&d.push(p),Sh(f,p.analytics)}t.failedChecks=d;const m=d.length==0;try{t.api.sendAnalytics(m,f)}catch{}m?e.push("/device/ready"):e.push("/tech-check/fail"),t.showBackground=!0}),{description:i,onSpinnerMounted:f=>{o=f}}}}),uO={class:"content-wide"},lO=Je("h1",{class:"text-heading-large"},"Running tech check",-1);function cO(e,t,n,r,i,o){const u=Kt("Loading");return dt(),_t("div",uO,[lO,Ft(u,{onSpinnerMounted:e.onSpinnerMounted},{default:qt(()=>[Lt(Wt(e.description),1)]),_:1},8,["onSpinnerMounted"])])}const fO=cn(sO,[["render",cO]]),dO=nn({components:{Button:nr},setup(){const e=Nr(),t=Kn(Xr);t.currentPage=5;const n=[];for(let i of t.failedChecks)n.push({url:i.icon,title:i.explanation,body:i.resolution});return{cards:n,restart:()=>{e.push("/tech-check/test")}}}}),Ng=e=>(fr("data-v-23c6971c"),e=e(),dr(),e),hO={class:"content-wide"},pO=Ng(()=>Je("h1",{class:"text-heading-large"},"Your device isn't ready yet",-1)),mO=Ng(()=>Je("p",{class:"text-body"}," Please follow the recommendations below and try again. If the problem persists, please try taking the assessment on a different computer and/or internet connection. ",-1)),gO={class:"card"},yO={class:"img-container"},_O=["src"],TO={class:"headline"},vO=["innerHTML"],EO={style:{clear:"both"}};function bO(e,t,n,r,i,o){const u=Kt("Button");return dt(),_t("div",hO,[pO,mO,(dt(!0),_t(xn,null,zr(e.cards,(l,f)=>(dt(),_t("div",{key:f},[Je("div",gO,[Je("div",yO,[Je("img",{src:l.url},null,8,_O)]),Je("div",TO,Wt(l.title),1),Je("p",{innerHTML:l.body},null,8,vO)])]))),128)),Je("div",EO,[Ft(u,{onClick:e.restart},{default:qt(()=>[Lt("Re-Run Tech Check")]),_:1},8,["onClick"])])])}const AO=cn(dO,[["render",bO],["__scopeId","data-v-23c6971c"]]),SO=nn({components:{Button:nr},setup(){const e=Nr(),t=Ci();t.currentPage=6;const n=()=>{e.push("/tech-check/prepare")},r=()=>{e.push("/scheduled/bye")},i=t.assessment.can_start,o=n0(t);return{startingWindowOpen:i,startingWindow:o,check:n,finish:r}}}),IO=e=>(fr("data-v-61ab6664"),e=e(),dr(),e),wO={class:"content"},RO=IO(()=>Je("h1",{class:"text-heading-large"},"See you later!",-1)),CO={key:0,class:"text-body"},MO={key:1,class:"text-body"};function NO(e,t,n,r,i,o){const u=Kt("router-link");return dt(),_t("div",wO,[RO,e.startingWindowOpen?(dt(),_t("p",CO," Please return on the laptop or desktop computer you intend to use for the assessment. We've saved all your data, so you can pick up where you left off. ")):(dt(),_t("p",MO,[Lt(" Your assessment can be accessed anytime between "),Ft(u,{to:"/schedule/edit"},{default:qt(()=>[Lt(Wt(e.startingWindow),1)]),_:1}),Lt(". Please return at this time on the laptop or desktop computer you intend to use. ")]))])}const OO=cn(SO,[["render",NO],["__scopeId","data-v-61ab6664"]]),DO=nn({components:{Button:nr,Loading:ku,Container:s0},setup(){const e=Ci(),t=Nr();e.progressVisible=!1;const n=jt(!1),r=jt("none"),i=jt(null),o=jt(""),u=jt(!1),l=jt(e.assessment),f=jt(e.roblox),d=async T=>{try{T&&(e.assessment=await e.api.getAssessment())}catch(g){if(g.error=="completed"){e.assessment=void 0,e.user=await e.api.getUser(),t.push("/assessments");return}else window.location.reload()}r.value="none",i.value=null},m=async T=>{T.finished_at||T.locked||(i.value=T)},c=async()=>{if(!await Wl(e)){t.push({name:"Schedule",params:{mode:"auto",next:"/device/ready"}});return}const T=i.value;try{const g=await e.api.startTaskGroup(T.name);r.value="inprogress",u.value=!1,setTimeout(()=>{u.value=!0},2e3),setTimeout(()=>{open(g.url,"rbx-assessment")},1e3)}catch(g){r.value="error_"+g.error}},p=Nn(()=>{const T=[];if(!e.assessment)return T;for(const g of e.assessment.task_groups){const D=g.description==="Coding Skills Assessment"&&e.assessment.assessment_name==="Data Science Assessment",v={name:g.name,description:g.description,icon:g.icon,duration:D?90:g.duration,finished_at:g.finished_at,locked:e.assessment.task_group_inprogress!==null&&g.name!==e.assessment.task_group_inprogress,started:e.assessment.task_group_inprogress===g.name};T.push(v)}return T});return{state:e,assessment:l,roblox:f,assessmentCompleted:n,taskGroups:p,hoverTask:o,selectedTaskGroup:i,selectedTaskGroupStatus:r,showReturnButton:u,openTaskGroup:m,startTaskGroup:c,returnToDashboard:d,formatDateTime:qs}}}),br=e=>(fr("data-v-65899387"),e=e(),dr(),e),PO={class:"content-full"},LO={key:0},xO=br(()=>Je("h1",{class:"text-heading-large"},"Assessment complete",-1)),FO=br(()=>Je("p",{class:"text-body"},"Thank you for completing these tasks. You may now close this window.",-1)),kO=[xO,FO],UO={key:1},BO={class:"text-heading-large"},GO={class:"text-body"},jO=br(()=>Je("p",{class:"text-body muted"},[Lt(" You can also play an "),Je("a",{href:"https://www.roblox.com/games/13977123257/Kaiju-Cats",target:"_blank"},"optional practice test"),Lt(" to familiarize yourself with how our assessments work. "),Je("br"),Lt(" The practice test can be played and replayed at any time. ")],-1)),HO={class:"task-groups"},VO={class:"task-description"},qO={class:"overline"},YO={key:0,class:"finished"},$O=["src"],WO={key:1},zO=["src"],KO={key:2,class:"started"},XO=["src"],QO={key:3},ZO=["src"],JO=br(()=>Je("div",{class:"gap"},null,-1)),e4={class:"headline"},t4={class:"subheading"},n4={key:0},r4=["onClick"],i4={key:0,class:"icon-start"},a4={key:1},o4={key:2},s4=br(()=>Je("p",null," This task is locked because another task is still active, or another task must be completed first. ",-1)),u4=br(()=>Je("p",null,"Please select an available task",-1)),l4=[s4,u4],c4={key:2,class:"overlay"},f4={class:"content"},d4={key:0},h4={class:"card card-overlay"},p4={style:{display:"flex"}},m4=br(()=>Je("h1",{class:"text-heading-large",style:{"flex-grow":"1"}},"Ready to start?",-1)),g4=["onClick"],y4={class:"body"},_4=br(()=>Je("p",{class:"warning"}," Once you start, you cannot take breaks until you have completed all task sections, including surveys. ",-1)),T4=br(()=>Je("p",null," Your task may be reset or closed if you are inactive for extended periods of time - even during tutorials, transitions and surveys. ",-1)),v4={style:{"font-weight":"var(--font-weight-bold)"}},E4={key:1},b4={class:"card card-overlay"},A4={style:{display:"flex"}},S4=br(()=>Je("h1",{class:"text-heading-large",style:{"flex-grow":"1"}},"Unable to start task",-1)),I4=["onClick"],w4={key:0,class:"body"},R4=br(()=>Je("p",null," This task cannot be started because it was closed early, either by you or by our system following an extended disconnection. All progress has been saved and scored. ",-1)),C4=br(()=>Je("p",null,[Lt(" Please visit our "),Je("a",{href:"https://support.at.robloxlabs.com",target:"_blank"}," assessment support center "),Lt(" to learn more. ")],-1)),M4=[R4,C4],N4={key:1,class:"body"},O4=br(()=>Je("p",null,[Lt(" This task cannot be started, please "),Je("a",{href:"https://support.at.robloxlabs.com",target:"_blank"},"contact support"),Lt(" get this corrected. ")],-1)),D4={key:2},P4=br(()=>Je("h1",{class:"text-heading-large"},"Task in progress",-1)),L4={key:0},x4=br(()=>Je("p",{class:"text-body"},"Please return after you finish.",-1)),F4=[x4],k4={key:1},U4=br(()=>Je("p",{class:"text-body"},"After you finish, use the button below to return to your tasks.",-1));function B4(e,t,n,r,i,o){const u=Kt("Button"),l=Kt("Container");return dt(),_t("div",PO,[e.assessmentCompleted?(dt(),_t("div",LO,kO)):(dt(),_t("div",UO,[Je("h1",BO,Wt(e.assessment.assessment_name),1),Je("p",GO," There are "+Wt(e.taskGroups.length)+" tasks to complete by "+Wt(e.formatDateTime(e.assessment.end_date,"datetime"))+". ",1),jO])),Je("div",HO,[(dt(!0),_t(xn,null,zr(e.taskGroups,f=>(dt(),_t("div",{class:lr(["card task-group",{selectable:!f.locked&&!f.finished_at}]),key:f.name},[Je("div",VO,[Je("div",qO,[f.finished_at?(dt(),_t("div",YO,[Je("img",{src:"/assets/icon-task-completed.png"},null,8,$O),Lt("COMPLETE ")])):f.locked?(dt(),_t("div",WO,[Je("img",{src:"/assets/icon-task-locked.png"},null,8,zO),Lt("LOCKED")])):f.started?(dt(),_t("div",KO,[Je("img",{src:"/assets/icon-task-started.png"},null,8,XO),Lt("STARTED ")])):(dt(),_t("div",QO,[Je("img",{src:"/assets/icon-task-"+(f.icon||"roblox")+".png"},null,8,ZO),Lt(Wt(f.description||"COGNITIVE SKILLS"),1)]))]),JO,Je("div",e4,Wt(f.name),1),Je("div",t4,[f.duration>0?(dt(),_t("span",n4,"About "+Wt(f.duration)+" minutes",1)):Hn("",!0)])]),Je("div",{class:"task-overlay",onClick:()=>{e.openTaskGroup(f)}},[!f.locked&&!f.finished_at?(dt(),_t("div",i4)):f.finished_at?(dt(),_t("div",a4,[Je("p",null,"This task was completed on "+Wt(e.formatDateTime(f.finished_at,"date")),1)])):f.locked?(dt(),_t("div",o4,l4)):Hn("",!0)],8,r4)],2))),128))]),e.selectedTaskGroup?(dt(),_t("div",c4,[Ft(l,null,{default:qt(()=>[Je("div",f4,[e.selectedTaskGroupStatus=="none"?(dt(),_t("div",d4,[Je("div",h4,[Je("div",p4,[m4,Je("div",{class:"task-close",onClick:()=>e.returnToDashboard(!1)},"",8,g4)]),Je("div",y4,[_4,T4,Je("p",null,[Lt(" Before you start, ensure the Roblox app is installed and logged in with username "),Je("span",v4,Wt(e.roblox.name),1)])]),Je("div",null,[Ft(u,{onClick:e.startTaskGroup},{default:qt(()=>[Lt("Yes, Start this Task")]),_:1},8,["onClick"])])])])):e.selectedTaskGroupStatus.startsWith("error_")?(dt(),_t("div",E4,[Je("div",b4,[Je("div",A4,[S4,Je("div",{class:"task-close",onClick:()=>e.returnToDashboard(!0)},"",8,I4)]),e.selectedTaskGroupStatus=="error_unavailable"?(dt(),_t("div",w4,M4)):(dt(),_t("div",N4)),Je("div",null,[O4,Ft(u,{onClick:()=>e.returnToDashboard(!0)},{default:qt(()=>[Lt("Return to Dashboard")]),_:1},8,["onClick"])])])])):e.selectedTaskGroupStatus=="inprogress"?(dt(),_t("div",D4,[P4,e.showReturnButton?(dt(),_t("div",k4,[U4,Ft(u,{onClick:()=>e.returnToDashboard(!0)},{default:qt(()=>[Lt("Return to Task Dashboard")]),_:1},8,["onClick"])])):(dt(),_t("div",L4,F4))])):Hn("",!0)])]),_:1})])):Hn("",!0)])}const G4=cn(DO,[["render",B4],["__scopeId","data-v-65899387"]]),j4=[{path:"/",name:"Init",component:R3},{path:"/intro",name:"Intro",component:k2},{path:"/welcome",name:"Welcome",component:k3},{path:"/assessments",name:"Assessments",component:w2},{path:"/terms/rules",name:"Terms Rules",component:W2},{path:"/terms/full",name:"Terms Full",component:cw},{path:"/schedule/:mode",name:"Schedule",component:Ow},{path:"/tech-check/prepare",name:"Tech Check Prepare",component:JR},{path:"/tech-check/test",name:"Tech Check Test",component:fO},{path:"/tech-check/fail",name:"Tech Check Fail",component:AO},{path:"/device/check",name:"Device Check",component:NR},{path:"/device/ready",name:"Device Ready",component:jR},{path:"/device/bye",name:"Scheduled Bye",component:OO},{path:"/roblox-account/:mode",name:"RobloxAccount",component:_R},{path:"/task-dashboard",name:"TaskDashboard",component:G4},{path:"/error/state",name:"StateError",component:Ha,props:{heading:"Internal Error.",body:'<p>Please refresh your browser. If this problem persists, please visit our <a href="https://support.at.robloxlabs.com">assessment support center</a> for further help.</p>'}},{path:"/error/server",name:"ServerError",component:Ha,props:{heading:"Unable to connect to server.",body:'<p>Please refresh your browser. If this problem persists, please visit our <a href="https://support.at.robloxlabs.com">assessment support center</a> for further help.</p>'}},{path:"/error/token-invalid",name:"InvalidToken",component:Ha,props:{heading:"Your Roblox assessment link is invalid.",body:`<p>Your link doesn't match our list of valid assessment links.</p><p>Please visit our <a href="https://support.at.robloxlabs.com">assessment support center</a> for further help.`}},{path:"/error/assessment-completed",name:"AssessmentCompleteError",component:Ha,props:{heading:"Your Roblox assessment has already been completed.",body:'<p>Our records indicate this assessment was completed at a prior time.<p><p>If this is a mistake, please visit our <a href="https://support.at.robloxlabs.com">assessment support center</a> for further help.</p>'}},{path:"/error/assessment-expired",name:"AssessmentExpiredError",component:Ha,props:{heading:"Your Roblox assessment has expired.",body:'<p>Roblox assessments must be completed within fourteen calendar days of receiving the invitation. Please visit our <a href="https://support.at.robloxlabs.com">assessment support center</a> for further information.</p>'}},{path:"/error/desktop-required",name:"MobileError",component:Ha,props:{imageUrl:"/assets/icon-desktop-required.png",heading:"Incompatible device",body:"<p>The Roblox assessment cannot be set up or completed on a mobile device at this time. Please switch to a desktop or laptop computer.</p>"}}],H4=ob({routes:j4,history:b1()}),L0=sv(sS);window.location.hostname.indexOf("localhost")<0&&o3({app:L0,dsn:"https://079c38018c654945b596d4d6c1332f6d@sentry.ops.imbellus2.com/16"});L0.use(H4);L0.mount("#app")});export default V4();
